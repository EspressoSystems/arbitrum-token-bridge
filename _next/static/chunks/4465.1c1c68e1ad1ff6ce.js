(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4465],{26869:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return l3}});var r,n,s,i,o,l,d,c,u,h,m,p,f,x,b,C,y,g,w,v,A,j,T,N,k,E,I,S,D,L,M,R,P,_,O,B,U,F,G,H,W,Z,Y,z={};a.r(z),a.d(z,{reset:function(){return eL},setArbTokenBridge:function(){return e_},setArbTokenBridgeLoaded:function(){return eP},setChainIds:function(){return eS},setConnectionState:function(){return eI},setSelectedToken:function(){return eD},setWarningTokens:function(){return eM},setWhitelistState:function(){return eR}});var X=a(52322),V=a(2784),q=a(92642),J=a(69702),K=a(37948),Q=a(10501),$=a(36166),ee=a(90162),et=a(6726),ea=a(11595),er=a(53111),en=a(63873);function es(e){let{children:t,href:a,...r}=e;return a?(0,X.jsx)("a",{target:"_blank",href:a,rel:"noopener noreferrer",...r,children:t}):t}var ei=a(62529),eo=a(81382),el=a(20324),ed=a(60949),ec=a(58988);let eu=(0,V.forwardRef)((e,t)=>{var a;let{variant:r,loading:n,loadingProps:s,disabled:i,className:o,children:l,...d}=e,[c,u]=(0,V.useState)(!1),h=null===(a=d.truncate)||void 0===a||a;return(0,X.jsxs)("button",{ref:t,type:"button",disabled:i,className:(0,el.m6)("arb-hover relative w-max rounded border bg-dark p-2 text-sm","text-white disabled:cursor-not-allowed disabled:border disabled:border-white/10 disabled:bg-white/10 disabled:text-white/50",function(e){switch(e){case"primary":return"border-dark";case"secondary":return"hover:(not:disabled):opacity-70 active:(not:disabled):opacity-80";case"tertiary":return"bg-transparent border-transparent text-white"}}(r),o),onMouseEnter:()=>u(!0),onMouseLeave:()=>u(!1),...d,children:[(0,X.jsxs)("div",{className:(0,el.m6)("flex flex-row items-center space-x-3",d.textLeft?"justify-start":"justify-center",d.showArrow&&"pr-4"),children:[(n||!1)&&(0,X.jsx)(ec.a,{color:(null==s?void 0:s.loaderColor)||"white",size:(null==s?void 0:s.loaderSize)||"small"}),(0,X.jsx)("span",{className:(0,el.m6)(h&&"truncate"),children:l})]}),d.showArrow&&(0,X.jsx)(ed.Z,{className:(0,el.m6)("absolute right-3 top-[50%] translate-y-[-50%] transition-transform duration-300",c&&"translate-x-[3px]"),width:16})]})});function eh(e){let{error:t,originFunction:a,additionalData:r}=e;q.e(function(e){e.setTag("origin function",a),r&&e.setTags(r),q.Tb(t,()=>e)})}function em(){let[,e]=(0,er._)(eo.Yc,!1),{openConnectModal:t}=(0,Q.We)(),a=(0,V.useCallback)(()=>{e(!0);try{null==t||t()}catch(e){(0,ei.Jc)("Failed to open up RainbowKit Connect Modal"),eh({error:e,originFunction:"WelcomeDialog closeHandler"})}},[t,e]);return(0,X.jsxs)("div",{className:"mx-4 my-16 max-w-[380px] overflow-hidden rounded border border-gray-dark bg-gray-1 pt-3 text-white sm:mx-auto",children:[(0,X.jsx)("p",{className:"px-4 text-xl",children:"Welcome"}),(0,X.jsxs)("div",{className:"flex flex-col gap-3 p-4",children:[(0,X.jsxs)("div",{className:"flex flex-col gap-1 rounded bg-white/10 p-3 text-sm",children:[(0,X.jsx)("p",{className:"font-medium",children:"Safety Tip"}),(0,X.jsx)("p",{children:"NEVER share your seed phrase or private keys."})]}),(0,X.jsxs)("p",{className:"text-sm",children:["Click the button below to agree to our"," ",(0,X.jsx)(es,{href:"https://arbitrum.io/tos",className:"arb-hover underline",children:"Terms of Service"}),"."]})]}),(0,X.jsx)("div",{className:"flex flex-row justify-end space-x-2 bg-[#3B3B3B] px-4 py-2",children:(0,X.jsx)(eu,{variant:"primary",onClick:a,"aria-label":"Agree to Terms and Continue",children:"Agree to Terms and Continue"})})]})}eu.displayName="Button";var ep=a(68446),ef=a(49442),ex=a(15198),eb=a(85116);function eC(e){var t,a;let r=(0,V.useRef)(),[n,s]=(0,V.useState)(null!==(t=null==e?void 0:e.defaultIsOpen)&&void 0!==t&&t),[i,o]=(0,V.useState)(null!==(a=null==e?void 0:e.defaultIsOpen)&&void 0!==a&&a),l=(0,V.useCallback)(()=>(s(!0),o(!0),()=>new Promise(e=>{r.current=e})),[]);return[{isOpen:n,onClose:(0,V.useCallback)((e,t)=>{void 0!==r.current&&r.current([e,t]),s(!1)},[])},l,{didOpen:i}]}function ey(e){var t;let a=e.isFooterHidden||!1,r=null===(t=e.closeable)||void 0===t||t,n=e.className||"",s=(0,V.useRef)(null),[i,o]=(0,V.useState)(!1),[l,d]=(0,V.useState)(!1),c=(0,V.useCallback)(e=>{(e||r)&&(d(e),o(!0))},[o,d,r]),u=(0,V.useCallback)(()=>{e.onClose(l),setTimeout(()=>{o(!1)},0)},[e,l,o]);return(0,X.jsx)(ef.u,{show:e.isOpen&&!i,as:V.Fragment,children:(0,X.jsxs)(ex.V,{as:"div",open:e.isOpen,initialFocus:e.initialFocus||s,onClose:()=>c(!1),className:"fixed inset-0 z-50 flex text-white md:items-center md:justify-center",children:[(0,X.jsx)(ef.u.Child,{as:V.Fragment,enter:"ease-out duration-400",enterFrom:"opacity-0",enterTo:"opacity-80",leave:"ease-in duration-200",leaveFrom:"opacity-80",leaveTo:"opacity-0",children:(0,X.jsx)("div",{className:"fixed inset-0 bg-black","aria-hidden":"true"})}),(0,X.jsx)(ef.u.Child,{as:V.Fragment,enter:"ease-out duration-400",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",afterLeave:u,children:(0,X.jsxs)(ex.V.Panel,{className:(0,el.m6)("z-10 max-h-screen w-screen overflow-y-auto border border-gray-dark bg-gray-1 md:max-w-[727px] md:rounded",n),children:[(0,X.jsxs)("div",{className:"flex items-start justify-between px-6 pt-4",children:[(0,X.jsx)(ex.V.Title,{className:"text-xl text-gray-2",children:e.title}),r&&(0,X.jsx)("button",{type:"button",onClick:()=>c(!1),children:(0,X.jsx)(eb.Z,{className:"arb-hover h-6 w-6 text-gray-7"})})]}),(0,X.jsx)("div",{className:"flex-grow px-6",children:e.children}),!a&&(0,X.jsxs)("div",{className:"flex flex-row justify-end space-x-2 bg-[#3B3B3B] px-6 py-2",children:[r&&(0,X.jsx)(eu,{ref:s,variant:"tertiary",onClick:()=>c(!1),"aria-label":"Dialog Cancel",className:"text-white",...e.cancelButtonProps||{},children:"Cancel"}),(0,X.jsx)(eu,{variant:"primary",onClick:()=>c(!0),...e.actionButtonProps||{},"aria-label":e.actionButtonTitle||"Dialog Continue",children:e.actionButtonTitle||"Continue"})]})]})})]})})}function eg(e){return(0,X.jsx)(ey,{...e,title:(0,X.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,X.jsx)(ep.Z,{height:25,width:25}),(0,X.jsx)("span",{children:"This wallet address is blocked"})]}),isFooterHidden:!0,children:(0,X.jsxs)("div",{className:"flex flex-col space-y-4 break-words py-4 text-gray-3",children:[(0,X.jsx)("span",{children:e.address.toLowerCase()}),(0,X.jsx)("span",{children:"This address is affiliated with a blocked activity."}),(0,X.jsxs)("span",{children:["If you think this was an error, you can request a review by filing a"," ",(0,X.jsx)(es,{href:eo.sR,className:"arb-hover text-white underline",children:"support ticket"}),"."]})]})})}(r=A||(A={}))[r.DEPOSITS=0]="DEPOSITS",r[r.WITHDRAWALS=1]="WITHDRAWALS",r[r.CCTP=2]="CCTP";let ew={layout:{isTransferPanelVisible:!0,isTransferring:!1,isTransactionHistoryPanelVisible:!1}},ev=(0,V.createContext)([ew,()=>{}]);function eA(e,t){switch(t.type){case"layout.set_is_transfer_panel_visible":return{...e,layout:{...e.layout,isTransferPanelVisible:t.payload}};case"layout.set_txhistory_panel_visible":return{...e,layout:{...e.layout,isTransactionHistoryPanelVisible:t.payload}};case"layout.set_is_transferring":return{...e,layout:{...e.layout,isTransferring:t.payload}};default:return e}}function ej(e){let{children:t}=e,[a,r]=(0,V.useReducer)(eA,ew);return(0,X.jsx)(ev.Provider,{value:[a,r],children:t})}function eT(){let[e]=(0,V.useContext)(ev);return e}let eN=e=>{let[,t]=(0,V.useContext)(ev),a=null!=e?e:t;return{setTransferring:e=>{a({type:"layout.set_is_transferring",payload:e})},openTransactionHistoryPanel:()=>{a({type:"layout.set_txhistory_panel_visible",payload:!0})},closeTransactionHistoryPanel:()=>{a({type:"layout.set_txhistory_panel_visible",payload:!1})}}};var ek=a(19679);(n=j||(j={}))[n.VERIFYING=0]="VERIFYING",n[n.ALLOWED=1]="ALLOWED",n[n.DISALLOWED=2]="DISALLOWED",(s=T||(T={}))[s.L1_PENDING=1]="L1_PENDING",s[s.L1_FAILURE=2]="L1_FAILURE",s[s.L2_PENDING=3]="L2_PENDING",s[s.L2_SUCCESS=4]="L2_SUCCESS",s[s.L2_FAILURE=5]="L2_FAILURE",s[s.CREATION_FAILED=6]="CREATION_FAILED",s[s.EXPIRED=7]="EXPIRED",s[s.CCTP_DEFAULT_STATE=8]="CCTP_DEFAULT_STATE",(i=N||(N={})).EXECUTED="Executed",i.UNCONFIRMED="Unconfirmed",i.CONFIRMED="Confirmed",i.EXPIRED="Expired",i.FAILURE="Failure";let eE={arbTokenBridge:{},warningTokens:{},connectionState:en.em.LOADING,l1NetworkChainId:null,l2NetworkChainId:null,verifying:1,selectedToken:null,arbTokenBridgeLoaded:!1},eI=(e,t)=>{let{state:a}=e;a.app.connectionState=t},eS=(e,t)=>{let{state:a}=e;a.app.l1NetworkChainId=t.l1NetworkChainId,a.app.l2NetworkChainId=t.l2NetworkChainId},eD=(e,t)=>{let{state:a}=e;a.app.selectedToken=t?{...t}:null},eL=(e,t)=>{let{state:a}=e;a.app.l1NetworkChainId!==t&&a.app.l2NetworkChainId!==t&&(a.app.selectedToken=null),a.app.arbTokenBridge={},a.app.verifying=j.ALLOWED,a.app.connectionState=en.em.LOADING,a.app.arbTokenBridgeLoaded=!1},eM=(e,t)=>{let{state:a}=e;a.app.warningTokens=t},eR=(e,t)=>{let{state:a}=e;a.app.verifying=t},eP=(e,t)=>{let{state:a}=e;a.app.arbTokenBridgeLoaded=t},e_=(e,t)=>{let{state:a,actions:r}=e;a.app.arbTokenBridge=t,t&&!a.app.arbTokenBridgeLoaded&&r.app.setArbTokenBridgeLoaded(!0)},eO=(0,ek.Z0)({app:{state:eE,actions:z}}),eB=(0,ea.hs)(),eU=(0,ea.aV)();(0,ea.ri)();var eF=a(28879),eG=a.n(eF),eH=a(39721),eW=a(59656),eZ=a(90711),eY=a(16003),ez=a(3370),eX=a(77458),eV=a(88804);let eq="h-3 w-3 shrink-0 mt-[2px]",eJ={info:"bg-cyan text-cyan-dark",warning:"bg-orange text-orange-dark",error:"bg-brick text-brick-dark"},eK=e=>{let{children:t,variant:a="info",className:r}=e;return(0,X.jsxs)("div",{className:(0,el.m6)("flex flex-row space-x-2 rounded p-2",eJ[a],r),children:["info"===a&&(0,X.jsx)(eX.Z,{className:eq}),"warning"===a&&(0,X.jsx)(ep.Z,{className:eq}),"error"===a&&(0,X.jsx)(eV.Z,{className:eq}),(0,X.jsx)("span",{className:"text-sm font-light",children:t})]})};var eQ=a(75388),e$=a(31237),e0=a(13117),e2=a(43990);function e1(e){let t=(0,ez.LD)(e),a=e2.Jk[e];if(t)return(0,e0.of)(t);if(a)return(0,e0.of)(a);switch(e){case ez.a_.Ethereum:return eQ.RJ;case ez.a_.ArbitrumOne:return eQ.yX;case ez.a_.ArbitrumNova:return e0.ZT;case ez.a_.Sepolia:return e0.Fo;case ez.a_.Holesky:return e0.MF;case ez.a_.ArbitrumSepolia:return e0.Zk;case ez.a_.Local:return e0.is;case ez.a_.ArbitrumLocal:return e0.Mx;case ez.a_.L3Local:return e0.Nk;default:throw Error("[getWagmiChain] Unexpected chain id: ".concat(e))}}var e3=a(68930),e6=a(31306),e4=a(7846),e5=a(95026),e8=a(94709),e9=a(66371);async function e7(e,t){let a=tx(t);try{return(await a.getCode(e)).length>2}catch(e){return!1}}async function te(e){try{let t=await fetch("".concat((0,en.DZ)(),"/api/denylist?address=").concat(e),{method:"GET",headers:{"Content-Type":"application/json"}});return(await t.json()).data}catch(e){return console.error(e),!1}}let tt=e=>{var t;let{sourceChainId:a,destinationChainId:r}=e;return!!(null===(t=ez.se[a])||void 0===t?void 0:t.includes(r))},ta=async e=>{let{destinationChainProvider:t}=e,a=(await (0,e6.getArbitrumNetwork)(t)).parentChainId,r=tx(a);return{l2ChainId:a,l2Provider:r}},tr=async e=>{let{txId:t,sourceChainProvider:a,destinationChainProvider:r,isNativeCurrencyTransfer:n}=e,{l2Provider:s}=await ta({destinationChainProvider:r}),i=await (0,e6.getArbitrumNetwork)(r);return(n?new e6.EthL1L3Bridger(i):new e6.Erc20L1L3Bridger(i)).getDepositStatus({txHash:t,l1Provider:a,l2Provider:s,l3Provider:r})};async function tn(e,t){let a=await tu(t);if(!await e7(e,a))throw Error("[tryGetInboxFromRouter]: address passed is not a smart contract");let r=e4.L1GatewayRouter__factory.connect(e,t);try{return await r.inbox()}catch(e){if("CALL_EXCEPTION"===e.code)return;throw e}}async function ts(e,t){let a=e5.IInbox__factory.connect(e,t),r=e8.M.connect(await a.bridge(),t),n=e9.W.connect(await r.rollup(),t);return Number((await n.chainId()).toString())}async function ti(e,t){let a=await tn(e,t);return a?ts(a,t):ts(e,t)}let to={},tl=async(e,t)=>{let{l2l3RouterOrInbox:a,l1l2Router:r}=e,n="".concat(a,"-").concat(r),s=to[n];if(void 0!==s)return s;let i=tx(await ti(r,t)),o=await ti(a,i);return to[n]=o,o},td=async e=>{let{txId:t,sourceChainProvider:a,destinationChainProvider:r,isNativeCurrencyTransfer:n}=e,s=await (0,e6.getArbitrumNetwork)(r);if(n)return await new e6.EthL1L3Bridger(s).getDepositParameters({txHash:t,l1Provider:a});let{l2Provider:i}=await ta({destinationChainProvider:r});return await new e6.Erc20L1L3Bridger(s).getDepositParameters({txHash:t,l1Provider:a,l2Provider:i})},tc=async e=>await e.getAddress(),tu=async e=>(await e.getNetwork()).chainId,th=e=>{let t=e.sourceChainId,a=e.destinationChainId,r=(0,ez.CR)(t).isEthereumMainnetOrTestnet,n=(0,ez.CR)(a).isEthereumMainnetOrTestnet,s=(0,ez.CR)(t).isArbitrum,i=(0,ez.CR)(a).isArbitrum,o=(0,ez.CR)(t).isOrbitChain,l=(0,ez.CR)(a).isOrbitChain,d=r||s&&l,c=s&&n||o&&n||o&&i,u=tt({sourceChainId:t,destinationChainId:a});return{isDeposit:d,isWithdrawal:c,isNativeCurrencyTransfer:void 0===e.sourceChainErc20Address,isTeleport:u,isSupported:d||c||u}};function tm(e,t){return e.add(e.mul(t).div(100))}let tp=async e=>{let{sourceChainId:t,destinationChainId:a,isNativeCurrencyTransfer:r=!1}=e,n=tx(a);if(tt({sourceChainId:t,destinationChainId:a})){let e=await (0,e6.getArbitrumNetwork)(a);return r?new e6.EthL1L3Bridger(e):new e6.Erc20L1L3Bridger(e)}return r?e6.EthBridger.fromProvider(n):e6.Erc20Bridger.fromProvider(n)},tf={};function tx(e){let t=tf[e];return void 0!==t?t:function(e){let t=ez.Cl[e],a=new e3.c(t,e);return tf[e]=a,a}(e)}function tb(e){if(!e)return!1;let t=(0,ez.ud)().map(e=>e.chainId);return[eQ.RJ.id,e0.Fo.id,e0.MF.id,eQ.yX.id,e0.ZT.id,e0.Zk.id,e0.Mx.id,e0.Nk.id,e0.is.id,...(0,e2.kG)().map(e=>e.chainId),...t].includes(e)}function tC(e){let{sourceChainId:t,destinationChainId:a}=e;if(!t&&!a||!tb(t)&&!tb(a))return{sourceChainId:ez.a_.Ethereum,destinationChainId:ez.a_.ArbitrumOne};if(!tb(t)&&tb(a)){let[e]=(0,ez.AH)(a);return{sourceChainId:e,destinationChainId:a}}if(tb(t)&&!tb(a)){let[e]=(0,ez.AH)(t);return{sourceChainId:t,destinationChainId:e}}if(!(0,ez.AH)(t).includes(a)){let[e]=(0,ez.AH)(t);return{sourceChainId:t,destinationChainId:e}}return{sourceChainId:t,destinationChainId:a}}function ty(){let[{sourceChain:e,destinationChain:t},a]=(0,e$.gw)(),{sourceChainId:r,destinationChainId:n}=tC({sourceChainId:e,destinationChainId:t}),s=(0,V.useCallback)(e=>{let{sourceChainId:t,destinationChainId:r}=e,{sourceChainId:n,destinationChainId:s}=tC({sourceChainId:t,destinationChainId:r});a({sourceChain:n,destinationChain:s})},[a]);return(0,V.useMemo)(()=>{let e=e1(r),t=e1(n);return[{sourceChain:e,sourceChainProvider:tx(r),destinationChain:t,destinationChainProvider:tx(n)},s]},[r,n,s])}function tg(e){let{type:t,symbol:a}=e,[r]=ty(),n=(0,ez.pp)(r.destinationChain.id),s=(0,V.useMemo)(()=>{switch(t){case"user-added-token":return(0,X.jsxs)("p",{className:"pb-2",children:["You are about to deposit ",a," to ",n]});case"new-token":return(0,X.jsxs)("div",{className:"mb-4",children:[(0,X.jsxs)("p",{className:"pb-2",children:["You are the first to bridge ",a," to ",n," ⭐"]}),(0,X.jsx)("span",{className:"font-medium",children:"Important facts"}),(0,X.jsxs)("ol",{children:[(0,X.jsx)("li",{children:"1. Some tokens are not compatible with the bridge"}),(0,X.jsx)("li",{children:"2. The initial bridge is more expensive than following ones"})]})]})}},[t,a,n]),i=(0,V.useMemo)(()=>{switch(t){case"user-added-token":return"Depositing ".concat(a," to ").concat(n);case"new-token":return"New Token Detected"}},[t,a,n]);return(0,X.jsxs)(ey,{...e,title:i,className:"flex flex-col gap-4",children:[(0,X.jsx)("p",{children:s}),(0,X.jsxs)(eK,{variant:"error",children:[(0,X.jsxs)("p",{className:"mb-2",children:[(0,X.jsx)("span",{className:"font-medium",children:"Do not bridge"})," if your token does something non-standard like generates passive interest or is a rebasing stablecoin."]}),(0,X.jsx)("p",{children:"Not sure if your token is compatible?"}),(0,X.jsxs)("p",{children:["Check the"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat(eo.Gc,"/for-devs/concepts/token-bridge/token-bridge-erc20#the-arbitrum-generic-custom-gateway"),target:"_blank",rel:"noopener noreferrer",children:(0,X.jsx)("span",{className:"font-medium",children:"docs"})})," ","or ask on"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"https://discord.gg/ZpZuw7p",target:"_blank",rel:"noopener noreferrer",children:(0,X.jsx)("span",{className:"font-medium",children:"Discord"})}),"."]})]})]})}var tw=a(40624),tv=a(2303),tA=a(20668);let tj={Ethereum:{USDC:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",tokenMessengerContractAddress:"0xbd3fa81b58ba92a82136038b25adec7066af3155"},ArbitrumOne:{USDC:"0xaf88d065e77c8cc2239327c5edb3a432268e5831","USDC.e":"0xff970a61a04b1ca14834a43f5de4533ebddb5cc8",tokenMessengerContractAddress:"0x19330d10d9cc8751218eaf51e8885d058642e08a",CU:"0x89c49a3fa372920ac23ce757a029e6936c0b8e02"},660279:{CU:"0x89c49a3fa372920ac23ce757a029e6936c0b8e02"},Sepolia:{USDC:"0x1c7d4b196cb0c7b01d743fbc6116a902379c7238",tokenMessengerContractAddress:"0x9f3B8679c73C2Fef8b59B4f3444d4e156fb70AA5"},ArbitrumSepolia:{USDC:"0x75faf114eafb1bdbe2f0316df893fd58ce46aa4d","USDC.e":"0x119f0e6303bec7021b295ecab27a4a1a5b37ecf0",tokenMessengerContractAddress:"0x9f3B8679c73C2Fef8b59B4f3444d4e156fb70AA5"}};(k||(k={})).ERC20="ERC20",(o=E||(E={})).ERC20="ERC20",o.ETH="ETH",(l=I||(I={}))[l.NODE_NOT_CREATED=0]="NODE_NOT_CREATED",l[l.EXECUTE_CALL_EXCEPTION=1]="EXECUTE_CALL_EXCEPTION";let tT="arbitrum:bridge:erc20-cache";function tN(e){let{chainId:t,address:a}=e;return"".concat(t,":").concat(a)}function tk(e){let t=JSON.parse(localStorage.getItem(tT)||"{}");if(void 0!==e){var a;return null!==(a=t[tN(e)])&&void 0!==a?a:null}return t}async function tE(e){let{address:t,provider:a}=e,r=(await a.getNetwork()).chainId,n=tk({chainId:r,address:t});if(n)return n;try{let e,n,s;try{let r=await e6.MultiCaller.fromProvider(a),[i]=await r.getTokenData([t],{name:!0,symbol:!0,decimals:!0});e=null==i?void 0:i.name,n=null==i?void 0:i.symbol,s=null==i?void 0:i.decimals}catch{try{let r=tA.ERC20__factory.connect(t,a);[e,n,s]=await Promise.all([r.name(),r.symbol(),r.decimals()])}catch{throw Error("Failed to fetch ERC-20 data.")}}let i={name:null!=e?e:function(e){let t=e.toLowerCase();return t.substring(0,5)+"..."+t.substring(t.length-3)}(t),symbol:null!=n?n:function(e){let t=e.toLowerCase();return t.substring(0,5)+"..."+t.substring(t.length-3)}(t),decimals:null!=s?s:0,address:t};try{!function(e){let{erc20Data:t,...a}=e,r=tk();r[tN(a)]=t,localStorage.setItem(tT,JSON.stringify(r))}({chainId:r,address:t,erc20Data:i})}catch(e){console.warn("Failed to store ERC-20 data to cache."),console.warn(e)}return i}catch(e){throw eh({error:e,originFunction:"fetchErc20Data",additionalData:{token_address_on_this_chain:t,chain:r.toString()}}),e}}async function tI(e){let{address:t,provider:a}=e,r=tA.ERC20__factory.connect(t,a);try{return await Promise.all([r.balanceOf("0xd8dA6BF26964aF9D7eEd9e03E53415D37aA96045"),r.totalSupply()]),!0}catch(e){return!1}}async function tS(e){let{address:t,provider:a,owner:r,spender:n}=e;try{var s;let e=await e6.MultiCaller.fromProvider(a),[i]=await e.getTokenData([t],{allowance:{owner:r,spender:n}});return null!==(s=null==i?void 0:i.allowance)&&void 0!==s?s:eZ._Y}catch(e){throw eh({error:e,originFunction:"fetchErc20Allowance",additionalData:{token_address_on_this_chain:t,chain:(await tu(a)).toString()}}),e}}async function tD(e){let{erc20L2Address:t,l2Provider:a}=e;try{let e=await e6.Erc20Bridger.fromProvider(a);return await e.getParentErc20Address(t,a)}catch(e){return null}}async function tL(e){let{erc20ParentChainAddress:t,parentChainProvider:a,childChainProvider:r}=e;return(await e6.Erc20Bridger.fromProvider(r)).getParentGatewayAddress(t,a)}async function tM(e){let{erc20L1Address:t,l2Provider:a}=e;return(await e6.Erc20Bridger.fromProvider(a)).getChildGatewayAddress(t,a)}async function tR(e){let{erc20L1Address:t,l1Provider:a,l2Provider:r}=e,n=await e6.Erc20Bridger.fromProvider(r);return await n.getChildErc20Address(t,a)}async function tP(e){let{erc20L1Address:t,l1Provider:a,l3Provider:r}=e,n=await (0,e6.getArbitrumNetwork)(r),s=new e6.Erc20L1L3Bridger(n),{l2Provider:i}=await ta({destinationChainProvider:r});return await s.getL3Erc20Address(t,a,i)}async function t_(e){let{erc20L1Address:t,l1Provider:a,l2Provider:r}=e,n=await tp({sourceChainId:await tu(a),destinationChainId:await tu(r)});return!(n instanceof e6.EthL1L3Bridger)&&!(n instanceof e6.EthBridger)&&(void 0!==n.isDepositDisabled?n.isDepositDisabled(t,a):n.l1TokenIsDisabled(t,a))}let tO=e=>(null==e?void 0:e.toLowerCase())===tj.ArbitrumOne.CU.toLowerCase(),tB=e=>(null==e?void 0:e.toLowerCase())===tj.Ethereum.USDC.toLowerCase(),tU=e=>(null==e?void 0:e.toLowerCase())===tj.ArbitrumOne["USDC.e"].toLowerCase(),tF=e=>(null==e?void 0:e.toLowerCase())===tj.Sepolia.USDC.toLowerCase(),tG=e=>(null==e?void 0:e.toLowerCase())===tj.ArbitrumSepolia["USDC.e"].toLowerCase(),tH=e=>(null==e?void 0:e.toLowerCase())===tj.ArbitrumOne.USDC.toLowerCase(),tW=e=>(null==e?void 0:e.toLowerCase())===tj.ArbitrumSepolia.USDC.toLowerCase(),tZ=e=>tB(e)||tF(e)||tH(e)||tW(e);function tY(e,t){if(!t.erc20L1Address)return e;let{isArbitrumOne:a,isArbitrumSepolia:r}=(0,ez.CR)(t.chainId);return tB(t.erc20L1Address)||tU(t.erc20L1Address)||tF(t.erc20L1Address)||tG(t.erc20L1Address)?a||r?"USDC.e":"USDC":tO(t.erc20L1Address)?a?"CU":"wCU":e}function tz(e){return{name:e.name,type:k.ERC20,symbol:e.symbol,address:e.address,decimals:e.decimals,listIds:new Set}}async function tX(e){let{erc20ParentChainAddress:t,parentChainProvider:a,childChainProvider:r}=e;return!!tt({sourceChainId:await tu(a),destinationChainId:await tu(r)})||(await e6.Erc20Bridger.fromProvider(r)).isRegistered({erc20ParentAddress:t,parentProvider:a,childProvider:r})}let tV=e=>{let{eitherL1OrL2Address:t,l2Provider:a}=e,{data:r=null,isValidating:n}=(0,tv.Z)(["useERC20L1Address",t],async()=>{var e;return(null!==(e=await tD({erc20L2Address:t,l2Provider:a}))&&void 0!==e?e:t).toLowerCase()},{shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:1e3});return{data:r,isLoading:n}};var tq=a(37890),tJ=a(27991),tK=a.n(tJ),tQ=a(75289),t$=a.n(tQ),t0={src:"/arbitrum-token-bridge/_next/static/media/uniswap.13b9e818.png",height:256,width:256,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAATlBMVEX67PT9b7D96/P9RptMaXH////96fP8///9uNj+7fb8/f38///8///9///9+fz+y+P//P//r9f/erf/ns7+Wqb/gbz92uj/L4/+cbL9qtGB6adFAAAAD3RSTlMw+rP6AK/q9f796bO06rS5DDN7AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nAXBCQKAIAgAwbVAtAvUzv9/tBmEzWxFIHvxuoBGau8citVS/RmG9S/u8zJ0pF5KU9jDPTIIh9UJ+QFXbQJ3sWQEJgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},t2={src:"/arbitrum-token-bridge/_next/static/media/cmc.f1e60ec7.png",height:471,width:471,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAMFBMVEX///////////9MaXH////////////////////////////////////////////////D7WqoAAAAEHRSTlM3pbAAR8OZV4BsD9b0JRGLbmolAwAAAAlwSFlzAAAhOAAAITgBRZYxYAAAADlJREFUeJwlykECgCAMA8FNUgqI+v/nenDOQ7BtAoPkGSDefmsKp8++q9Fsj9VG55qVVX9mhyBJ5AMl+AEGN6yAMgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},t1={src:"/arbitrum-token-bridge/_next/static/media/coinGecko.a50d6aa4.svg",height:276,width:276,blurWidth:0,blurHeight:0},t3={src:"/arbitrum-token-bridge/_next/static/media/ArbitrumLogo.b054058d.png",height:280,width:280,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAY1BMVEVMaXHJy8/6//+PlJ5+pcSMsM76//+XxOTO8/+PwOJefZgQfLmmrLMktv7X6fSNrMZbteYLWo1HUWIkM0e7vsW1ucAKis+WwuIyRV0+V3BJZoLOzM6SprpMkbyfu85eiqkccqRfZrqwAAAAGHRSTlMA9Bj+nVkbYAd17fv9B3Sd6/v9/Pv6+2wqUMcMAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQ0lEQVR4nAXBBxbAEBBAwU+wWnp5SL3/KTMDaGM04EMsJQaPtCXntQlSuvOZF0Hqrt5UBXupLR23pR9U903BA240Dn5oMALvDicUtAAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};let t6=[{id:0,originChainID:0,url:"https://tokenlist.arbitrum.io/ArbTokenLists/arbitrum_token_token_list.json",name:"Arbitrum Token",isDefault:!0,logoURI:t3,isArbitrumTokenTokenList:!0},{id:1,originChainID:ez.a_.ArbitrumOne,url:"https://tokenlist.arbitrum.io/ArbTokenLists/arbed_arb_whitelist_era.json",name:"Arbitrum Whitelist Era",isDefault:!0,logoURI:t3},{id:2,originChainID:ez.a_.ArbitrumOne,url:"https://tokenlist.arbitrum.io/ArbTokenLists/arbed_uniswap_labs_default.json",name:"Arbed Uniswap List",isDefault:!0,logoURI:t0},{id:4,originChainID:ez.a_.ArbitrumOne,url:"https://tokenlist.arbitrum.io/ArbTokenLists/arbed_coingecko.json",name:"Arbed CoinGecko List",isDefault:!0,logoURI:t1},{id:5,originChainID:ez.a_.ArbitrumOne,url:"https://tokenlist.arbitrum.io/ArbTokenLists/arbed_coinmarketcap.json",name:"Arbed CMC List",isDefault:!1,logoURI:t2},{id:6,originChainID:ez.a_.ArbitrumNova,url:"https://tokenlist.arbitrum.io/ArbTokenLists/42170_arbed_uniswap_labs_default.json",name:"Arbed Uniswap List",isDefault:!0,logoURI:t0},{id:9,originChainID:ez.a_.ArbitrumLocal,url:"https://tokenlist.arbitrum.io/ArbTokenLists/421613_arbed_coinmarketcap.json",name:"Arbed CMC List",isDefault:!0,logoURI:t2},{id:10,originChainID:ez.a_.ArbitrumSepolia,url:"https://tokenlist.arbitrum.io/ArbTokenLists/421614_arbed_uniswap_labs.json",name:"Arbed Uniswap List",isDefault:!0,logoURI:t0},{id:11,originChainID:ez.a_.ArbitrumNova,url:"https://tokenlist.arbitrum.io/ArbTokenLists/42170_arbed_coingecko.json",name:"Arbed CoinGecko List",isDefault:!0,logoURI:t1},{id:13,originChainID:ez.a_.ArbitrumSepolia,url:"https://tokenlist.arbitrum.io/ArbTokenLists/421614_arbed_coingecko.json",name:"Arbed CoinGecko List",isDefault:!0,logoURI:t1},{id:14,originChainID:660279,url:"https://tokenlist.arbitrum.io/ArbTokenLists/660279_arbed_uniswap_labs.json",name:"Arbed Uniswap List",isDefault:!0,logoURI:t0},{id:660279,originChainID:660279,url:"tokenLists/660279_default.json",name:"XAI Default List",isDefault:!0,logoURI:"/images/XaiLogo.svg"},{id:15,originChainID:1380012617,url:"https://tokenlist.arbitrum.io/ArbTokenLists/1380012617_arbed_uniswap_labs.json",name:"Arbed Uniswap List",isDefault:!0,logoURI:t0},{id:16,originChainID:4078,url:"https://tokenlist.arbitrum.io/ArbTokenLists/4078_arbed_uniswap_labs.json",name:"Arbed Uniswap List",isDefault:!0,logoURI:t0},{id:17,originChainID:70700,url:"https://tokenlist.arbitrum.io/ArbTokenLists/70700_arbed_uniswap_labs.json",name:"Arbed Uniswap List",isDefault:!0,logoURI:t0},{id:18,originChainID:12324,url:"https://tokenlist.arbitrum.io/ArbTokenLists/12324_arbed_uniswap_labs.json",name:"Arbed Uniswap List",isDefault:!0,logoURI:t0}],t4={};t6.forEach(e=>{t4[e.id]=e.name});let t5=e=>{let t=new(tK());return t$()(t),tq.fK.properties.tokens.maxItems=15e3,t.compile(tq.fK)(e)},t8=(e,t)=>{t9(e.url).then(a=>{let{isValid:r,data:n}=a;r&&t.token.addTokensFromList(n,e.id)})};async function t9(e){try{let{data:t}=await ee.Z.get(e,{headers:{"Access-Control-Allow-Origin":"*"}}),a=t5(t),r=t6.find(t=>t.url===e);return r&&(r.isValid=a),a||console.warn("Token List Invalid",t),{isValid:a,data:t}}catch(t){return console.warn("Token List URL Invalid",e),{isValid:!1,data:void 0}}}function t7(e){return(0,tv.Z)(["useTokenLists",e],e=>{let[,t]=e;return new Promise(e=>{let{isOrbitChain:a}=(0,ez.CR)(t),r=t6.filter(e=>e.originChainID===t||e.isArbitrumTokenTokenList&&!a);Promise.all(r.map(e=>t9(e.url))).then(a=>{e(a.map((e,a)=>{var n;let{data:s,isValid:i}=e,o=null===(n=r[a])||void 0===n?void 0:n.id;return void 0===o?{...s,isValid:i}:{l2ChainId:t,bridgeTokenListId:o,isValid:i,...s}}).filter(e=>null==e?void 0:e.isValid))})})},{shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:1e3})}function ae(e){let{sourceChain:t,sourceChainProvider:a,destinationChain:r,destinationChainProvider:n}=e;return(0,V.useMemo)(()=>{let e=function(e){let{sourceChainId:t,destinationChainId:a}=e,{isEthereumMainnetOrTestnet:r,isArbitrum:n}=(0,ez.CR)(t),{isOrbitChain:s}=(0,ez.CR)(a);return r||n&&s}({sourceChainId:t.id,destinationChainId:r.id}),s=tt({sourceChainId:t.id,destinationChainId:r.id});return e?{childChain:r,childChainProvider:n,parentChain:t,parentChainProvider:a,isDepositMode:e,isTeleportMode:s}:{childChain:t,childChainProvider:a,parentChain:r,parentChainProvider:n,isDepositMode:e,isTeleportMode:s}},[t,r,n,a])}function at(){let[e]=ty(),{childChain:t,parentChain:a}=ae(e),{data:r=[]}=t7(t.id);return(0,V.useMemo)(()=>{var e,n;return e=String(a.id),n=String(t.id),r.reduce((t,a)=>(a.tokens.forEach(r=>{let s=r.address.toLowerCase(),i=String(r.chainId),o=t[s];if(i===e)void 0===o?t[s]={...r,type:k.ERC20,l2Address:void 0,listIds:new Set}:t[s]={...o,address:s},t[s].listIds.add(a.bridgeTokenListId);else if(i===n){var l;if(!(null===(l=r.extensions)||void 0===l?void 0:l.bridgeInfo))return;let n=r.extensions.bridgeInfo[e];if(n){let e=n.tokenAddress.toLowerCase();if(!e)return;void 0===t[e]?t[e]={name:r.name,symbol:r.symbol,type:k.ERC20,logoURI:r.logoURI,address:e,l2Address:s,decimals:r.decimals,listIds:new Set}:t[e].l2Address=s,t[e].listIds.add(a.bridgeTokenListId)}}}),t),{})},[r,a.id,t.id])}function aa(){let{app:{arbTokenBridge:{bridgeTokens:e}}}=eB();return(0,V.useMemo)(()=>{let t={};return void 0===e?{}:(Object.keys(e).forEach(a=>{let r=e[a];r&&0===r.listIds.size&&(t[a]={...r,listIds:new Set})}),t)},[e])}let ar={[ez.a_.ArbitrumOne]:[{symbol:"MIM",l2CustomAddr:"0xFEa7a6a0B346362BF88A9e4A88416B77a57D6c2A",l1Address:"0x99D8a9C45b2ecA8864373A26D1459e3Dff1e17F3",l2Address:"0xB20A02dfFb172C474BC4bDa3fD6f4eE70C04daf2"},{symbol:"SPA",l2CustomAddr:"0x5575552988A3A80504bBaeB1311674fCFd40aD4B",l1Address:"0xB4A3B0Faf0Ab53df58001804DdA5Bfc6a3D59008",l2Address:"0xe5a5Efe7ec8cdFA5F031D5159839A3b5E11B2e0F"},{symbol:"FST",l2CustomAddr:"0x90e81b81307ece4257c1bb74bea94f5232cece53",l1Address:"0x0e192d382a36de7011f795acc4391cd302003606",l2Address:"0x488cc08935458403a0458e45E20c0159c8AB2c92"},{symbol:"stETH",l2CustomAddr:"",l1Address:"0xae7ab96520DE3A18E5e111B5EaAb095312D7fE84",l2Address:""},{symbol:"renBTC",l2CustomAddr:"0xdbf31df14b66535af65aac99c32e9ea844e14501",l1Address:"0xEB4C2781e4ebA804CE9a9803C67d0893436bB27D",l2Address:"0x3E06AF0fBB92D1f6e5c6008fcec81130D0cC65a3"},{symbol:"STG",l2CustomAddr:"0x6694340fc020c5e6b96567843da2df01b2ce1eb6",l1Address:"0xaf5191b0de278c7286d6c7cc6ab6bb8a73ba2cd6",l2Address:"0xe018c7a3d175fb0fe15d70da2c874d3ca16313ec"},{symbol:"HND",l2CustomAddr:"0x10010078a54396f62c96df8532dc2b4847d47ed3",l1Address:"0x10010078a54396F62c96dF8532dc2B4847d47ED3",l2Address:"0x626195b5a8b5f865E3516201D6ac30ee1B46A6e9"},{symbol:"FRAX",l2CustomAddr:"0x17FC002b466eEc40DaE837Fc4bE5c67993ddBd6F",l1Address:"0x853d955aCEf822Db058eb8505911ED77F175b99e",l2Address:"0x7468a5d8E02245B00E8C0217fCE021C70Bc51305"},{symbol:"FXS",l2CustomAddr:"0x9d2F299715D94d8A7E6F5eaa8E654E8c74a988A7",l1Address:"0x3432B6A60D23Ca0dFCa7761B7ab56459D9C964D0",l2Address:"0xd9f9d2Ee2d3EFE420699079f16D9e924affFdEA4"},{symbol:"gOHM",l2CustomAddr:"0x8D9bA570D6cb60C7e3e0F31343Efe75AB8E65FB1",l1Address:"0x0ab87046fBb341D058F17CBC4c1133F25a20a52f",l2Address:"0x0D5f2b781A13722bA19e35857Fb6676594824960"},{symbol:"alUSD",l2CustomAddr:"0xCB8FA9a76b8e203D8C3797bF438d8FB81Ea3326A",l1Address:"0xbc6da0fe9ad5f3b0d58160288917aa56653660e9",l2Address:"0x95d2C35934f4eA0076E6f5e8d6edd8080666F84e"},{symbol:"alETH",l2CustomAddr:"",l1Address:"0x0100546F2cD4C9D97f798fFC9755E47865FF7Ee6",l2Address:"0xC05A105F4EC1ef28a4e7c0cb30Cb791B40FdD66B"},{symbol:"gALCX",l2CustomAddr:"0x870d36B8AD33919Cc57FFE17Bb5D3b84F3aDee4f",l1Address:"0x93dede06ae3b5590af1d4c111bc54c3f717e4b35",l2Address:"0xEa4d9cE1fE1134528402A79f7B7Eacf87a930C8F"},{symbol:"USX",l2CustomAddr:"0x641441c631e2f909700d2f41fd87f0aa6a6b4edb",l1Address:"0x0a5e677a6a24b2f1a2bf4f3bffc443231d2fdec8",l2Address:"0xcd14C3A2ba27819B352aae73414A26e2b366dC50"},{symbol:"SYN",l2CustomAddr:"0x080f6aed32fc474dd5717105dba5ea57268f46eb",l1Address:"0x0f2d719407fdbeff09d87557abb7232601fd9f29",l2Address:"0x1bcfc0b4ee1471674cd6a9f6b363a034375ead84"},{symbol:"EMAX",l2CustomAddr:"0x123389C2f0e9194d9bA98c21E63c375B67614108",l1Address:"0x15874d65e649880c2614e7a480cb7c9A55787FF6",l2Address:"0x94293e4e6ab410E898aa68318D0A964106Ff3257"},{symbol:"RELAY",l2CustomAddr:"0x1426CF37CAA89628C4DA2864e40cF75E6d66Ac6b",l1Address:"0x5D843Fa9495d23dE997C394296ac7B4D721E841c",l2Address:"0xaFB5E28Be361248c18bf26647C3D0F1f141129a7"},{symbol:"tBTC",l2CustomAddr:"0x6c84a8f1c29108F47a79964b5Fe888D4f4D0dE40",l1Address:"0x18084fba666a33d37592fa2633fd49a74dd93a88",l2Address:"0x7E2a1eDeE171C5B19E6c54D73752396C0A572594"},{symbol:"RDNT",l2CustomAddr:"0x3082CC23568eA640225c2467653dB90e9250AaA0",l1Address:"0x137dDB47Ee24EaA998a535Ab00378d6BFa84F893",l2Address:"0xa4431f62db9955bfd056c30e5ae703bf0d0eaec8"},{symbol:"GSWIFT",l2CustomAddr:"0x580e933d90091b9ce380740e3a4a39c67eb85b4c",l1Address:"0x580e933d90091b9ce380740e3a4a39c67eb85b4c",l2Address:"0x88e5369f73312eba739dcdf83bdb8bad3d08f4c8"},{symbol:"eETH",l2CustomAddr:"",l1Address:"0x35fA164735182de50811E8e2E824cFb9B6118ac2",l2Address:"0x832307742aACFe2b9680309526b4d8a409e274E0"},{symbol:"rsETH",l2CustomAddr:"",l1Address:"0xA1290d69c65A6Fe4DF752f95823fae25cB99e5A7",l2Address:"0x3d19a8b57e8082c4bbd5e068016295cfdb255e6a"},{symbol:"ETHx",l2CustomAddr:"",l1Address:"0xA35b1B31Ce002FBF2058D22F30f95D405200A15b",l2Address:"0xaade6e725879375ba2b0ca608cfb26399d50a7ce"},{symbol:"ezETH",l2CustomAddr:"0x2416092f143378750bb29b79eD961ab195CcEea5",l1Address:"0xbf5495efe5db9ce00f80364c8b423567e58d2110",l2Address:"0x6c2b260b7e4c4853a1227d9320c50e0b09917fa8"},{symbol:"USDe",l2CustomAddr:"0x5d3a1Ff2b6BAb83b63cd9AD0787074081a52ef34",l1Address:"0x4c9edd5852cd905f086c759e8383e09bff1e68b3",l2Address:"0x1FefA878e65998482C743eE2deDB907E4D9c8c34"},{symbol:"sUSDe",l2CustomAddr:"0x211Cc4DD073734dA055fbF44a2b4667d5E5fE5d2",l1Address:"0x9D39A5DE30e57443BfF2A8307A4256c8797A3497",l2Address:"0x292CbA96fce24f6802dBdA021ED2B05481a3eEdF"},{symbol:"GHO",l2CustomAddr:"",l1Address:"0x40D16FC0246aD3160Ccc09B8D0D3A2cD28aE6C2f",l2Address:"0xfeb8670b834d9157864126f5dbd24b25d06882ad"},{symbol:"ETHFI",l2CustomAddr:"0x7189fb5B6504bbfF6a852B13B7B82a3c118fDc27",l1Address:"0xFe0c30065B384F05761f15d0CC899D4F9F9Cc0eB",l2Address:"0x07D65C18CECbA423298c0aEB5d2BeDED4DFd5736"},{symbol:"ATH",l2CustomAddr:"0xc87B37a581ec3257B734886d9d3a581F5A9d056c",l1Address:"0xbe0Ed4138121EcFC5c0E56B40517da27E6c5226B",l2Address:"0xc7dEf82Ba77BAF30BbBc9b6162DC075b49092fb4"}],[ez.a_.ArbitrumNova]:[]};function an(e,t){var a;return!!(tU(e)||tG(e))&&!!(0,ez.CR)(t).isOrbitChain||(null!==(a=ar[t])&&void 0!==a?a:[]).map(e=>e.l1Address.toLowerCase()).includes(e.toLowerCase())}let as={[ez.a_.ArbitrumOne]:[{symbol:"rDPX",l1Address:"0x0ff5A8451A839f5F0BB3562689D9A44089738D11",l2Address:"0x32Eb7902D4134bf98A28b963D26de779AF92A212"},{symbol:"FU",l1Address:"0x43df01681966d5339702e96ef039e481b9da20c1",l2Address:"0x9aee3C99934C88832399D6C6E08ad802112eBEab"}]};function ai(e,t){var a;return(null!==(a=as[t])&&void 0!==a?a:[]).map(e=>e.l1Address.toLowerCase()).includes(e.toLowerCase())}let ao=(0,tw.Ue)(e=>({isOpen:!1,openDialog:()=>e({isOpen:!0}),closeDialog:()=>e({isOpen:!1})}));function al(){var e,t,a;let[r]=ty(),{isTeleportMode:n}=ae(r),{app:s}=eB(),{selectedToken:i}=s,{app:{setSelectedToken:o}}=eU(),{isOpen:l,closeDialog:d}=ao(),c=tY(null!==(a=null==i?void 0:i.symbol)&&void 0!==a?a:"",{erc20L1Address:null==i?void 0:i.address,chainId:r.sourceChain.id}),[u,h]=(0,V.useState)();(0,V.useEffect)(()=>{(async()=>{if(!n)return;let{l2ChainId:e}=await ta({destinationChainProvider:r.destinationChainProvider});h(e)})()},[n,r.destinationChainProvider]);let m=(0,ez.pp)(r.sourceChain.id),p=(0,ez.pp)(r.destinationChain.id),f=u?(0,ez.pp)(u):null,x=r.destinationChain.id===ez.a_.ArbitrumOne&&(null==i?void 0:i.address.toLowerCase())===(null===(t=ar[ez.a_.ArbitrumOne])||void 0===t?void 0:null===(e=t.find(e=>"GHO"===e.symbol))||void 0===e?void 0:e.l1Address.toLowerCase());return(0,X.jsx)(ey,{closeable:!0,title:"Token cannot be bridged here",cancelButtonProps:{className:"hidden"},actionButtonTitle:"Close",isOpen:l,onClose:()=>{o(null),d()},children:(0,X.jsx)("div",{className:"flex flex-col space-y-4 py-4",children:n?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("p",{children:["Unfortunately,"," ",(0,X.jsx)("span",{className:"font-medium",children:c})," is not yet supported for direct ",m," to ",p," ","transfers."]}),f&&(0,X.jsxs)("p",{children:["To bridge"," ",(0,X.jsx)("span",{className:"font-medium",children:c}),":",(0,X.jsxs)("li",{children:["First bridge from ",m," to"," ",f,"."]}),(0,X.jsxs)("li",{children:["Then bridge from ",f," to"," ",p,"."]})]}),(0,X.jsxs)("p",{children:["For more information please contact us on"," ",(0,X.jsx)(es,{href:"https://discord.com/invite/ZpZuw7p",className:"underline",children:"Discord"})," ","and reach out in #support for assistance."]})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("p",{children:["Unfortunately,"," ",(0,X.jsx)("span",{className:"font-medium",children:c})," has a custom bridge solution that is incompatible with the canonical Arbitrum bridge."]}),x&&(0,X.jsxs)("p",{children:["Please use the"," ",(0,X.jsx)(es,{className:"underline hover:opacity-70",href:"https://app.transporter.io/?from=mainnet&tab=token&to=arbitrum&token=GHO",children:"CCIP bridge for GHO"})," ","instead."]}),(0,X.jsxs)("p",{children:["For more information please contact"," ",(0,X.jsx)("span",{className:"font-medium",children:c}),"'s developer team directly or explore their docs."]})]})})})}function ad(e){let t=e.length;return"".concat(e.substring(0,5),"...").concat(e.substring(t-4,t))}let ac=!!window.Cypress;var au=a(58105),ah=a(96577),am=a.n(ah),ap=a(20247);let af={name:"USD Coin",symbol:"USDC",address:tj.ArbitrumOne.USDC,decimals:6,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/3408.png"},ax={[ez.a_.ArbitrumOne]:[{name:"GMX",symbol:"GMX",address:"0xfc5a1a6eb076a2c7ad06ed22c90d7e710e35ad0a",decimals:18,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/11857.png"},{name:"STASIS EURO",symbol:"EURS",address:"0xD22a58f79e9481D1a88e00c343885A588b34b68B",decimals:2,logoURI:"https://s2.coinmarketcap.com/static/img/coins/64x64/2989.png"}],[ez.a_.ArbitrumNova]:[]};var ab=a(58194),aC=a(3255);let ay=e=>(t,a,r)=>{let{cache:n}=(0,aC.kY)(),s=async()=>{var e;if(!a)return;let r=await a(t);return{...(null===(e=n.get((0,aC.wE)(t)))||void 0===e?void 0:e.data)||{},...r}};return e(t,s,r)},ag=e=>{let{chainId:t,walletAddress:a}=e,r=(0,V.useMemo)(()=>{if(a&&ab.isAddress(a))return a.toLowerCase()},[a]),n=(0,V.useCallback)(e=>void 0===r?null:[r,t,"balance",e],[t,r]),s=(0,V.useCallback)(async e=>{let{addresses:t,walletAddress:a,chainId:r}=e;if(!(null==t?void 0:t.length))return{};let n=tx(r);try{let e=await e6.MultiCaller.fromProvider(n),r=await e.getTokenData(t,{balanceOf:{account:a}});return t.reduce((e,t,a)=>{let n=r[a];return n&&(e[t.toLowerCase()]=n.balance),e},{})}catch(e){return eh({error:e,originFunction:"useBalance fetchErc20",additionalData:{token_addresses:t.toString(),chain:r.toString()}}),{}}},[]),{data:i=null,mutate:o}=(0,aC.ZP)(n("eth"),e=>{let[t,a]=e;return tx(a).getBalance(t)},{refreshInterval:15e3,shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:3e3}),{data:l=null,mutate:d}=(0,aC.ZP)(n("erc20"),e=>{let[t,a]=e;return s({addresses:[],walletAddress:t,chainId:a})},{shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:3e3,use:[ay]});return{eth:[i,o],erc20:[l,(0,V.useCallback)(async e=>r?d(await s({addresses:e,chainId:t,walletAddress:r}),{populateCache:(e,t)=>({...t,...e}),revalidate:!1}):null,[t,s,d,r])]}};var aw=a(58131),av=a(89456),aA=a(95415),aj=a(87070);function aT(){let{address:e,isConnected:t}=(0,J.mA)(),[{sourceChain:a}]=ty(),{data:r=!1,isLoading:n}=(0,tv.Z)(e&&t&&a?[e,a.id,"useAccountType"]:null,e=>{let[t,a]=e;return e7(t,a)},{shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:5e3});return{isEOA:!r,isSmartContractWallet:r,isLoading:n}}function aN(e){switch(e){case"slow":return"duration-1000";case"normal":return"duration-500";case"fast":return"duration-200"}}let ak=e=>{var t,a,r;let{options:n,children:s,className:i,isOpen:o,afterLeave:l}=e,d=null!==(t=null==n?void 0:n.enterSpeed)&&void 0!==t?t:"fast",c=null!==(a=null==n?void 0:n.leaveSpeed)&&void 0!==a?a:"fast",u=null===(r=null==n?void 0:n.unmountOnLeave)||void 0===r||r;return(0,X.jsx)(ef.u,{show:o,unmount:u,enter:(0,el.m6)("transition ease-out",aN(d)),enterFrom:"opacity-0 translate-y-1",enterTo:"opacity-100 translate-y-0",leave:(0,el.m6)("transition ease-in",aN(c)),leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-1",afterLeave:l,className:i,children:s})};(d=S||(S={})).INVALID_ADDRESS="The destination address is not a valid address.",d.REQUIRED_ADDRESS="The destination address is required.",d.DENYLISTED_ADDRESS="The address you entered is a known contract address, and sending funds to it would likely result in losing said funds. If you think this is a mistake, please contact our support.",d.TELEPORT_DISABLED="LayerLeap transfers to custom destination addresses are not supported yet.",(D||(D={})).CONTRACT_ADDRESS="The destination address is a contract address. Please make sure it is the right address.";let aE=(0,tw.Ue)(e=>({error:null,destinationAddress:void 0,setError:t=>e(()=>({error:t})),setDestinationAddress:t=>e(()=>({destinationAddress:t}))}));async function aI(e){let{destinationAddress:t,isSmartContractWallet:a,isTeleportMode:r}=e;return!t&&a?"The destination address is required.":t?(0,au.isAddress)(t)?await te(t)?"The address you entered is a known contract address, and sending funds to it would likely result in losing said funds. If you think this is a mistake, please contact our support.":r?"LayerLeap transfers to custom destination addresses are not supported yet.":null:"The destination address is not a valid address.":null}async function aS(e){let{destinationAddress:t,isEOA:a,destinationChainId:r}=e;if(!t||!(0,au.isAddress)(t))return null;let n=await e7(t,r);return a&&n?"The destination address is a contract address. Please make sure it is the right address.":null}let aD=()=>{let{app:{selectedToken:e}}=eB(),[t]=ty(),{childChain:a,childChainProvider:r,parentChain:n,parentChainProvider:s,isDepositMode:i,isTeleportMode:o}=ae(t),{address:l}=(0,J.mA)(),{isEOA:d,isSmartContractWallet:c}=aT(),[u,h]=(0,V.useState)(!0),[m,p]=(0,V.useState)(!0),[f,x]=(0,V.useState)(null),{error:b,setError:C,destinationAddress:y,setDestinationAddress:g}=aE();(0,V.useEffect)(()=>{h(d),p(d)},[d]),(0,V.useEffect)(()=>{(async function(){C(await aI({destinationAddress:y,isSmartContractWallet:c,isTeleportMode:o}))})()},[y,c,C,o]),(0,V.useEffect)(()=>{let e=!0;return async function(){let a=await aS({destinationAddress:y,isEOA:d,destinationChainId:t.destinationChain.id});e&&x(a)}(),()=>{e=!1}},[y,i,d,r,s,a.id,n.id]);let w=(0,V.useMemo)(()=>d&&!y,[y,d]);return e&&(d||c)?(0,X.jsxs)("div",{className:"mb-6 flex flex-col items-end",children:[(0,X.jsxs)("button",{onClick:function(){if(!w){h(!1);return}h(!u)},className:(0,el.m6)("arb-hover flex flex-row items-center text-sm text-white",w?"":"pointer-events-none"),children:[(0,X.jsx)("span",{"aria-label":"advanced settings",children:"Advanced Settings"}),w&&(0,X.jsx)(aw.Z,{className:(0,el.m6)("ml-1 h-4 w-4 transition-transform duration-200",u?"rotate-0":"-rotate-180")})]}),(0,X.jsxs)(ak,{isOpen:!u,children:[(0,X.jsxs)("div",{className:"mt-2 rounded border border-white/30 bg-brick-dark p-2 text-white",children:[(0,X.jsx)("p",{className:"text-sm font-light",children:d?(0,X.jsxs)(X.Fragment,{children:["Send your funds to a different address."," ",(0,X.jsx)("span",{className:"font-semibold",children:"This is not standard."})," Be sure you mean to send it here, or it may lead to an irrecoverable loss of funds."]}):(0,X.jsxs)(X.Fragment,{children:["With Smart Contract Wallets, you"," ",(0,X.jsx)("span",{className:"font-semibold",children:"must specify an address"})," ","you'd like the funds sent to."]})}),(0,X.jsxs)("div",{className:(0,el.m6)("my-1 flex w-full items-center rounded border px-2 py-1 shadow-input",m?"border-white/20 bg-white/20":"border-white bg-black/40",b?"border-red-400":"",f&&!b?"border-yellow-500":""),children:[(0,X.jsx)("input",{className:"w-full bg-transparent text-white placeholder-white/50",placeholder:d?l:"Enter Custom Destination Address",value:y,disabled:m,spellCheck:!1,onChange:e=>{var t;return g(null===(t=e.target.value)||void 0===t?void 0:t.toLowerCase().trim())}}),d&&(0,X.jsx)("button",{onClick:()=>p(!m),"aria-label":"Custom destination input lock",children:m?(0,X.jsx)(aA.Z,{height:16}):(0,X.jsx)(aj.Z,{height:16})})]})]}),b&&(0,X.jsx)("p",{className:"mt-1 text-xs text-red-400",children:b}),!b&&f&&(0,X.jsx)("p",{className:"mt-1 text-xs text-yellow-500",children:f}),y&&!b&&(0,X.jsxs)(es,{className:"arb-hover mt-2 flex w-fit items-center text-xs font-medium text-white/50",href:"".concat((0,ez.jY)(i?a.id:n.id),"/address/").concat(y),children:[(0,X.jsx)(av.Z,{height:12,strokeWidth:3,className:"mr-1 -rotate-90"}),"View account in explorer"]})]})]}):null};function aL(){let{parentWalletAddress:e,childWalletAddress:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[a]=ty(),{childChain:r,parentChain:n,isDepositMode:s}=ae(a),{address:i}=(0,J.mA)(),{destinationAddress:o}=aE(),l=o||i,{eth:[d,c],erc20:[u,h]}=ag({chainId:n.id,walletAddress:null!=e?e:s?i:l}),{eth:[m,p],erc20:[f,x]}=ag({chainId:r.id,walletAddress:null!=t?t:s?l:i});return(0,V.useMemo)(()=>({ethParentBalance:d,updateEthParentBalance:c,erc20ParentBalances:u,updateErc20ParentBalances:h,ethChildBalance:m,updateEthChildBalance:p,erc20ChildBalances:f,updateErc20ChildBalances:x}),[f,u,m,d,x,h,p,c])}function aM(e){let{walletAddress:t}=e,[a]=ty(),{parentChainProvider:r,parentChain:n,childChainProvider:s}=ae(a),i=t&&(0,au.isAddress)(t)?t:void 0,{updateErc20ParentBalances:o,updateErc20ChildBalances:l}=aL({parentWalletAddress:i,childWalletAddress:i});return{updateUSDCBalances:(0,V.useCallback)(async()=>{let e,t;let{isEthereumMainnet:a,isSepolia:i,isArbitrumOne:d,isArbitrumSepolia:c}=(0,ez.CR)(n.id);if((a||i)&&(e=a?tj.Ethereum.USDC:tj.Sepolia.USDC,t=a?tj.ArbitrumOne.USDC:tj.ArbitrumSepolia.USDC),(d||c)&&(e=d?tj.ArbitrumOne.USDC:tj.ArbitrumSepolia.USDC),e){if(o([e]),!t)try{t=(await tR({erc20L1Address:e,l1Provider:r,l2Provider:s})).toLowerCase()}catch{return}t&&l([t])}},[s,n.id,r,o,l])}}var aR=a(31309);let aP={...eo.Xx,logoUrl:eo.bX,isCustom:!1};function a_(e){let{provider:t}=e,{data:a=aP}=(0,tv.Z)(["nativeCurrency",t],e=>{let[,t]=e;return aO({provider:t})},{shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:1e3});return a}async function aO(e){var t;let a,{provider:r}=e;try{a=await (0,e6.getArbitrumNetwork)(r)}catch(e){return aP}let n=await e6.EthBridger.fromProvider(r);if(void 0===n.nativeToken)return aP;let s=n.nativeToken.toLowerCase(),i=a.parentChainId,o=new e3.c(ez.Cl[i]),{name:l,symbol:d,decimals:c}=await tE({address:s,provider:o});return{name:l,logoUrl:null===(t=(0,aR.f)(a.chainId).nativeTokenData)||void 0===t?void 0:t.logoUrl,symbol:d,decimals:c,address:s,isCustom:!0}}var aB=a(92056);let aU=e=>{let{searchInputPlaceholder:t,searchInputValue:a,searchInputOnChange:r,SearchInputButton:n,onSubmit:s=e=>{e.preventDefault()},errorMessage:i,children:o,dataCy:l}=e;return(0,X.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,X.jsxs)("form",{onSubmit:s,className:"flex flex-col",children:[(0,X.jsxs)("div",{className:"flex items-stretch gap-2",children:[(0,X.jsxs)("div",{className:"relative flex h-full w-full grow items-center rounded border-[1px] border-gray-dark bg-black/30 px-2 text-white shadow-input",children:[(0,X.jsx)(aB.Z,{className:"h-4 w-4 shrink-0"}),(0,X.jsx)("input",{type:"search",placeholder:t,value:a,onChange:r,className:"h-full w-full bg-transparent p-2 text-sm font-light placeholder:text-xs placeholder:text-white"})]}),n]}),!!i&&(0,X.jsx)("p",{className:"text-xs text-red-400",children:i})]}),(0,X.jsx)("div",{className:"sm:shadow-search-panel h-[calc(100vh_-_190px)] overflow-hidden rounded border border-gray-dark bg-black/30 sm:h-[400px]","data-cy":l,children:o})]})};var aF=a(3851);function aG(e){let{currentPanel:t,setCurrentPanel:a}=(0,V.useContext)(aH);return{setPanel:(0,V.useCallback)(()=>a(e),[e,a]),isActivePanel:t===e}}(c=L||(L={}))[c.MAIN=0]="MAIN",c[c.SECONDARY=1]="SECONDARY";let aH=(0,V.createContext)({currentPanel:0,setCurrentPanel:()=>{}});function aW(e){let{children:t}=e,[a,r]=(0,V.useState)(0),n=(0,V.useMemo)(()=>({currentPanel:a,setCurrentPanel:e=>r(e)}),[a]);return(0,X.jsx)(aH.Provider,{value:n,children:t})}aW.MainPageCTA=function(e){let{children:t,onClick:a,className:r,...n}=e,{setPanel:s}=aG(1),i=(0,V.useCallback)(e=>{s(),null==a||a(e)},[a,s]);return(0,X.jsxs)("button",{className:(0,el.m6)("arb-hover text-gray flex items-center gap-2 text-sm",r),onClick:i,...n,children:[(0,X.jsx)("span",{children:t}),(0,X.jsx)(ed.Z,{className:"h-3 w-3 stroke-[3px]"})]})},aW.CloseButton=function(e){let{className:t,...a}=e;return(0,X.jsx)("button",{className:(0,el.m6)("arb-hover",t),...a,children:(0,X.jsx)(eb.Z,{className:"h-7 w-7 text-gray-7 lg:h-5 lg:w-5"})})},aW.MainPage=function(e){let{children:t,className:a,...r}=e,{isActivePanel:n}=aG(0);return n?a?(0,X.jsx)("div",{className:a,...r,children:t}):t:null},aW.PageTitle=function(e){let{title:t,children:a,className:r,...n}=e;return(0,X.jsxs)("div",{className:(0,el.m6)("flex flex-row items-center justify-between pb-4",r),...n,children:[(0,X.jsx)("span",{className:"text-xl",children:t}),a]})},aW.SecondaryPage=function(e){let{children:t,...a}=e,{isActivePanel:r}=aG(1);return r?(0,X.jsx)("div",{...a,children:t}):null},aW.SecondaryPageCTA=function(e){let{children:t,className:a,onClick:r,...n}=e,{setPanel:s}=aG(0),i=(0,V.useCallback)(e=>{s(),null==r||r(e)},[r,s]);return(0,X.jsx)("div",{className:"mt-4 flex justify-start",children:(0,X.jsxs)("button",{className:(0,el.m6)("arb-hover flex items-center space-x-2 text-sm",a),onClick:i,...n,children:[(0,X.jsx)(aF.Z,{className:"h-3 w-3 stroke-[3px]"}),(0,X.jsx)("span",{children:t})]})})},aW.LoaderWithMessage=function(e){let{loadingMessage:t}=e;return(0,X.jsxs)("span",{className:"flex flex-row items-center gap-2 text-sm font-normal text-gray-6",children:[(0,X.jsx)(ec.a,{color:"white",size:"small"}),t]})};var aZ=a(85126),aY=a(66131),az=a(10528);function aX(e){let t=e.toLocaleString(void 0,{minimumFractionDigits:Number.isInteger(e)?void 0:2,maximumFractionDigits:2});return"$".concat(t)}(u=M||(M={}))[u.None=0]="None",u[u.Short=1]="Short",u[u.Compact=3]="Compact",u[u.Standard=4]="Standard",u[u.Long=5]="Long";let aV=(e,t)=>Intl.NumberFormat("en",t).format(e),aq=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{decimals:a,symbol:r}=t;if(void 0===e)return"";let n=az.O$.isBigNumber(e)?parseFloat(eW.formatUnits(e,a)):e,s=r?" ".concat(r):"";if(0===n)return"0".concat(s);let i=!t.symbol||t.symbol.length<5;if(n<1){let e=i?5:4;return n<Math.pow(10,-e)?"< 0.".concat("0".repeat(e-1),"1").concat(s):aV(n,{maximumFractionDigits:i?5:4,notation:"compact"})+s}return i?n>=1e6?aV(n,{maximumFractionDigits:3,notation:"compact"})+s:n>=1e4?aV(n,{maximumFractionDigits:0,notation:"standard"})+s:aV(n,{maximumFractionDigits:4,notation:"standard"})+s:aV(n,{maximumFractionDigits:1,notation:"compact"})+s},aJ=e=>{if(Math.floor(Number(e))===Number(e))return 0;let t=String(e).split(".")[1];return void 0===t?0:t.length},aK=(e,t)=>{let a=e.split(".")[1];return void 0===a?e:"".concat(e.split(".")[0],".").concat(a.slice(0,t))};function aQ(e){let{fallback:t=null,src:a,...r}=e,[n,s]=(0,V.useState)(!1);return((0,V.useEffect)(()=>{let e=new Image;if(void 0===a)s(!1);else{let t=(0,en.Ou)(a);e.onerror=()=>s(!1),e.onload=()=>s(t),e.src=t}return function(){e.src=""}},[a]),n)?(0,X.jsx)("img",{...r,src:n,alt:e.alt||""}):t}function a$(e){let{show:t=!0,content:a,wrapperClassName:r="w-max",theme:n="light",children:s}=e;return a?t?(0,X.jsx)(eH.ZP,{theme:n,content:a,children:(0,X.jsx)("div",{className:r,children:s})}):(0,X.jsx)(X.Fragment,{children:s}):null}let a0={blue:"bg-cyan text-cyan-dark",yellow:"bg-orange text-orange-dark border-orange-dark border",green:"bg-lime text-lime-dark",red:"bg-brick text-brick-dark border border-brick-dark",gray:"bg-gray-3 text-gray-dark"};function a2(e){let{variant:t="blue",children:a,className:r,...n}=e;return(0,X.jsx)("div",{className:(0,el.m6)("status-badge flex w-max flex-nowrap items-center gap-1 rounded py-1 pl-1 pr-2 text-sm font-normal",a0[t],r),...n,children:a})}function a1(e){var t,a,r,n;let{address:s}=(0,J.mA)(),[i]=ty(),{childChainProvider:o,isDepositMode:l}=ae(i),{eth:[d],erc20:[c]}=ag({chainId:i.sourceChain.id,walletAddress:s}),u=a_({provider:o});if(!e)return u.isCustom&&l?null!==(a=null==c?void 0:c[u.address.toLowerCase()])&&void 0!==a?a:eZ._Y:d;if(!c)return eZ._Y;if(l)return null!==(r=c[e.address.toLowerCase()])&&void 0!==r?r:eZ._Y;let h=null===(t=e.l2Address)||void 0===t?void 0:t.toLowerCase();return h&&null!==(n=c[h])&&void 0!==n?n:eZ._Y}function a3(e){return e.map(e=>t4[e]).join(", ")}function a6(){return(0,X.jsx)("div",{className:"mr-2",children:(0,X.jsx)(ec.a,{color:"white",size:"small"})})}function a4(e){let{chain:t,address:a}=e;return void 0===a?null:(0,X.jsx)(es,{href:"".concat((0,ez.jY)(t.id),"/token/").concat(a),className:"arb-hover text-xs underline",onClick:e=>e.stopPropagation(),children:ad(a).toLowerCase()})}function a5(e){let{token:t}=e,[a]=ty(),{childChain:r,childChainProvider:n}=ae(a),{isCustom:s}=a_({provider:n}),i=(0,V.useMemo)(()=>{if(!t)return null;if(tH(null==t?void 0:t.address))return"Native USDC on Arbitrum One";if(tW(null==t?void 0:t.address))return"Native USDC on Arbitrum Sepolia";let e=t.listIds,a=e.size;if(0===a)return"Added by User";let r=Array.from(e);if(a<2)return a3(r);let n=r.slice(0,1),s=a-1;return a3(n)+" and ".concat(s," more list").concat(s>1?"s":"")},[t]);if(!t){let e=(0,ez.pp)((s?r:a.sourceChain).id);return(0,X.jsxs)("span",{className:"flex text-xs text-white/70",children:["Native token on ",e]})}return(null==t?void 0:t.isL2Native)?(0,X.jsx)("span",{className:"flex text-xs text-white/70",children:"This token is native to ".concat((0,ez.pp)(r.id)," and can’t be bridged.")}):(0,X.jsx)("span",{className:"flex text-xs text-white/70",children:i})}function a8(e){let[t]=ty(),{childChain:a,childChainProvider:r,parentChain:n,isDepositMode:s}=ae(t),i=s?n.id:a.id,o=a_({provider:r}),l=(0,V.useMemo)(()=>e?function(e,t){if(!t.erc20L1Address)return e;let{isArbitrumOne:a,isArbitrumSepolia:r}=(0,ez.CR)(t.chainId);return tB(t.erc20L1Address)||tU(t.erc20L1Address)||tF(t.erc20L1Address)||tG(t.erc20L1Address)?a||r?"Bridged USDC":"USD Coin":tO(t.erc20L1Address)?a?"Crypto Unicorns":"Wrapped Crypto Unicorns":e}(e.name,{erc20L1Address:e.address,chainId:i}):o.name,[e,o.name,i]),d=(0,V.useMemo)(()=>e?tY(e.symbol,{erc20L1Address:e.address,chainId:i}):o.symbol,[e,o.symbol,i]),c=(0,V.useMemo)(()=>e?e.logoURI:o.logoUrl,[e,o]),u=a1(e),h=(0,V.useMemo)(()=>!!e&&e.listIds.has(0),[e]),m=(0,V.useMemo)(()=>!!e&&!h&&(e.name.toLowerCase().startsWith("arb")||e.symbol.toLowerCase().startsWith("arb")),[e,h]);return{name:l,symbol:d,logoURI:c,balance:u,isArbitrumToken:h,isPotentialFakeArbitrumToken:m,isBridgeable:(0,V.useMemo)(()=>!e||(null==e||!e.isL2Native)&&(!!s||void 0!==(null==e?void 0:e.l2Address)),[s,e])}}function a9(){return(0,X.jsxs)(a2,{variant:"green",className:"text-xs leading-extra-tight",children:[(0,X.jsx)(aZ.Z,{className:"h-3 w-3"}),(0,X.jsxs)("p",{children:[(0,X.jsx)("span",{children:"Official"}),(0,X.jsx)("span",{className:"hidden lg:inline",children:" ARB token"})]})]})}function a7(e){let{token:t}=e,{app:{arbTokenBridge:{bridgeTokens:a}}}=eB(),{isLoading:r}=aT(),{balance:n,symbol:s}=a8(t),i=tH(null==t?void 0:t.address)||tW(null==t?void 0:t.address);return(0,V.useMemo)(()=>void 0===a||!t||!!i||void 0!==a[t.address],[a,i,t])?r&&i?(0,X.jsx)(a6,{}):(0,X.jsx)("span",{className:"flex items-center whitespace-nowrap text-sm text-white/70",children:n?aq(n,{decimals:null==t?void 0:t.decimals,symbol:s}):(0,X.jsx)(a6,{})}):(0,X.jsx)("span",{className:"arb-hover text-sm",children:"Import"})}function re(e){let{token:t}=e,[a]=ty(),{childChain:r,childChainProvider:n,parentChain:s,isDepositMode:i}=ae(a),o=a_({provider:n});return null===t&&o.isCustom&&i?(0,X.jsx)(a4,{chain:s,address:o.address}):t?i?(null==t?void 0:t.isL2Native)?(0,X.jsx)(a4,{chain:r,address:t.address}):(0,X.jsx)(a4,{chain:s,address:t.address}):void 0!==t.l2Address?(0,X.jsx)(a4,{chain:r,address:t.l2Address}):(0,X.jsxs)("span",{className:"text-xs text-white/70",children:["This token hasn't been bridged to ",(0,ez.pp)(r.id),"."]}):null}function rt(e){let{style:t,onTokenSelected:a,token:r}=e,{name:n,symbol:s,logoURI:i,isArbitrumToken:o,isPotentialFakeArbitrumToken:l,isBridgeable:d}=a8(r);return(0,X.jsx)("button",{type:"button",onClick:()=>a(r),style:{...t,minHeight:"84px"},disabled:!d,className:(0,el.m6)("flex w-full flex-row items-center justify-between px-4 py-3 transition duration-200 hover:bg-white/10",d?"cursor-pointer opacity-100":"cursor-not-allowed opacity-50"),children:(0,X.jsxs)("div",{className:"flex w-full flex-row items-center justify-start space-x-4",children:[(0,X.jsx)(aQ,{src:i,alt:"".concat(n," logo"),className:"h-6 w-6 shrink-0",fallback:(0,X.jsx)(rf,{})}),(0,X.jsxs)("div",{className:"flex w-full flex-col items-start gap-1 truncate",children:[(0,X.jsxs)("div",{className:"flex w-full items-center gap-1",children:[(0,X.jsx)("span",{className:"text-base font-medium leading-none",children:s}),(0,X.jsx)("span",{className:"text-xs text-white/70",children:n}),o&&(0,X.jsx)(a9,{}),l&&(0,X.jsx)(a$,{content:"This token is different from the official Arbitrum token (ARB).",children:(0,X.jsxs)("div",{className:"box-border flex w-max flex-nowrap items-center gap-1 rounded-full border-[1px] border-gray-dark px-1 py-[2px] pr-2 text-sm",children:[(0,X.jsx)(aY.Z,{className:"h-3 w-3 text-gray-dark"}),(0,X.jsx)("span",{className:"text-xs text-gray-dark",children:"Careful"})]})})]}),(0,X.jsx)(re,{token:r}),(0,X.jsx)(a5,{token:r})]}),d&&(0,X.jsx)(a7,{token:r})]})})}function ra(e){switch(e){case 0:return"a supply rebasing token";case 1:return"an interest accruing token";default:return"a non-standard ERC20 token"}}function rr(){let[{token:e},t]=(0,e$.gw)(),a=e=>t({token:e});return e?{tokenFromSearchParams:e,setTokenQueryParam:a}:{tokenFromSearchParams:void 0,setTokenQueryParam:a}}(h=R||(R={}))[h.IDLE=0]="IDLE",h[h.OPEN=1]="OPEN",h[h.CLOSED=2]="CLOSED";var rn=a(15729);let rs=e=>{let{className:t,label:a,description:r,name:n,checked:s,disabled:i,onChange:o}=e;return(0,X.jsx)(rn.r.Group,{children:(0,X.jsxs)("div",{className:"toggle-switch flex flex-col text-white/70 duration-200 hover:text-white",children:[(0,X.jsxs)("div",{className:"flex items-center gap-3",children:[(0,X.jsx)(rn.r,{checked:s,onChange:o,className:(0,el.m6)("relative inline-flex h-3 w-7 items-center rounded-full transition-colors ui-checked:bg-white ui-not-checked:bg-white/50 [&:disabled]:cursor-not-allowed","duration-200 [&_span]:bg-black [&_span]:ui-checked:translate-x-[22px] [&_span]:ui-not-checked:translate-x-[3px] [&~*]:ui-checked:text-white",t),disabled:i,"aria-label":n,children:(0,X.jsx)("span",{className:"inline-block h-[10px] w-[10px] transform rounded-full transition-transform"})}),a&&(0,X.jsx)(rn.r.Label,{className:(0,el.m6)("heading mr-4 cursor-pointer text-sm"),children:a})]}),r&&(0,X.jsx)(rn.r.Description,{className:"mt-1 pl-10 text-sm text-white/70",children:r})]})})},ri={[ez.a_.Ethereum]:[{symbol:"WETH",l1Address:"0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2",allowedL3ChainIds:[1380012617,70700]},{symbol:"RARI",l1Address:"0xFca59Cd816aB1eaD66534D82bc21E7515cE441CF",allowedL3ChainIds:[1380012617]}],[ez.a_.Sepolia]:[{symbol:"WETH",l1Address:"0xfff9976782d46cc05630d1f6ebab18b2324d6b14",allowedL3ChainIds:[1918988905]},{symbol:"LINK",l1Address:"0x779877A7B0D9E8603169DdbD7836e478b4624789",allowedL3ChainIds:[1918988905]}]};function ro(e,t,a){var r;return(null!==(r=ri[t])&&void 0!==r?r:[]).filter(e=>e.allowedL3ChainIds.includes(a)).map(e=>e.l1Address.toLowerCase()).includes(e.toLowerCase())}let rl={...af,listIds:new Set,type:k.ERC20,address:tj.ArbitrumOne.USDC,l2Address:tj.ArbitrumOne.USDC},rd={...af,listIds:new Set,type:k.ERC20,address:tj.ArbitrumSepolia.USDC,l2Address:tj.ArbitrumSepolia.USDC};function rc(e){let{tokenList:t}=e,{app:{arbTokenBridge:a}}=eB(),{bridgeTokens:r,token:n}=a,s=(0,V.useCallback)((e,t)=>{t?n.removeTokensFromList(e.id):t8(e,a)},[a,n]),i=Object.keys(null!=r?r:[]).some(e=>{let a=null==r?void 0:r[e];return null==a?void 0:a.listIds.has(null==t?void 0:t.id)}),o=(0,V.useCallback)(()=>s(t,i),[i,s,t]);return(0,X.jsxs)("label",{className:"flex cursor-pointer items-center justify-start space-x-3 duration-200 [&:hover_img]:opacity-100 [&:hover_span]:text-white",children:[(0,X.jsx)(rs,{name:"".concat(t.name," toggle"),checked:i,onChange:o}),(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)(am(),{src:t.logoURI,alt:"".concat(t.name," Logo"),className:(0,el.m6)("h-4 w-4 rounded-full transition-opacity",!i&&"opacity-70"),width:16,height:16}),(0,X.jsx)("span",{className:(0,el.m6)("text-sm transition-colors",!i&&"text-white/70"),children:t.name})]})]},t.id)}function ru(e){let{closePanel:t}=e,[a]=ty(),{childChain:r}=ae(a),n=(0,V.useMemo)(()=>t6.filter(e=>!!e.isValid&&!e.isArbitrumTokenTokenList&&e.originChainID===r.id),[r.id]);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(aW.PageTitle,{title:"Token Lists",children:(0,X.jsx)(aW.CloseButton,{onClick:t})}),(0,X.jsxs)("div",{className:"flex flex-col gap-6 rounded-md border border-gray-dark p-6 text-white",children:[n.map(e=>(0,X.jsx)(rc,{tokenList:e},e.id)),0===n.length&&(0,X.jsxs)("span",{className:"text-sm leading-relaxed",children:["Sorry, there are no lists of tokens bridged from"," ",(0,ez.pp)(a.sourceChain.id)," to"," ",(0,ez.pp)(a.destinationChain.id),"."]})]})]})}let rh="native_currency";function rm(e){let{onTokenSelected:t}=e,{address:a}=(0,J.mA)(),{app:{arbTokenBridge:{token:r,bridgeTokens:n}}}=eB(),[s]=ty(),{childChain:i,childChainProvider:o,parentChain:l,isDepositMode:d}=ae(s),{ethParentBalance:c,erc20ParentBalances:u,ethChildBalance:h,erc20ChildBalances:m}=aL({parentWalletAddress:a,childWalletAddress:a}),p=a_({provider:o}),{isArbitrumOne:f,isArbitrumSepolia:x}=(0,ez.CR)(l.id),{isArbitrumOne:b,isArbitrumSepolia:C,isOrbitChain:y}=(0,ez.CR)(i.id),g=aa(),w=at(),[v,A]=(0,V.useState)(""),[j,T]=(0,V.useState)(""),[N,k]=(0,V.useState)(!1),E=(0,V.useCallback)(e=>{var t;if(e===rh)return p.isCustom?d?null==u?void 0:u[p.address]:h:d?c:h;if(d)return null==u?void 0:u[e.toLowerCase()];if(void 0===n)return null;if(tH(e)||tW(e))return null==m?void 0:m[e.toLowerCase()];let a=null===(t=n[e.toLowerCase()])||void 0===t?void 0:t.l2Address;return a?null==m?void 0:m[a.toLowerCase()]:null},[p,n,u,m,c,h,d]),I=(0,V.useMemo)(()=>{let e=v.trim().toLowerCase(),t=[...Object.keys(g),...Object.keys(w)];return d?(f&&t.push(tj.ArbitrumOne.USDC),x&&t.push(tj.ArbitrumSepolia.USDC)):(b&&t.push(tj.ArbitrumOne.USDC),C&&t.push(tj.ArbitrumSepolia.USDC)),[rh,...new Set(t)].filter(t=>{let a=g[t]||w[t];if(tH(t)&&(a=rl),tW(t)&&(a=rd),tU(t)&&d&&y||p.isCustom&&t.toLowerCase()===p.address.toLowerCase())return!1;if(!e){if(t===rh)return!0;if(null==a?void 0:a.listIds.has(0))return!y;let e=E(t);return e&&e.gt(0)}if(t===rh)return"".concat(p.name).concat(p.symbol).toLowerCase().includes(e);if(!a)return!1;let{name:r,symbol:n,address:s,l2Address:i=""}=a;return(r+n+s+i).toLowerCase().includes(e)}).sort((e,t)=>{if(e===rh)return -1;if(t===rh)return 1;let a=E(e),r=E(t);return a||r?a?r?a.gt(r)?-1:1:-1:1:0})},[v,g,w,d,b,C,y,E,p]),S=async()=>{if(!a)return;let e="Token not found on this network.",t=!1;try{r.addL2NativeToken(v),t=!0}catch(e){}try{await r.add(v),t=!0}catch(t){"TokenDisabledError"===t.name&&(e="This token is currently paused in the bridge.")}t||T(e)},D=async e=>{if(e.preventDefault(),T(""),(0,au.isAddress)(v)&&!N){k(!0);try{await S()}catch(e){console.log(e)}finally{k(!1)}}},L=(0,V.useCallback)(e=>{T(""),A(e.target.value)},[]),M=(0,V.useCallback)(e=>{let a=I[e.index],r=null;return(tH(a)?r=rl:tW(a)?r=rd:a&&(r=w[a]||g[a]||null),a===rh)?(0,X.jsx)(rt,{onTokenSelected:t,token:null},"TokenRowNativeCurrency"):(0,X.jsx)(rt,{style:e.style,onTokenSelected:t,token:r},a)},[I,w,g,t]),R=(0,V.useMemo)(()=>(0,X.jsx)(eu,{type:"submit",variant:"secondary",loading:N,loadingProps:{loaderColor:"#999999"},disabled:!(0,au.isAddress)(v),className:"border border-gray-dark py-1","aria-label":"Add New Token",children:"Add"}),[N,v]);return(0,X.jsx)(aU,{searchInputPlaceholder:"Search by token name, symbol, or address",searchInputValue:v,searchInputOnChange:L,errorMessage:j,onSubmit:D,SearchInputButton:R,dataCy:"tokenSearchList",children:(0,X.jsx)(ap.qj,{children:e=>{let{height:t,width:a}=e;return(0,X.jsx)(ap.aV,{width:a-2,height:t,rowCount:I.length,rowHeight:84,rowRenderer:M})}})})}function rp(e){let{className:t,close:a}=e,{address:r}=(0,J.mA)(),{app:{arbTokenBridge:{token:n,bridgeTokens:s}}}=eB(),{app:{setSelectedToken:i}}=eU(),[o]=ty(),{childChain:l,childChainProvider:d,parentChain:c,parentChainProvider:u,isDepositMode:h,isTeleportMode:m}=ae(o),{updateUSDCBalances:p}=aM({walletAddress:r}),{isLoading:f}=aT(),{openDialog:x}=ao(),{setTokenQueryParam:b}=rr(),{isValidating:C}=t7(l.id);async function y(e){if(a(),null===e){i(null);return}if(e.address&&void 0!==s)try{if(tH(e.address)||tW(e.address)){let t;if(f)return;await p();try{t=(0,ez.CR)(l.id).isOrbitChain?(await tR({erc20L1Address:e.address,l1Provider:u,l2Provider:d})).toLowerCase():void 0}catch{}i({name:"USD Coin",type:k.ERC20,symbol:"USDC",address:e.address,l2Address:t,decimals:6,listIds:new Set});return}if(void 0===s[e.address]){b(e.address);return}if(!r)return;let t=await tE({address:e.address,provider:u});if(t&&(n.updateTokenData(e.address),i({...tz(t),l2Address:e.l2Address})),h&&an(e.address,l.id)||ai(e.address,l.id)||m&&!ro(e.address,c.id,l.id)){x();return}}catch(e){console.warn(e),"TokenDisabledError"===e.name&&(0,ei.Iv)("This token is currently paused in the bridge")}}return(0,X.jsxs)(aW,{children:[(0,X.jsxs)(aW.MainPage,{className:t,children:[(0,X.jsx)(aW.PageTitle,{title:"Select Token",children:(0,X.jsx)(aW.CloseButton,{onClick:a})}),(0,X.jsx)(rm,{onTokenSelected:y}),(0,X.jsx)("div",{className:"flex justify-end pt-4",children:C?(0,X.jsx)(aW.LoaderWithMessage,{loadingMessage:"Fetching Tokens..."}):(0,X.jsx)(aW.MainPageCTA,{children:"Manage token lists"})})]}),(0,X.jsxs)(aW.SecondaryPage,{className:t,children:[(0,X.jsx)(ru,{closePanel:a}),(0,X.jsx)(aW.SecondaryPageCTA,{children:"Back to Select Token"})]})]})}function rf(){return(0,X.jsx)("div",{className:"flex h-6 w-6 shrink-0 items-center justify-center rounded-full border border-white/30 bg-gray-dark text-sm font-medium",children:"?"})}let rx=e=>{let{token:t,showFullAddress:a}=e,[r]=ty(),n=aa(),s=at(),i=null==t?void 0:t.address.toLowerCase(),o=(0,V.useMemo)(()=>{var e,t;return i?tH(i)?rl.logoURI:tW(i)?rd.logoURI:(null===(e=s[i])||void 0===e?void 0:e.logoURI)||(null===(t=n[i])||void 0===t?void 0:t.logoURI):void 0},[i,s,n]);return(0,X.jsxs)("div",{className:"flex flex-row items-center space-x-3",children:[(0,X.jsx)(aQ,{src:o,alt:"Token logo",className:"h-6 w-6 grow-0",fallback:(0,X.jsx)(rf,{})}),(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,X.jsx)("span",{className:"text-base",children:null==t?void 0:t.symbol}),(0,X.jsx)("span",{className:"text-xs text-white/70",children:null==t?void 0:t.name})]}),i&&(0,X.jsx)(es,{href:"".concat((0,ez.jY)(r.sourceChain.id),"/token/").concat(i),className:"arb-hover text-xs underline",children:a?i:ad(i)})]})]})};(m=P||(P={}))[m.LOADING=0]="LOADING",m[m.KNOWN=1]="KNOWN",m[m.KNOWN_UNIMPORTED=2]="KNOWN_UNIMPORTED",m[m.UNKNOWN=3]="UNKNOWN",m[m.ERROR=4]="ERROR";let rb=(0,tw.Ue)(e=>({isOpen:!1,openDialog:()=>e({isOpen:!0}),closeDialog:()=>e({isOpen:!1})}));function rC(e){let{onClose:t,tokenAddress:a}=e,{address:r}=(0,J.mA)(),{app:{arbTokenBridge:{bridgeTokens:n,token:s},selectedToken:i}}=eB(),[o]=ty(),{childChain:l,childChainProvider:d,parentChain:c,parentChainProvider:u,isDepositMode:h,isTeleportMode:m}=ae(o),p=eU(),f=aa(),x=(0,eY.Z)(f),b=at(),C=(0,eY.Z)(b),y=(0,eY.Z)(n),[g,w]=(0,V.useState)(0),[v,A]=(0,V.useState)(!1),[j,T]=(0,V.useState)(),{openDialog:N}=ao(),{isOpen:k}=rb(),[E,I]=(0,V.useState)(!1),{data:S,isLoading:D}=tV({eitherL1OrL2Address:a,l2Provider:d});(0,V.useEffect)(()=>{I(k)},[k]);let L=(0,V.useMemo)(()=>{switch(g){case 0:return"Loading token";case 1:case 2:return"Import known token";case 3:return"Import unknown token";case 4:return"Invalid token address"}},[g]),M=(0,V.useCallback)(async()=>{if(!S||!r)return;let e={address:S,provider:u};if(!await tI(e))throw Error("".concat(S," is not a valid ERC-20 token"));return tE(e)},[u,r,S]),R=(0,V.useCallback)(e=>{let t=y.current;if(void 0===t)return{found:!1};let a=t[e];if(void 0!==a)return{found:!0,token:a,status:1};let r={...C.current,...x.current}[e];return void 0!==r?{found:!0,token:r,status:2}:{found:!1}},[y,C,x]),P=(0,V.useCallback)(async e=>{await s.updateTokenData(e.address),p.app.setSelectedToken(e)},[s,p]);async function _(e){return s.add(e).catch(e=>{w(4),"TokenDisabledError"===e.name&&(0,ei.Iv)("This token is currently paused in the bridge")})}return((0,V.useEffect)(()=>{if(k&&void 0!==n){if(!D&&!S){w(4);return}if(S){let e=R(S);if(e.found){w(e.status),T(e.token);return}}M().then(e=>{e&&(w(3),T(tz(e)))}).catch(()=>{w(4)})}},[a,n,M,D,k,S,R]),(0,V.useEffect)(()=>{if(!k||D&&!S)return;let e=f[S||a];void 0!==e&&e.address!==(null==i?void 0:i.address)&&(t(!0),P(e))},[D,a,k,S,t,P,i,f]),0===g)?(0,X.jsx)(ey,{isOpen:E,onClose:t,title:L,actionButtonProps:{hidden:!0},children:(0,X.jsx)("div",{className:"flex h-48 items-center justify-center",children:(0,X.jsx)(ec.a,{color:"white",size:"medium"})})}):4===g?(0,X.jsx)(ey,{isOpen:E,onClose:t,title:L,actionButtonProps:{hidden:!0},children:(0,X.jsx)("span",{className:"flex py-4",children:"Whoops, looks like this token address is invalid. Try asking the token team to update their link."})}):(0,X.jsx)(ey,{isOpen:E,onClose:t,title:L,actionButtonProps:{loading:v,onClick:function(){if(void 0!==n&&!v&&(A(!0),S&&(void 0!==n[S]?(t(!0),P(j)):_(S).catch(()=>{w(4)}),h&&an(S,l.id)||ai(S,l.id)||m&&!ro(S,c.id,l.id)))){N();return}}},actionButtonTitle:"Import token",children:(0,X.jsxs)("div",{className:"flex flex-col space-y-4 pt-4",children:[1===g&&(0,X.jsx)("span",{children:"This token is on an imported token list:"}),2===g&&(0,X.jsx)("span",{children:"This token hasn't been imported yet but appears on a token list:"}),(0,X.jsxs)("div",{className:"flex flex-col pb-4",children:[(0,X.jsx)(rx,{token:j,showFullAddress:!0}),3===g&&(0,X.jsx)(eK,{className:"mt-4",variant:"warning",children:(0,X.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,X.jsxs)("p",{children:["This token address doesn't exist in any of the token lists we have. This doesn't mean it's not good, it just means"," ",(0,X.jsx)("span",{className:"font-bold",children:"proceed with caution."})]}),(0,X.jsx)("p",{children:"It's easy to impersonate the name of any token, including ETH. Make sure you trust the source it came from. If it's a popular token, there's a good chance we have it on our list. If it's a smaller or newer token, it's reasonable to believe we might not have it."})]})}),(0,X.jsxs)(eK,{className:"mt-4",children:[(0,X.jsx)("span",{className:"font-medium",children:"Non-standard tokens aren't supported by the bridge."})," ","Ex: if the token balance increases or decreases while sitting in a wallet address. Contact the team behind the token to find out if this token is standard or not."]})]})]})})}var ry=a(76930);function rg(e){return(0,X.jsxs)(rn.r.Group,{as:"div",className:"arb-hover flex flex-row items-start space-x-1",children:[(0,X.jsx)(rn.r,{...e,className:(0,el.m6)("mt-[4px] h-3 w-3 flex-shrink-0 rounded-sm transition duration-200 ease-in-out",e.checked?"border border-dark bg-white":"border border-white bg-dark"),children:(0,X.jsx)(ry.Z,{className:"ml-[2px] mt-[1px] h-2 w-2 stroke-[5] text-dark"})}),(0,X.jsx)(rn.r.Label,{className:(0,el.m6)("cursor-pointer",e.checked?"text-white":"text-gray-3"),children:e.label})]})}function rw(){let{data:e,error:t,isValidating:a,mutate:r}=(0,aC.ZP)("https://api.coinbase.com/v2/prices/ETH-USD/spot",e=>ee.Z.get(e).then(e=>e.data.data.amount),{refreshInterval:3e5,shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:3e3}),n=(0,V.useCallback)(t=>t*(e&&!isNaN(e)?Number(e):0),[e]);return{ethPrice:null!=e?e:0,ethToUSD:n,error:t,isValidating:a,mutate:r}}function rv(e){let{provider:t}=e,a=function(e){let{provider:t}=e,[a,r]=(0,V.useState)(void 0);return(0,V.useEffect)(()=>{let e=!1;return async function(){let a=await t.getNetwork();e||r(a.chainId)}(),()=>{e=!0}},[t]),a}({provider:t}),r=(0,V.useMemo)(()=>void 0===a?null:["gasPrice",a],[a]),{data:n=eZ._Y}=(0,aC.ZP)(r,()=>t.getGasPrice(),{refreshInterval:3e4,shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:5e3});return n}var rA=a(77722),rj=a(75398);class rT{constructor(e){this.sourceChainProvider=e.sourceChainProvider,this.destinationChainProvider=e.destinationChainProvider,this.sourceChainErc20Address=e.sourceChainErc20Address,this.destinationChainErc20Address=e.destinationChainErc20Address}}let rN=[{inputs:[{internalType:"address",name:"_tokenController",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"localTokenMessenger",type:"address"}],name:"LocalTokenMessengerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"localTokenMessenger",type:"address"}],name:"LocalTokenMessengerRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint256",name:"burnLimitPerMessage",type:"uint256"}],name:"SetBurnLimitPerMessage",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"tokenController",type:"address"}],name:"SetTokenController",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"localToken",type:"address"},{indexed:!1,internalType:"uint32",name:"remoteDomain",type:"uint32"},{indexed:!1,internalType:"bytes32",name:"remoteToken",type:"bytes32"}],name:"TokenPairLinked",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"localToken",type:"address"},{indexed:!1,internalType:"uint32",name:"remoteDomain",type:"uint32"},{indexed:!1,internalType:"bytes32",name:"remoteToken",type:"bytes32"}],name:"TokenPairUnlinked",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newLocalTokenMessenger",type:"address"}],name:"addLocalTokenMessenger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"burnToken",type:"address"},{internalType:"uint256",name:"burnAmount",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"burnLimitsPerMessage",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"remoteDomain",type:"uint32"},{internalType:"bytes32",name:"remoteToken",type:"bytes32"}],name:"getLocalToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"localToken",type:"address"},{internalType:"uint32",name:"remoteDomain",type:"uint32"},{internalType:"bytes32",name:"remoteToken",type:"bytes32"}],name:"linkTokenPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"localTokenMessenger",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"sourceDomain",type:"uint32"},{internalType:"bytes32",name:"burnToken",type:"bytes32"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[{internalType:"address",name:"mintToken",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"remoteTokensToLocalTokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"removeLocalTokenMessenger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"localToken",type:"address"},{internalType:"uint256",name:"burnLimitPerMessage",type:"uint256"}],name:"setMaxBurnAmountPerMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newTokenController",type:"address"}],name:"setTokenController",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"tokenController",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"localToken",type:"address"},{internalType:"uint32",name:"remoteDomain",type:"uint32"},{internalType:"bytes32",name:"remoteToken",type:"bytes32"}],name:"unlinkTokenPair",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"}];var rk=a(34406);rk.env.THE_GRAPH_NETWORK_API_KEY,rk.env.SELF_HOSTED_SUBGRAPH_API_KEY,(p=_||(_={}))[p.Ethereum=0]="Ethereum",p[p.ArbitrumOne=3]="ArbitrumOne";let rE=[{inputs:[{internalType:"uint32",name:"_localDomain",type:"uint32"},{internalType:"address",name:"_attester",type:"address"},{internalType:"uint32",name:"_maxMessageBodySize",type:"uint32"},{internalType:"uint32",name:"_version",type:"uint32"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"attester",type:"address"}],name:"AttesterDisabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"attester",type:"address"}],name:"AttesterEnabled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousAttesterManager",type:"address"},{indexed:!0,internalType:"address",name:"newAttesterManager",type:"address"}],name:"AttesterManagerUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"newMaxMessageBodySize",type:"uint256"}],name:"MaxMessageBodySizeUpdated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"caller",type:"address"},{indexed:!1,internalType:"uint32",name:"sourceDomain",type:"uint32"},{indexed:!0,internalType:"uint64",name:"nonce",type:"uint64"},{indexed:!1,internalType:"bytes32",name:"sender",type:"bytes32"},{indexed:!1,internalType:"bytes",name:"messageBody",type:"bytes"}],name:"MessageReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes",name:"message",type:"bytes"}],name:"MessageSent",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[],name:"Pause",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"}],name:"PauserChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"oldSignatureThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"newSignatureThreshold",type:"uint256"}],name:"SignatureThresholdUpdated",type:"event"},{anonymous:!1,inputs:[],name:"Unpause",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"attesterManager",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"attester",type:"address"}],name:"disableAttester",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAttester",type:"address"}],name:"enableAttester",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"}],name:"getEnabledAttester",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getNumEnabledAttesters",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"attester",type:"address"}],name:"isEnabledAttester",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"localDomain",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"maxMessageBodySize",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextAvailableNonce",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"pauser",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"},{internalType:"bytes",name:"attestation",type:"bytes"}],name:"receiveMessage",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"originalMessage",type:"bytes"},{internalType:"bytes",name:"originalAttestation",type:"bytes"},{internalType:"bytes",name:"newMessageBody",type:"bytes"},{internalType:"bytes32",name:"newDestinationCaller",type:"bytes32"}],name:"replaceMessage",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"destinationDomain",type:"uint32"},{internalType:"bytes32",name:"recipient",type:"bytes32"},{internalType:"bytes",name:"messageBody",type:"bytes"}],name:"sendMessage",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"destinationDomain",type:"uint32"},{internalType:"bytes32",name:"recipient",type:"bytes32"},{internalType:"bytes32",name:"destinationCaller",type:"bytes32"},{internalType:"bytes",name:"messageBody",type:"bytes"}],name:"sendMessageWithCaller",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newMaxMessageBodySize",type:"uint256"}],name:"setMaxMessageBodySize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"newSignatureThreshold",type:"uint256"}],name:"setSignatureThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"signatureThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"unpause",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newAttesterManager",type:"address"}],name:"updateAttesterManager",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_newPauser",type:"address"}],name:"updatePauser",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"usedNonces",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"version",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"}],rI={[ez.a_.Ethereum]:{tokenMessengerContractAddress:tj.Ethereum.tokenMessengerContractAddress,targetChainDomain:_.ArbitrumOne,targetChainId:ez.a_.ArbitrumOne,usdcContractAddress:tj.Ethereum.USDC,messageTransmitterContractAddress:"0xc30362313fbba5cf9163f0bb16a0e01f01a896ca",attestationApiUrl:"https://iris-api.circle.com/v1",tokenMinterContractAddress:"0xc4922d64a24675e16e1586e3e3aa56c06fabe907"},[ez.a_.Sepolia]:{tokenMessengerContractAddress:tj.Sepolia.tokenMessengerContractAddress,targetChainDomain:_.ArbitrumOne,targetChainId:ez.a_.ArbitrumSepolia,usdcContractAddress:tj.Sepolia.USDC,messageTransmitterContractAddress:"0xacf1ceef35caac005e15888ddb8a3515c41b4872",attestationApiUrl:"https://iris-api-sandbox.circle.com/v1",tokenMinterContractAddress:"0xe997d7d2f6e065a9a93fa2175e878fb9081f1f0a"},[ez.a_.ArbitrumOne]:{tokenMessengerContractAddress:tj.ArbitrumOne.tokenMessengerContractAddress,targetChainDomain:_.Ethereum,targetChainId:ez.a_.Ethereum,usdcContractAddress:tj.ArbitrumOne.USDC,messageTransmitterContractAddress:"0x0a992d191deec32afe36203ad87d7d289a738f81",attestationApiUrl:"https://iris-api.circle.com/v1",tokenMinterContractAddress:"0xe7ed1fa7f45d05c508232aa32649d89b73b8ba48"},[ez.a_.ArbitrumSepolia]:{tokenMessengerContractAddress:tj.ArbitrumSepolia.tokenMessengerContractAddress,targetChainDomain:_.Ethereum,targetChainId:ez.a_.Sepolia,usdcContractAddress:tj.ArbitrumSepolia.USDC,messageTransmitterContractAddress:"0x7865fafc2db2093669d92c0f33aeef291086befd",attestationApiUrl:"https://iris-api-sandbox.circle.com/v1",tokenMinterContractAddress:"0xe997d7d2f6e065a9a93fa2175e878fb9081f1f0a"}};function rS(e){let{sourceChainId:t}=e;return t&&rI[t]||rI[ez.a_.Ethereum]}let rD=e=>{let{sourceChainId:t}=e,{targetChainId:a,attestationApiUrl:r,messageTransmitterContractAddress:n}=rS({sourceChainId:t}),s=async e=>{let t=await fetch("".concat(r,"/attestations/").concat(e),{method:"GET",headers:{accept:"application/json"}});return await t.json()},i=async e=>{for(;;){let t=await s(e);if("complete"===t.status)return t.attestation;await new Promise(e=>setTimeout(e,3e4))}};return{receiveMessage:async e=>{let{messageBytes:t,attestation:r,signer:s}=e,i=await (0,rA.$q)({address:n,abi:rE,functionName:"receiveMessage",chainId:a,signer:s,args:[t,r]});return(0,rA.n9)(i)},fetchAttestation:s,waitForAttestation:i}},rL=[{inputs:[{internalType:"address",name:"_messageTransmitter",type:"address"},{internalType:"uint32",name:"_messageBodyVersion",type:"uint32"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint64",name:"nonce",type:"uint64"},{indexed:!0,internalType:"address",name:"burnToken",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"address",name:"depositor",type:"address"},{indexed:!1,internalType:"bytes32",name:"mintRecipient",type:"bytes32"},{indexed:!1,internalType:"uint32",name:"destinationDomain",type:"uint32"},{indexed:!1,internalType:"bytes32",name:"destinationTokenMessenger",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"destinationCaller",type:"bytes32"}],name:"DepositForBurn",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"localMinter",type:"address"}],name:"LocalMinterAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"localMinter",type:"address"}],name:"LocalMinterRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"mintRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!0,internalType:"address",name:"mintToken",type:"address"}],name:"MintAndWithdraw",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferStarted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint32",name:"domain",type:"uint32"},{indexed:!1,internalType:"bytes32",name:"tokenMessenger",type:"bytes32"}],name:"RemoteTokenMessengerAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint32",name:"domain",type:"uint32"},{indexed:!1,internalType:"bytes32",name:"tokenMessenger",type:"bytes32"}],name:"RemoteTokenMessengerRemoved",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newRescuer",type:"address"}],name:"RescuerChanged",type:"event"},{inputs:[],name:"acceptOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newLocalMinter",type:"address"}],name:"addLocalMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"domain",type:"uint32"},{internalType:"bytes32",name:"tokenMessenger",type:"bytes32"}],name:"addRemoteTokenMessenger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint32",name:"destinationDomain",type:"uint32"},{internalType:"bytes32",name:"mintRecipient",type:"bytes32"},{internalType:"address",name:"burnToken",type:"address"}],name:"depositForBurn",outputs:[{internalType:"uint64",name:"_nonce",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint32",name:"destinationDomain",type:"uint32"},{internalType:"bytes32",name:"mintRecipient",type:"bytes32"},{internalType:"address",name:"burnToken",type:"address"},{internalType:"bytes32",name:"destinationCaller",type:"bytes32"}],name:"depositForBurnWithCaller",outputs:[{internalType:"uint64",name:"nonce",type:"uint64"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"remoteDomain",type:"uint32"},{internalType:"bytes32",name:"sender",type:"bytes32"},{internalType:"bytes",name:"messageBody",type:"bytes"}],name:"handleReceiveMessage",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"localMessageTransmitter",outputs:[{internalType:"contract IMessageTransmitter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"localMinter",outputs:[{internalType:"contract ITokenMinter",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"messageBodyVersion",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"pendingOwner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint32",name:"",type:"uint32"}],name:"remoteTokenMessengers",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"removeLocalMinter",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint32",name:"domain",type:"uint32"}],name:"removeRemoteTokenMessenger",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"originalMessage",type:"bytes"},{internalType:"bytes",name:"originalAttestation",type:"bytes"},{internalType:"bytes32",name:"newDestinationCaller",type:"bytes32"},{internalType:"bytes32",name:"newMintRecipient",type:"bytes32"}],name:"replaceDepositForBurn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IERC20",name:"tokenContract",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"rescueERC20",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rescuer",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newRescuer",type:"address"}],name:"updateRescuer",outputs:[],stateMutability:"nonpayable",type:"function"}];class rM extends rT{async approveNativeCurrencyEstimateGas(){}async requiresTokenApproval(e){let{amount:t,signer:a,destinationAddress:r}=e,n=await tu(this.sourceChainProvider),s=await tc(a),{usdcContractAddress:i,tokenMessengerContractAddress:o}=rS({sourceChainId:n});return(await tS({address:i,provider:this.sourceChainProvider,owner:null!=r?r:s,spender:o})).lt(t)}async approveToken(e){let{signer:t,amount:a}=e,{usdcContractAddress:r,tokenMessengerContractAddress:n}=rS({sourceChainId:await tu(this.sourceChainProvider)});return tA.ERC20__factory.connect(r,t).functions.approve(n,null!=a?a:eZ.PS)}async approveTokenEstimateGas(e){let{signer:t,amount:a}=e,{usdcContractAddress:r,tokenMessengerContractAddress:n}=rS({sourceChainId:await tu(this.sourceChainProvider)});return tA.ERC20__factory.connect(r,t).estimateGas.approve(n,null!=a?a:eZ.PS)}async transferEstimateGas(){}async transfer(e){let{signer:t,amount:a,destinationAddress:r}=e,n=await tu(this.sourceChainProvider),s=await tc(t),i=await function(e){let{sourceChainId:t}=e,{usdcContractAddress:a,tokenMinterContractAddress:r}=rS({sourceChainId:t});return(0,rA.a4)({address:r,chainId:t,abi:rN,functionName:"burnLimitsPerMessage",args:[a]})}({sourceChainId:n});if(a.gt(i)){let e=aq(i,{decimals:6,symbol:"USDC"});throw Error("The limit for transfers using CCTP is ".concat(e,". Please lower your amount and try again."))}let o=rj.hexlify(rj.zeroPad(null!=r?r:s,32)),{usdcContractAddress:l,tokenMessengerContractAddress:d,targetChainDomain:c}=rS({sourceChainId:n}),u=await (0,rA.$q)({address:d,abi:rL,functionName:"depositForBurn",signer:t,args:[a,c,o,l]}),h=await (0,rA.n9)(u);return{transferType:this.transferType,status:"pending",sourceChainProvider:this.sourceChainProvider,sourceChainTransaction:h,destinationChainProvider:this.destinationChainProvider}}constructor(...e){super(...e),this.transferType="cctp",this.requiresNativeCurrencyApproval=async()=>!1,this.approveNativeCurrency=async()=>{}}}async function rR(e){let{amount:t,address:a,parentChainProvider:r,childChainProvider:n}=e,s=await (0,e6.getArbitrumNetwork)(n);if(void 0===s.nativeToken)throw Error("[customFeeTokenAllowanceIsInsufficient] expected nativeToken to be defined");return(await tS({address:s.nativeToken,provider:r,owner:a,spender:s.ethBridge.inbox})).lt(t)}async function rP(e){let{amount:t,address:a,parentChainProvider:r,childChainProvider:n}=e,s=await e6.EthBridger.fromProvider(n);if(void 0!==s.nativeToken&&await rR(e))return{estimatedParentChainGas:az.O$.from(1e5),estimatedChildChainGas:eZ._Y,estimatedChildChainSubmissionCost:eZ._Y};let i=await s.getDepositRequest({amount:t,from:a});return{estimatedParentChainGas:await r.estimateGas(i.txRequest),estimatedChildChainGas:eZ._Y,estimatedChildChainSubmissionCost:eZ._Y}}class r_ extends rT{async getBridger(){return this.ethBridger||(this.ethBridger=await e6.EthBridger.fromProvider(this.destinationChainProvider)),this.ethBridger}async requiresNativeCurrencyApproval(e){let{amount:t,signer:a}=e,r=await tc(a),{childNetwork:n}=await this.getBridger();return void 0!==n.nativeToken&&(await tS({address:n.nativeToken,provider:this.sourceChainProvider,owner:r,spender:n.ethBridge.inbox})).lt(t)}async approveNativeCurrencyEstimateGas(e){let{signer:t,amount:a}=e,r=(await this.getBridger()).getApproveGasTokenRequest({amount:a});return t.estimateGas(r)}async approveNativeCurrency(e){let{signer:t,amount:a}=e;return(await this.getBridger()).approveGasToken({parentSigner:t,amount:a})}async transferEstimateGas(e){let{amount:t,signer:a}=e;return rP({amount:t,address:await tc(a),parentChainProvider:this.sourceChainProvider,childChainProvider:this.destinationChainProvider})}async transfer(e){let{amount:t,signer:a}=e,r=await tc(a),n=await this.getBridger(),s=await n.getDepositRequest({amount:t,from:r}),i=await this.sourceChainProvider.estimateGas(s.txRequest),o=await n.deposit({amount:t,parentSigner:a,overrides:{gasLimit:tm(i,az.O$.from(5))}});return{transferType:this.transferType,status:"pending",sourceChainProvider:this.sourceChainProvider,sourceChainTransaction:o,destinationChainProvider:this.destinationChainProvider}}constructor(...e){super(...e),this.transferType="eth_deposit",this.requiresTokenApproval=async()=>!1,this.approveTokenEstimateGas=async()=>{},this.approveToken=async()=>{}}}var rO=a(18091);async function rB(e){let{inboxAddress:t,parentChainErc20Address:a,parentChainProvider:r,childChainProvider:n}=e,s=await r.getGasPrice(),i=rO.Inbox__factory.connect(t,r),o=await i.calculateRetryableSubmissionFee(az.O$.from(1e3),s.add(s.mul(az.O$.from(3)))),l=az.O$.from(24e4),d=await tR({erc20L1Address:a,l1Provider:r,l2Provider:n}),c=await tu(n);return await e7(d,c)?await rG({parentChainErc20Address:a,parentChainProvider:r,childChainProvider:n})?{estimatedParentChainGas:l,estimatedChildChainGas:az.O$.from(3e5),estimatedChildChainSubmissionCost:o}:{estimatedParentChainGas:l,estimatedChildChainGas:az.O$.from(15e4),estimatedChildChainSubmissionCost:o}:{estimatedParentChainGas:l,estimatedChildChainGas:az.O$.from(8e5),estimatedChildChainSubmissionCost:o}}async function rU(e){let{amount:t,address:a,parentChainErc20Address:r,parentChainProvider:n,childChainProvider:s}=e,i=await tL({erc20ParentChainAddress:r,parentChainProvider:n,childChainProvider:s});return(await tS({address:r,provider:n,owner:a,spender:i})).lt(t)}async function rF(e){let{amount:t,address:a,parentChainErc20Address:r,parentChainProvider:n,childChainProvider:s}=e,i=await e6.Erc20Bridger.fromProvider(s);try{if(await rU(e))return console.warn('Gateway allowance for "'.concat(r,'" is too low, falling back to hardcoded values.')),rB({inboxAddress:i.childNetwork.ethBridge.inbox,parentChainErc20Address:r,parentChainProvider:n,childChainProvider:s});let{txRequest:o,retryableData:l}=await i.getDepositRequest({amount:t,erc20ParentAddress:r,parentProvider:n,childProvider:s,from:a,retryableGasOverrides:{gasLimit:{percentIncrease:az.O$.from(30)}}});return{estimatedParentChainGas:await n.estimateGas(o),estimatedChildChainGas:l.gasLimit,estimatedChildChainSubmissionCost:l.maxSubmissionCost}}catch(e){return eh({error:e,originFunction:"depositTokenEstimateGas"}),rB({inboxAddress:i.childNetwork.ethBridge.inbox,parentChainErc20Address:r,parentChainProvider:n,childChainProvider:s})}}async function rG(e){var t;let{parentChainErc20Address:a,parentChainProvider:r,childChainProvider:n}=e,s=await tL({erc20ParentChainAddress:a,parentChainProvider:r,childChainProvider:n}),i=await (0,e6.getArbitrumNetwork)(n);return s.toLowerCase()===(null===(t=i.tokenBridge)||void 0===t?void 0:t.parentCustomGateway.toLowerCase())}let rH=az.O$.from(500);class rW extends rT{async getBridger(){return this.erc20Bridger||(this.erc20Bridger=await e6.Erc20Bridger.fromProvider(this.destinationChainProvider)),this.erc20Bridger}async getSourceChainGatewayAddress(){if(this.sourceChainGatewayAddress)return this.sourceChainGatewayAddress;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");return this.sourceChainGatewayAddress=await tL({erc20ParentChainAddress:this.sourceChainErc20Address,parentChainProvider:this.sourceChainProvider,childChainProvider:this.destinationChainProvider}),this.sourceChainGatewayAddress}async requiresNativeCurrencyApproval(e){let{amount:t,signer:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await tc(a),n=(await this.getBridger()).childNetwork;if(void 0===n.nativeToken)return!1;let s=tA.ERC20__factory.connect(n.nativeToken,this.sourceChainProvider),i=await tS({address:n.nativeToken,provider:this.sourceChainProvider,owner:r,spender:await this.getSourceChainGatewayAddress()}),o=await this.transferEstimateGas({amount:t,signer:a}),l=await this.destinationChainProvider.getGasPrice(),d=parseFloat(eW.formatEther(o.estimatedChildChainGas.mul(tm(l,rH)).add(o.estimatedChildChainSubmissionCost))),c=eW.parseUnits(String(d),await s.decimals());return i.lt(c)}async approveNativeCurrencyEstimateGas(e){let{signer:t,amount:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await this.getBridger(),n=await r.getApproveGasTokenRequest({erc20ParentAddress:this.sourceChainErc20Address,parentProvider:this.sourceChainProvider,amount:a});return t.estimateGas(n)}async approveNativeCurrency(e){let{signer:t,amount:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await this.getBridger(),n=r.childNetwork;if(void 0===n.nativeToken)throw Error("Network does not have a custom native token");let s=tA.ERC20__factory.connect(n.nativeToken,this.sourceChainProvider),i=await this.transferEstimateGas({amount:a,signer:t}),o=await this.destinationChainProvider.getGasPrice(),l=parseFloat(eW.formatEther(i.estimatedChildChainGas.mul(tm(o,rH)).add(i.estimatedChildChainSubmissionCost))),d=eW.parseUnits(String(l),await s.decimals());return r.approveGasToken({erc20ParentAddress:this.sourceChainErc20Address,parentSigner:t,amount:d})}async approveTokenEstimateGas(e){let{signer:t,amount:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await tc(t);return tA.ERC20__factory.connect(this.sourceChainErc20Address,this.sourceChainProvider).estimateGas.approve(await this.getSourceChainGatewayAddress(),null!=a?a:eZ.Bz,{from:r})}async approveToken(e){let{signer:t,amount:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");return(await this.getBridger()).approveToken({erc20ParentAddress:this.sourceChainErc20Address,parentSigner:t,amount:null!=a?a:eZ.Bz})}async transferEstimateGas(e){let{amount:t,signer:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");return rF({amount:t,address:await tc(a),parentChainErc20Address:this.sourceChainErc20Address,parentChainProvider:this.sourceChainProvider,childChainProvider:this.destinationChainProvider})}async transfer(e){let{amount:t,signer:a,destinationAddress:r}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let n=await tc(a),s=await this.getBridger(),i=await s.getDepositRequest({parentProvider:this.sourceChainProvider,childProvider:this.destinationChainProvider,from:n,erc20ParentAddress:this.sourceChainErc20Address,destinationAddress:r,amount:t,retryableGasOverrides:{gasLimit:{percentIncrease:az.O$.from(30)}}}),o=await this.sourceChainProvider.estimateGas(i.txRequest),l=await s.deposit({...i,parentSigner:a,childProvider:this.destinationChainProvider,overrides:{gasLimit:tm(o,az.O$.from(5))}});return{transferType:this.transferType,status:"pending",sourceChainProvider:this.sourceChainProvider,sourceChainTransaction:l,destinationChainProvider:this.destinationChainProvider}}constructor(e){if(super(e),this.transferType="erc20_deposit",this.requiresTokenApproval=async e=>{let{amount:t,signer:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await tc(a);return(await tS({address:this.sourceChainErc20Address,provider:this.sourceChainProvider,owner:r,spender:await this.getSourceChainGatewayAddress()})).lt(t)},!this.sourceChainErc20Address)throw Error("Erc20 token address not found")}}async function rZ(e){let{amount:t,address:a,childChainProvider:r,erc20L1Address:n}=e,s="string"==typeof n,i=az.O$.from(0);try{let e;if(s){let s=await e6.Erc20Bridger.fromProvider(r);e=await s.getWithdrawalRequest({amount:t,destinationAddress:a,from:a,erc20ParentAddress:n})}else{let n=await e6.EthBridger.fromProvider(r);e=await n.getWithdrawalRequest({amount:t,destinationAddress:a,from:a})}let o=az.O$.from(Math.ceil(1.3*Number(await r.estimateGas(e.txRequest))));return{estimatedParentChainGas:i,estimatedChildChainGas:o}}catch(e){return eh({error:e,originFunction:"withdrawInitTxEstimateGas",additionalData:s?{erc20_address_on_parent_chain:n,withdrawal_type:"token"}:{withdrawal_type:"native currency"}}),{estimatedParentChainGas:i,estimatedChildChainGas:s?az.O$.from(14e5):az.O$.from(8e5)}}}class rY extends rT{async requiresNativeCurrencyApproval(){return!1}async approveNativeCurrencyEstimateGas(){}async approveNativeCurrency(){}async transferEstimateGas(e){let{amount:t,signer:a}=e;return rZ({amount:t,address:await tc(a),childChainProvider:this.sourceChainProvider})}async transfer(e){let{amount:t,signer:a}=e,r=await tc(a),n=await e6.EthBridger.fromProvider(this.sourceChainProvider),s=await n.getWithdrawalRequest({amount:t,destinationAddress:r,from:r}),i=await n.withdraw({...s,childSigner:a,overrides:{gasLimit:tm(await this.sourceChainProvider.estimateGas(s.txRequest),az.O$.from(30))}});return{transferType:this.transferType,status:"pending",sourceChainProvider:this.sourceChainProvider,sourceChainTransaction:i,destinationChainProvider:this.destinationChainProvider}}constructor(...e){super(...e),this.transferType="eth_withdrawal",this.requiresTokenApproval=async()=>!1,this.approveTokenEstimateGas=async()=>{},this.approveToken=async()=>{}}}let rz={[ez.a_.ArbitrumOne]:[{symbol:"LPT",l1Address:"0x58b6A8A3302369DAEc383334672404Ee733aB239",l2Address:"0x289ba1701C2F088cf0faf8B3705246331cB8A839"},{symbol:"GRT",l1Address:"0xc944e90c64b2c07662a292be6244bdf05cda44a7",l2Address:"0x9623063377AD1B27544C965cCd7342f7EA7e88C7"},{symbol:"ARB",l1Address:"0xB50721BCf8d664c30412Cfbc6cf7a15145234ad1",l2Address:"0x912CE59144191C1204E64559FE8253a0e49E6548"},{symbol:"saETH",l1Address:"0xF1617882A71467534D14EEe865922de1395c9E89",l2Address:"0xF1617882A71467534D14EEe865922de1395c9E89"}],[ez.a_.ArbitrumNova]:[{symbol:"ARB",l1Address:"0xB50721BCf8d664c30412Cfbc6cf7a15145234ad1",l2Address:"0xf823C3cD3CeBE0a1fA952ba88Dc9EEf8e0Bf46AD"},{symbol:"MOON",l1Address:"0xb2490e357980cE57bF5745e181e537a64Eb367B1",l2Address:"0x0057Ac2d777797d31CD3f8f13bF5e927571D6Ad0"}],[ez.a_.ArbitrumSepolia]:[{symbol:"ARB",l1Address:"0xfa898E8d38B008F3bAc64dce019A9480d4F06863",l2Address:"0xc275b23c035a9d4ec8867b47f55427e0bdce14cb"}],660279:[{symbol:"wCU",l1Address:"0x89c49a3fa372920ac23ce757a029e6936c0b8e02",l2Address:"0x89c49a3fa372920ac23ce757a029e6936c0b8e02"}],37714555429:[{symbol:"CU",l1Address:"0xd781cea0b8D5dDd0aeeD1dF7aC109C974A221B00",l2Address:"0xe267c440dbfb1e185d506c2cc3c44eb21340e046"}]};class rX extends rT{async getSourceChainGatewayAddress(){let e=await this.getDestinationChainErc20Address(),t=await tM({erc20L1Address:e,l2Provider:this.sourceChainProvider});return this.sourceChainGatewayAddress=t,this.sourceChainGatewayAddress}async getDestinationChainErc20Address(){if(this.destinationChainErc20Address)return this.destinationChainErc20Address;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let e=await tD({erc20L2Address:this.sourceChainErc20Address,l2Provider:this.sourceChainProvider});if(!e)throw Error("Erc20 token not found on parent chain");return this.destinationChainErc20Address=e,this.destinationChainErc20Address}async requiresNativeCurrencyApproval(){return!1}async approveNativeCurrencyEstimateGas(){}async approveNativeCurrency(){}async approveTokenEstimateGas(e){let{signer:t,amount:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await tc(t),n=await this.getSourceChainGatewayAddress();return tA.ERC20__factory.connect(this.sourceChainErc20Address,t).estimateGas.approve(n,null!=a?a:eZ.Bz,{from:r})}async approveToken(e){let{signer:t,amount:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await this.getSourceChainGatewayAddress(),n=tA.ERC20__factory.connect(this.sourceChainErc20Address,t);await n.functions.approve(r,null!=a?a:eZ.Bz)}async transferEstimateGas(e){let{amount:t,signer:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await this.getDestinationChainErc20Address();return rZ({amount:t,address:await tc(a),erc20L1Address:r,childChainProvider:this.sourceChainProvider})}async transfer(e){let{amount:t,signer:a,destinationAddress:r}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let n=await this.getDestinationChainErc20Address(),s=await tc(a),i=await tu(this.sourceChainProvider);if(await e7(s,i)&&!r)throw Error("Missing destination address");let o=await e6.Erc20Bridger.fromProvider(this.sourceChainProvider),l=await o.getWithdrawalRequest({from:s,erc20ParentAddress:n,destinationAddress:null!=r?r:s,amount:t}),d=await o.withdraw({...l,childSigner:a,overrides:{gasLimit:tm(await this.sourceChainProvider.estimateGas(l.txRequest),az.O$.from(30))}});return{transferType:this.transferType,status:"pending",sourceChainProvider:this.sourceChainProvider,sourceChainTransaction:d,destinationChainProvider:this.destinationChainProvider}}constructor(e){if(super(e),this.transferType="erc20_withdrawal",this.requiresTokenApproval=async e=>{var t;let{amount:a,signer:r}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let n=await this.getDestinationChainErc20Address(),s=await tc(r);if((null!==(t=rz[await tu(this.sourceChainProvider)])&&void 0!==t?t:[]).map(e=>e.l1Address.toLowerCase()).includes(n.toLowerCase())&&this.sourceChainErc20Address){let e=tA.ERC20__factory.connect(this.sourceChainErc20Address,this.sourceChainProvider),t=await this.getSourceChainGatewayAddress();return(await e.allowance(s,t)).lt(a)}return!1},!this.sourceChainErc20Address)throw Error("Erc20 token address not found")}}class rV extends rT{async getBridger(){if(this.l1l3Bridger)return this.l1l3Bridger;let e=await (0,e6.getArbitrumNetwork)(this.destinationChainProvider);return this.l1l3Bridger=new e6.EthL1L3Bridger(e),this.l1l3Bridger}async getL2Provider(){if(this.l2Provider)return this.l2Provider;let{l2Provider:e}=await ta({destinationChainProvider:this.destinationChainProvider});return this.l2Provider=e,this.l2Provider}async requiresNativeCurrencyApproval(){return!1}async approveNativeCurrency(){}async approveNativeCurrencyEstimateGas(){}async transferEstimateGas(e){let{amount:t,signer:a}=e,r=await this.getL2Provider(),n=await this.getBridger();try{let e=await n.getDepositRequest({l1Signer:a,amount:t,l1Provider:this.sourceChainProvider,l2Provider:r,l3Provider:this.destinationChainProvider}),s=await this.sourceChainProvider.estimateGas(e.txRequest);return{estimatedParentChainGas:tm(s,az.O$.from(5)),estimatedChildChainGas:eZ._Y}}catch(e){return console.warn("Error while estimating gas, falling back to hardcoded values.",e),{estimatedParentChainGas:az.O$.from(24e4),estimatedChildChainGas:eZ._Y}}}async transfer(e){let{amount:t,signer:a}=e,r=await tc(a),n=await this.getL2Provider(),s=await this.getBridger(),i=await s.getDepositRequest({l1Signer:a,destinationAddress:r,amount:t,l1Provider:this.sourceChainProvider,l2Provider:n,l3Provider:this.destinationChainProvider}),o=await s.deposit({...i,l1Signer:a});return{transferType:this.transferType,status:"pending",sourceChainProvider:this.sourceChainProvider,sourceChainTransaction:{...o},destinationChainProvider:this.destinationChainProvider}}constructor(e){super(e),this.transferType="eth_teleport",this.requiresTokenApproval=async()=>!1,this.approveTokenEstimateGas=async()=>{},this.approveToken=async()=>{}}}class rq extends rT{async getBridger(){if(this.l1l3Bridger)return this.l1l3Bridger;let e=await (0,e6.getArbitrumNetwork)(this.destinationChainProvider);return this.l1l3Bridger=new e6.Erc20L1L3Bridger(e),this.l1l3Bridger}async getL2Provider(){if(this.l2Provider)return this.l2Provider;let{l2Provider:e}=await ta({destinationChainProvider:this.destinationChainProvider});return this.l2Provider=e,this.l2Provider}async requiresNativeCurrencyApproval(){return!1}async approveNativeCurrency(){}async approveNativeCurrencyEstimateGas(){}async approveTokenEstimateGas(e){let{signer:t,amount:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await tc(t),n=(await this.getBridger()).teleporter.l1Teleporter;return tA.ERC20__factory.connect(this.sourceChainErc20Address,this.sourceChainProvider).estimateGas.approve(n,null!=a?a:eZ.Bz,{from:r})}async approveToken(e){let{signer:t,amount:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");return(await this.getBridger()).approveToken({erc20L1Address:this.sourceChainErc20Address,l1Signer:t,amount:a})}async transferEstimateGas(e){let{amount:t,signer:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await this.getL2Provider(),n=await this.getBridger();try{let e=await n.getDepositRequest({l1Signer:a,erc20L1Address:this.sourceChainErc20Address,amount:t,l1Provider:this.sourceChainProvider,l2Provider:r,l3Provider:this.destinationChainProvider}),s=await this.sourceChainProvider.estimateGas(e.txRequest);return{estimatedParentChainGas:tm(s,az.O$.from(5)),estimatedChildChainGas:eZ._Y}}catch(e){return console.warn("Error while estimating gas, falling back to hardcoded values.",e),{estimatedParentChainGas:az.O$.from(8e5),estimatedChildChainGas:eZ._Y}}}async transfer(e){let{amount:t,signer:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await tc(a),n=await this.getL2Provider(),s=await this.getBridger(),i=await s.getDepositRequest({l1Signer:a,destinationAddress:r,erc20L1Address:this.sourceChainErc20Address,amount:t,l1Provider:this.sourceChainProvider,l2Provider:n,l3Provider:this.destinationChainProvider}),o=await s.deposit({txRequest:i.txRequest,l1Signer:a});return{transferType:this.transferType,status:"pending",sourceChainProvider:this.sourceChainProvider,sourceChainTransaction:o,destinationChainProvider:this.destinationChainProvider}}constructor(e){if(super(e),this.transferType="erc20_teleport",this.requiresTokenApproval=async e=>{let{amount:t,signer:a}=e;if(!this.sourceChainErc20Address)throw Error("Erc20 token address not found");let r=await tc(a),n=(await this.getBridger()).teleporter.l1Teleporter;return(await tS({address:this.sourceChainErc20Address,provider:this.sourceChainProvider,owner:r,spender:n})).lt(t)},!this.sourceChainErc20Address)throw Error("Erc20 token address not found")}}let rJ={};class rK{static create(e){var t,a,r,n,s,i;let o;let l={sourceChainProvider:tx(e.sourceChainId),destinationChainProvider:tx(e.destinationChainId),sourceChainErc20Address:e.sourceChainErc20Address,destinationChainErc20Address:e.destinationChainErc20Address},{isDeposit:d,isNativeCurrencyTransfer:c,isSupported:u,isTeleport:h}=th(e);if(!u)throw Error("Unsupported transfer detected");let m=(o="source:".concat(e.sourceChainId,"-destination:").concat(e.destinationChainId),e.sourceChainErc20Address&&(o+="-sourceErc20:".concat(e.sourceChainErc20Address)),e.destinationChainErc20Address&&(o+="-destinationErc20:".concat(e.destinationChainErc20Address)),o),p=rJ[m];return void 0!==p?p:h?c?(t=new rV(l),rJ[m]=t,t):(a=new rq(l),rJ[m]=a,a):d?c?(n=new r_(l),rJ[m]=n,n):(r=new rW(l),rJ[m]=r,r):c?(i=new rY(l),rJ[m]=i,i):(s=new rX(l),rJ[m]=s,s)}}function rQ(e){var t;let{address:a}=(0,J.mA)(),{isOpen:r,token:n,isCctp:s}=e,{ethToUSD:i}=rw(),[o]=ty(),{sourceChain:l,destinationChain:d,sourceChainProvider:c,destinationChainProvider:u}=o,{childChainProvider:h,parentChain:m,parentChainProvider:p,isDepositMode:f,isTeleportMode:x}=ae(o),{isEthereumMainnet:b,isTestnet:C}=(0,ez.CR)(m.id),y=rv({provider:f?p:h}),g=(0,J.xx)(),{data:w}=(0,J.mx)({chainId:g}),[v,A]=(0,V.useState)(!1),[j,T]=(0,V.useState)(eZ._Y),[N,k]=(0,V.useState)(""),E=(0,V.useMemo)(()=>parseFloat(eW.formatEther(j.mul(y))),[j,y]),I=(0,V.useMemo)(()=>aq(E,{symbol:eo.Xx.symbol}),[E]),S=(0,V.useMemo)(()=>{let e=aX(i(E));return"".concat(b?" (".concat(e,")"):"")},[E,i,b]),D="".concat(I," ").concat(S).trim();return(0,V.useEffect)(()=>{r&&async function(){let e;if(null==n?void 0:n.address){if(w){if(s){let t=new rM({sourceChainProvider:c,destinationChainProvider:u});e=await t.approveTokenEstimateGas({amount:eZ.Bz,signer:w})}else{let t=await rK.create({sourceChainId:l.id,sourceChainErc20Address:f?n.address:n.l2Address,destinationChainId:d.id,destinationChainErc20Address:f?n.l2Address:n.address});e=await t.approveTokenEstimateGas({signer:w})}}else e=eZ._Y;e&&T(e)}}()},[s,r,f,C,w,a,null==n?void 0:n.address,null==n?void 0:n.l2Address,l,c,d,u,g]),(0,V.useEffect)(()=>{(async function(){if(s){var e;k(null===(e=rS({sourceChainId:g}))||void 0===e?void 0:e.tokenMessengerContractAddress);return}if(!(null==n?void 0:n.address)){k("");return}if(x){let e=await tp({sourceChainId:l.id,destinationChainId:d.id});if(!(e instanceof e6.Erc20L1L3Bridger))throw Error("Error initializing L1L3Bridger.");k(e.teleporter.l1Teleporter);return}if(f){k(await tL({erc20ParentChainAddress:n.address,parentChainProvider:p,childChainProvider:h}));return}k(await tM({erc20L1Address:n.address,l2Provider:h}))})()},[g,h,s,f,p,null==n?void 0:n.address,l.id,d.id,x]),(0,X.jsx)(ey,{...e,onClose:function(t){e.onClose(t),A(!1)},title:"Acknowledge approval and deposit fees",actionButtonTitle:"Pay approval fee of ".concat(D),actionButtonProps:{disabled:!v},children:(0,X.jsxs)("div",{className:"flex flex-col space-y-4 py-4",children:[(0,X.jsx)(rx,{token:n}),(0,X.jsx)(rg,{label:(0,X.jsx)("div",{children:(0,X.jsxs)("span",{className:"text-sm font-light",children:["I understand that I have to"," ",(0,X.jsx)("span",{className:"font-medium",children:"pay a one-time approval fee"})," ","of ",(0,X.jsx)("span",{className:"font-medium",children:I})," ",S," for each new token or spending cap."]})}),checked:v,onChange:A}),(0,X.jsxs)("div",{className:"text-sm",children:["This transaction gives permission to the"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat((0,ez.jY)(g),"/address/").concat(N),onClick:e=>{e.stopPropagation()},children:function(e){let t=e.length;return"".concat(e.substring(0,7),"...").concat(e.substring(t-4,t))}(N)})," ","contract to transfer a capped amount of"," ",null!==(t=null==n?void 0:n.symbol)&&void 0!==t?t:"a specific token","."]}),(0,X.jsx)("div",{className:"flex flex-col",children:(0,X.jsxs)(eK,{children:["After approval, you'll see a second prompt in your wallet for the ",f?"deposit":"withdrawal"," transaction.",(0,X.jsx)(es,{href:eo.E2,className:"arb-hover ml-1 underline",children:"Learn more."})]})})]})})}var r$=a(62671);let r0=(0,V.forwardRef)((e,t)=>{var a;return(0,X.jsx)(r$.O,{ref:t,className:"".concat("text-white px-3 mr-2 pb-1 ui-selected:border-b-4 ui-selected:border-white ui-not-selected:text-white/80 arb-hover"," ").concat(null!==(a=e.className)&&void 0!==a?a:""),...e,children:e.children})});r0.displayName="TabButton";var r2=a(95965),r1=a(38673),r3=a(19808),r6=a(46112),r4=a(96615);function r5(e,t){r4.ZP.capture(e,t)}function r8(e){let[t,a]=(0,r2.ZP)("arbitrum:bridge:favorite-fast-bridges",[]);function r(t){e.selectedNonCanonicalToken?r5("Fast Bridge Click",{bridge:t,tokenSymbol:e.selectedNonCanonicalToken}):r5("Fast Bridge Click",{bridge:t})}function n(e){return t.includes(e)}let s=e.bridgeList.sort((e,t)=>{let a=n(e.name),r=n(t.name);return a&&!r?-1:!a&&r?1:e.name<t.name?-1:1});return(0,X.jsx)("div",{className:"rounded border border-gray-dark",children:(0,X.jsxs)("table",{className:"w-full overflow-hidden rounded",children:[(0,X.jsx)("thead",{className:"bg-black text-left",children:(0,X.jsxs)("tr",{className:"text-white",children:[(0,X.jsx)("th",{className:"w-1/5 px-5 py-4 font-normal",children:"Favorite"}),(0,X.jsx)("th",{className:"px-5 py-4 font-normal",children:"Bridge"}),(0,X.jsx)("th",{className:"px-5 py-4 font-normal"})]})}),(0,X.jsx)("tbody",{className:"font-light",children:s.map(e=>(0,X.jsxs)("tr",{className:"cursor-pointer rounded border-t border-white bg-black transition duration-300 hover:bg-white/20",children:[(0,X.jsx)("td",{children:(0,X.jsx)(es,{href:e.href,className:"flex items-center px-5 py-3",onClick:()=>r(e.name),children:(0,X.jsx)("button",{onClick:r=>{var n;r.preventDefault(),r.stopPropagation(),n=e.name,t.includes(n)?a(t.filter(e=>e!==n)):a([...t,n])},className:"arb-hover",children:n(e.name)?(0,X.jsx)(r6.Z,{className:"h-5 w-5 text-white"}):(0,X.jsx)(r1.Z,{className:"h-5 w-5 text-white"})})})}),(0,X.jsx)("td",{children:(0,X.jsx)(es,{href:e.href,onClick:()=>r(e.name),children:(0,X.jsxs)("div",{className:"flex items-center space-x-4 px-5 py-3",children:[(0,X.jsx)(am(),{src:e.imageSrc,alt:e.name,className:"bridge-logos h-6 w-6 rounded-full object-contain",width:32,height:32}),(0,X.jsx)("span",{className:"text-sm",children:e.name})]})})}),(0,X.jsx)("td",{children:(0,X.jsx)(es,{href:e.href,className:"arb-hover flex w-full items-center justify-end pr-5 text-gray-4",onClick:()=>r(e.name),children:(0,X.jsx)(r3.Z,{className:"h-3 w-3"})})})]},e.name))})]})})}var r9={src:"/arbitrum-token-bridge/_next/static/media/hop.536c4a3a.png",height:512,width:512,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEXCSOXfgLPfhsTuxuzokarbeLzjhq3QY83Wb8bLWNjRbt7y0+/Ub9TGTt7MYd7afcvhmtzbjOP89fzll8Dkj7j55vHz2vfpqM3hltKr5S5MAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQklEQVR4nBXGSRLAIAgEwEFUQNyz/v+lqfSpIaKJcowwGSMcOcIKu19nRitL5n4IWHvKGwjotzOHBKD0WvVPMxPVD1MQAkACwfWmAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},r7={src:"/arbitrum-token-bridge/_next/static/media/celer.06538381.png",height:400,width:950,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAMAAACZFr56AAAAGFBMVEX///////////////////////////////8pK8DIAAAACHRSTlMKQ1ZQhyObLFvoTKUAAAAJcEhZcwAACxMAAAsTAQCanBgAAAAeSURBVHicBcGHAQAADIMgTdf/HxcgwwFobW8PxDLyAwoANz8bbHsAAAAASUVORK5CYII=",blurWidth:8,blurHeight:3},ne={src:"/arbitrum-token-bridge/_next/static/media/connext.2be95308.png",height:192,width:192,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEVMaXFNjf+/LM03t/+3lprshm/idnyyDPSNK/zxj2ZQif2iFPd3T/9Shf2jDPzkc4bMTarohWvYZI/kenp4S/1Ljf2MKvxAnvyyA/N8R/7QT6pnbP+vSNC5AAAAHHRSTlMALuQQCBrOKDYv531Hv2f+YM6gf+2XYLtD6YRqRW77MwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAD1JREFUeJwty7cBgDAQALFz/HfC5Lj/nhSgXuAdH5Mrg4Br7dJiA8dGVe5IfhBhmTDrfto5BtDC2NM/k+cFQckB5R69b4cAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},nt={src:"/arbitrum-token-bridge/_next/static/media/across.5e8e8be4.png",height:480,width:480,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAG1BMVEVs+ths+dhq+dpMaXFr+Ndn6MtHg3hXtKBYuaSO0TO1AAAABXRSTlP6sSkAsnfSyH0AAAAJcEhZcwAAA+gAAAPoAbV7UmsAAAAwSURBVHicPYtBDgAgDMI6Npz/f7FxiXIipZAKKCViIoplLwJwt4e69y3xpi/PPZQHE8wAiNQORCcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8},na={src:"/arbitrum-token-bridge/_next/static/media/stargate.3334d012.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAD1BMVEUBAQErKyuTk5NJSUlKSko7wlugAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAHElEQVR4nGNgwAKYGRmZwQxGJiZGVAYLTAoNAAAEUAAeXYy83AAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8},nr={src:"/arbitrum-token-bridge/_next/static/media/synapse.03157cce.png",height:64,width:64,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAS1BMVEUAAABmMYN0OZX9A/tTBFuCRPc5ElwWDB0nFjLKIfpjK6xWEG6QE6ynB6wAAQB9QaO6Jve4Kfk+Hm/6Bv14IKyBHKxrBG0/DlouGDuDYDUzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAQElEQVR4nBXKRxLAIAwAsQUMNj09/P+lmegsQugiLWfOB1Vqpg+8hxtZ3tTZiyynNi3RBm5CIdc/H5Ftv1IqMX5JRgIR9MgXvgAAAABJRU5ErkJggg==",blurWidth:8,blurHeight:8};(f=O||(O={})).Hop="Hop",f.Celer="Celer",f.Connext="Connext",f.Across="Across",f.Stargate="Stargate",f.Synapse="Synapse",f.Wormhole="Wormhole",f.LIFI="LI.FI",f.Router="Router",(B||(B={})).USDC="USDC",eo.Bu;let nn=[{name:"Celer",imageSrc:r7,getHref:e=>{let{transferMode:t}=e;return"deposit"===t?"https://cbridge.celer.network/bridge/ethereum-arbitrum/":"https://cbridge.celer.network/bridge/arbitrum-ethereum/"}},{name:"Wormhole",imageSrc:{src:"/arbitrum-token-bridge/_next/static/media/wormhole.5f6b7a37.svg",height:40,width:40,blurWidth:0,blurHeight:0},getHref:()=>"https://www.portalbridge.com/usdc-bridge/"},{name:"Router",imageSrc:{src:"/arbitrum-token-bridge/_next/static/media/router.80a9736e.webp",height:96,width:96,blurDataURL:"data:image/webp;base64,UklGRlQAAABXRUJQVlA4IEgAAADQAQCdASoIAAgAAkA4JQBOgB6R/ruugAD+99SGQNjoL9eA9QlK0NsfMJId8Qa6oYfVPTgBWOEEum90I2qHz4aKvJpjP38D5AA=",blurWidth:8,blurHeight:8},getHref:e=>{let{from:t,to:a,fromTokenAddress:r,toTokenAddress:n,transferMode:s}=e;return"https://app.thevoyager.io/swap?fromChain=".concat(t,"&toChain=").concat(a,"&fromToken=").concat(r,"&toToken=").concat(n)}}];function ns(){return(0,X.jsx)("div",{className:"flex",children:(0,X.jsxs)("div",{className:"flex h-fit items-center space-x-1 rounded bg-lime-dark p-2 text-xs text-lime",children:[(0,X.jsx)(aZ.Z,{height:16}),(0,X.jsx)("span",{children:"Security guaranteed by Ethereum"})]})})}function ni(){return(0,X.jsx)("div",{className:"flex",children:(0,X.jsxs)("div",{className:"flex h-fit items-center space-x-1 rounded bg-orange-dark p-2 text-xs text-orange",children:[(0,X.jsx)(ep.Z,{height:16}),(0,X.jsx)("span",{children:"Security not guaranteed by Arbitrum"})]})})}var no=a(71926);function nl(e){var t;return e.messageSent.amount=(t=e.messageSent.amount,eW.formatUnits(t,6)),e}async function nd(e){let{walletAddress:t,l1ChainId:a,pageNumber:r,pageSize:n,type:s}=e,i=new URLSearchParams((0,en.$m)({walletAddress:t,l1ChainId:a,pageNumber:r,pageSize:n}));if(0===n)return{pending:[],completed:[]};let o=await fetch("".concat((0,en.DZ)(),"/api/cctp/").concat(s,"?").concat(i),{method:"GET",headers:{"Content-Type":"application/json"}}),{pending:l,completed:d}=(await o.json()).data;return{pending:l.map(e=>nl(e)),completed:d.map(e=>nl(e))}}async function nc(e){return nd({...e,type:"deposits"})}async function nu(e){return nd({...e,type:"withdrawals"})}let nh=new Set(["deposit-l2-auto-redeem","deposit-l2-ticket-created","deposit-l2"]);function nm(e){return void 0!==e.l2ToL3MsgData}function np(e,t,a){let r=[...e],n=r.findIndex(e=>e.txID===a),s=r[n];return s?(r[n]={...s,status:t},r):(console.warn("transaction not found",a),e)}let nf=(e,t)=>{let a=function(e,t){switch(t.type){case"SET_INITIAL_TRANSACTIONS":return[...t.transactions];case"ADD_TRANSACTIONS":{let a=new Set(e.map(e=>e.txID)),r=t.transactions.filter(e=>!a.has(e.txID)||(console.warn("Warning: trying to add ".concat(e.txID," which is already included")),!1));return e.concat(r)}case"ADD_TRANSACTION":return e.concat(t.transaction);case"REMOVE_TRANSACTION":return e.filter(e=>e.txID!==t.txID);case"SET_SUCCESS":return np(e,"success",t.txID);case"SET_FAILURE":return np(e,"failure",t.txID);case"CLEAR_PENDING":return e.filter(e=>"pending"!==e.status);case"CONFIRM_TRANSACTION":return np(e,"confirmed",t.txID);case"SET_BLOCK_NUMBER":return function(e,t,a){let r=[...e],n=r.findIndex(e=>e.txID===t),s=r[n];return s?(r[n]={...s,blockNumber:a},r):(console.warn("transaction not found",t),e)}(e,t.txID,t.blockNumber);case"SET_RESOLVED_TIMESTAMP":return function(e,t,a){let r=[...e],n=r.findIndex(e=>e.txID===t),s=r[n];return s?(r[n]={...s,timestampResolved:a},r):(console.warn("transaction not found",t),e)}(e,t.txID,t.timestamp);case"UPDATE_L1TOL2MSG_DATA":return function(e,t,a){let r=[...e],n=r.findIndex(e=>e.txID===t),s=r[n];if(!s)return console.warn("transaction not found",t),e;if(!("deposit"===s.type||"deposit-l1"===s.type))throw Error("Attempting to add a l1tol2msg to a tx that isn't a deposit:"+t);let i=s.parentToChildMsgData;return i?r[n]={...s,parentToChildMsgData:{...i,...a}}:r[n]={...s,parentToChildMsgData:{status:a.status,retryableCreationTxID:a.retryableCreationTxID,fetchingUpdate:!1}},r}(e,t.txID,t.l1ToL2MsgData);case"SET_TRANSACTIONS":return t.transactions;default:return e}}(e,t),r=a.map(e=>e.parentToChildMsgData&&e.parentToChildMsgData.fetchingUpdate?{...e,parentToChildMsgData:{...e.parentToChildMsgData,fetchingUpdate:!1}}:e);return window.localStorage.setItem("arbTransactions",JSON.stringify(r)),a};var nx=()=>{let[e,t]=(0,V.useReducer)(nf,[]);(0,V.useEffect)(()=>{let e=window.localStorage.getItem("arbTransactions");t({type:"SET_INITIAL_TRANSACTIONS",transactions:e?JSON.parse(e):[]})},[]);let a=async(e,a)=>{t({type:"UPDATE_L1TOL2MSG_DATA",txID:e,l1ToL2MsgData:a})},r=e=>t({type:"SET_SUCCESS",txID:e}),n=(e,a)=>t({type:"SET_BLOCK_NUMBER",txID:e,blockNumber:a}),s=(e,a)=>t({type:"SET_RESOLVED_TIMESTAMP",txID:e,timestamp:a}),i=e=>{if(!e){console.warn(" Cannot set transaction failure: TxID not included (???)");return}return t({type:"SET_FAILURE",txID:e})};return[(0,V.useMemo)(()=>e.filter(e=>!nh.has(e.type)),[e]),{addTransaction:e=>{if(!e.txID){console.warn(" Cannot add transaction: TxID not included (???)");return}return t({type:"ADD_TRANSACTION",transaction:{...e,timestampCreated:new Date().toISOString()}})},updateTransaction:(e,t,o)=>{if(!e.transactionHash)return console.warn("*** TransactionHash not included in transaction receipt (???) *** ");switch(e.status){case 0:i(e.transactionHash);break;case 1:r(e.transactionHash);break;default:console.warn("*** Status not included in transaction receipt *** ")}(null==t?void 0:t.blockNumber)&&n(e.transactionHash,t.blockNumber),t&&s(e.transactionHash,new Date().toISOString()),o&&a(e.transactionHash,o)}}]};function nb(e){let{event:t,l2ChainId:a}=e;return void 0!==t.batchNumber?"l2ChainId: ".concat(a,", batchNumber: ").concat(t.batchNumber.toString(),", indexInBatch: ").concat(t.indexInBatch.toString()):"l2ChainId: ".concat(a,", position: ").concat(t.position.toString())}function nC(e){return e.hash?e.hash:e.uniqueId}class ny extends Error{constructor(e){super(e),this.name="TokenDisabledError"}}let ng=e=>{let{l1:t,l2:a}=e,{address:r}=(0,J.mA)(),[n,s]=(0,V.useState)(void 0),{destinationAddress:i}=aE(),{erc20:[,o]}=ag({chainId:t.network.id,walletAddress:r}),{erc20:[,l]}=ag({chainId:a.network.id,walletAddress:r}),{erc20:[,d]}=ag({chainId:t.network.id,walletAddress:i}),{erc20:[,c]}=ag({chainId:a.network.id,walletAddress:i}),[u,h]=(0,r2._)("arbitrum:bridge:executed-messages",{}),m=(0,V.useMemo)(()=>String(t.network.id),[t.network.id]),[p,{addTransaction:f,updateTransaction:x}]=nx(),b=async(e,r)=>{let n=t.network.id,i=a.network.id,d={},c=[];for(let t of e.tokens){let{address:a,name:s,symbol:o,extensions:l,decimals:h,logoURI:p,chainId:f}=t;if(![n,i].includes(f))continue;let x=l&&l.bridgeInfo&&Object.keys(l.bridgeInfo).map(e=>l.bridgeInfo[e]).every(e=>e&&"tokenAddress"in e&&"originBridgeAddress"in e&&"destBridgeAddress"in e)?l.bridgeInfo:null;if(x){var u;let e=null===(u=x[m])||void 0===u?void 0:u.tokenAddress.toLowerCase();if(!e)return;d[e]={name:s,type:k.ERC20,symbol:o,address:e,l2Address:a.toLowerCase(),decimals:h,logoURI:p,listIds:new Set([r])}}else e.tokens.length<1e3&&c.push({name:s,type:k.ERC20,symbol:o,address:a.toLowerCase(),decimals:h,logoURI:p,listIds:new Set([r])})}let h=new Set(Object.keys(d).map(e=>e.toLowerCase()));for(let e of c)h.has(e.address.toLowerCase())||(d[e.address]=e);s(e=>{let t=[],a=[];for(let s in(0,ez.CR)(i).isArbitrumOne&&a.push(tj.ArbitrumOne.USDC),(0,ez.CR)(i).isArbitrumSepolia&&a.push(tj.ArbitrumSepolia.USDC),d){var n;let i=d[s];if(!i)return;let{address:o,l2Address:l}=i;o&&t.push(o),l&&a.push(l);let c=(null==e?void 0:null===(n=e[i.address])||void 0===n?void 0:n.listIds)||new Set;i.listIds=new Set([...c,r])}return o(t),l(a),{...e,...d}})};async function C(e){let n,i;if(!r)return;let d=e.toLowerCase(),c=await tD({erc20L2Address:d,l2Provider:a.provider});c?(n=c,i=d):(n=d,i=tt({sourceChainId:t.network.id,destinationChainId:a.network.id})?await tP({erc20L1Address:n,l1Provider:t.provider,l3Provider:a.provider}):await tR({erc20L1Address:n,l1Provider:t.provider,l2Provider:a.provider}));let u={},h={address:n,provider:t.provider};if(!await tI(h))throw Error("".concat(n," is not a valid ERC-20 token"));let{name:m,symbol:p,decimals:f}=await tE(h);if(await t_({erc20L1Address:n,l1Provider:t.provider,l2Provider:a.provider}))throw new ny("Token currently disabled");let x=n.toLowerCase();u[x]={name:m,type:k.ERC20,symbol:p,address:x,l2Address:null==i?void 0:i.toLowerCase(),decimals:f,listIds:new Set},s(e=>({...e,...u})),o([x]),i&&l([i])}let y=(0,V.useCallback)(async e=>{if(void 0===n)return;let t=e.toLowerCase(),a=n[t];if(!a)return;let r={[t]:a};s(e=>({...e,...r}));let{l2Address:u}=a;o([t]),i&&d([t]),u&&(l([u]),i&&c([u]))},[n,s,o,l,d,c]);function g(e){let t={};e.forEach(e=>{t[nb({event:e,l2ChainId:a.network.id})]=!0}),h({...u,...t})}return{bridgeTokens:n,eth:{triggerOutbox:async function(e){let{event:t,l1Signer:a}=e;if(!t)throw Error("Outbox message not found");if(!r)return;let n=tx(t.parentChainId),s=tx(t.childChainId),i=e6.ChildToParentMessage.fromEvent(a,t,n),o=await i.execute(s),l=await o.wait();return 1===l.status&&g([t]),l}},token:{add:C,addL2NativeToken:function(e){let t=function(e,t){var a;let r=(null!==(a=ax[t])&&void 0!==a?a:[]).find(t=>t.address.toLowerCase()===e.toLowerCase());if(void 0===r)throw Error("Can't find L2-native token with address ".concat(e," on chain ").concat(t));return r}(e,a.network.id);s(e=>({...e,["L2-NATIVE:".concat(t.address)]:{name:t.name,type:k.ERC20,symbol:t.symbol,address:t.address,l2Address:t.address,decimals:t.decimals,logoURI:t.logoURI,listIds:new Set,isL2Native:!0}}))},addTokensFromList:b,removeTokensFromList:e=>{s(t=>{let a={...t};for(let t in n){let r=n[t];r&&(r.listIds.delete(e),0===r.listIds.size&&delete a[t])}return a})},updateTokenData:y,triggerOutbox:async function(e){let{event:t,l1Signer:a}=e;if(!t)throw Error("Outbox message not found");if(!r)return;let n=tx(t.parentChainId),s=tx(t.childChainId),i=e6.ChildToParentMessage.fromEvent(a,t,n),o=await i.execute(s),l=await o.wait();return 1===l.status&&g([t]),l}},transactions:{transactions:p,updateTransaction:x,addTransaction:f}}};async function nw(e){let{parentChainTxHash:t,retryableCreationId:a,parentChainProvider:r,childChainSigner:n}=e;if(!a)throw Error("Error: Couldn't find retryable ticket creation id");let s=new e6.ParentTransactionReceipt(await r.getTransactionReceipt(t)),i=(await s.getParentToChildMessages(n)).find(e=>e.retryableCreationId===a);if(void 0===i)throw Error("Error: Couldn't find retryable ticket");return i}let nv=e=>{var t;return(null===(t=e.parentToChildMsgData)||void 0===t?void 0:t.status)===e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD},nA=e=>{var t;return void 0!==(null===(t=e.l2ToL3MsgData)||void 0===t?void 0:t.l2ForwarderRetryableTxID)},nj=e=>nv(e)||nA(e),nT=e=>{var t;return!nA(e)&&(null===(t=e.l2ToL3MsgData)||void 0===t?void 0:t.status)===e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD},nN=e=>{if(tt(e)&&nm(e)&&nj(e)){if(!e.l2ToL3MsgData)throw Error("Could not find destination chain id for redeeming retryable for ".concat(e.txId));return e.l2ToL3MsgData.l2ChainId}return e.childChainId},nk={[e6.ChildToParentMessageStatus.UNCONFIRMED]:"Unconfirmed",[e6.ChildToParentMessageStatus.CONFIRMED]:"Confirmed",[e6.ChildToParentMessageStatus.EXECUTED]:"Executed"},nE=e=>{if(void 0!==e.type&&"deposit"!==e.type&&"deposit-l1"!==e.type||void 0!==e.direction&&e.isWithdrawal)return;if("failure"===e.status)return T.L1_FAILURE;if("pending"===e.status)return T.L1_PENDING;if(nm(e)){let{l2ToL3MsgData:t,parentToChildMsgData:a}=e;if(!a||!t)return T.L2_PENDING;if(t.l2ForwarderRetryableTxID)return T.L2_FAILURE;let r=nI(a.status);if(r!==T.L2_SUCCESS)return r;let n=nI(t.status);return void 0!==n?n:a.status===e6.ParentToChildMessageStatus.REDEEMED?T.L2_PENDING:nI(a.status)}let{parentToChildMsgData:t}=e;if(!t)return T.L2_PENDING;switch(t.status){case e6.ParentToChildMessageStatus.NOT_YET_CREATED:return T.L2_PENDING;case e6.ParentToChildMessageStatus.CREATION_FAILED:return T.CREATION_FAILED;case e6.ParentToChildMessageStatus.EXPIRED:return e.assetType===E.ETH?T.L2_SUCCESS:T.EXPIRED;case e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD:return e.assetType===E.ETH?T.L2_SUCCESS:T.L2_FAILURE;case e6.ParentToChildMessageStatus.REDEEMED:return T.L2_SUCCESS}};function nI(e){switch(e){case e6.ParentToChildMessageStatus.NOT_YET_CREATED:return T.L2_PENDING;case e6.ParentToChildMessageStatus.CREATION_FAILED:return T.CREATION_FAILED;case e6.ParentToChildMessageStatus.EXPIRED:return T.EXPIRED;case e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD:return T.L2_FAILURE;case e6.ParentToChildMessageStatus.REDEEMED:return T.L2_SUCCESS}}let nS=e=>{let t={sender:e.sender,destination:e.destination,direction:e.type,status:e.status,createdAt:e.timestampCreated?nP(e.timestampCreated):null,resolvedAt:e.timestampResolved?nP(e.timestampResolved):null,txId:e.txID,asset:e.assetName||"",assetType:e.assetType,value:e.value,uniqueId:null,isWithdrawal:!1,blockNum:e.blockNumber||null,tokenAddress:e.tokenAddress||null,parentToChildMsgData:e.parentToChildMsgData,childToParentMsgData:e.childToParentMsgData,depositStatus:nE(e),parentChainId:Number(e.l1NetworkID),childChainId:Number(e.l2NetworkID),sourceChainId:Number(e.l1NetworkID),destinationChainId:Number(e.l2NetworkID)};return nm(e)?{...t,l2ToL3MsgData:e.l2ToL3MsgData}:t},nD=e=>{var t;let a=nC(e);return{sender:e.sender,destination:e.destinationAddress,direction:"outbox",status:e.nodeBlockDeadline===I.EXECUTE_CALL_EXCEPTION?"Failure":nk[e.outgoingMessageState],createdAt:nP(String(1e3*az.O$.from(e.timestamp).toNumber())),resolvedAt:null,txId:e.l2TxHash||"l2-tx-hash-not-found",asset:e.symbol||"",assetType:e.type,value:eW.formatUnits(null===(t=e.value)||void 0===t?void 0:t.toString(),e.decimals),uniqueId:a,isWithdrawal:!0,blockNum:e.ethBlockNum.toNumber(),tokenAddress:e.tokenAddress||null,nodeBlockDeadline:e.nodeBlockDeadline,parentChainId:e.parentChainId,childChainId:e.childChainId,sourceChainId:e.childChainId,destinationChainId:e.parentChainId}},nL=e=>nM(e)&&e.tokenAddress,nM=e=>"deposit"===e.direction||"deposit-l1"===e.direction,nR=e=>tt(e)&&nm(e)?nj(e)||nT(e):nM(e)&&e.depositStatus===T.L2_FAILURE,nP=e=>"string"==typeof e?isNaN(Number(e))?eG()(new Date(e)).unix():Number(e):e.toNumber();var n_=a(66635);function nO(e){switch(e){case ez.a_.ArbitrumOne:case ez.a_.ArbitrumNova:case ez.a_.ArbitrumSepolia:return!0;default:return!1}}let nB=async e=>{let t=await fetch("".concat((0,en.DZ)(),"/api/chains/").concat(e,"/block-number"),{method:"GET",headers:{"Content-Type":"application/json"}});return(await t.json()).data},nU=e=>{let{type:t,isSmartContractWallet:a,isConnectedToParentChain:r}=e;return!a||(r?"deposits"===t:"withdrawals"===t)},nF=e=>{let{type:t,isSmartContractWallet:a,isConnectedToParentChain:r}=e;return!a||(r?"withdrawals"===t:"deposits"===t)};async function nG(e){let{sender:t,receiver:a,fromBlock:r,toBlock:n,l2ChainId:s,pageSize:i=10,pageNumber:o=0,searchString:l=""}=e;if(r>=n)return[];let d=new URLSearchParams((0,en.$m)({sender:t,receiver:a,fromBlock:r,toBlock:n,l2ChainId:s,pageSize:i,page:o,search:l}));if(!function(e){switch(e){case ez.a_.ArbitrumOne:case ez.a_.ArbitrumNova:case ez.a_.ArbitrumSepolia:return!0;default:return!1}}(Number(s)))throw Error("L2 subgraph not available for network: ".concat(s));if(0===i)return[];let c=await fetch("".concat((0,en.DZ)(),"/api/withdrawals?").concat(d),{method:"GET",headers:{"Content-Type":"application/json"}});return(await c.json()).data}async function nH(e){let{sender:t,receiver:a,fromBlock:r,toBlock:n,l2Provider:s,l2GatewayAddresses:i=[]}=e,o=await e6.Erc20Bridger.fromProvider(s),l=[];return i.forEach(e=>{t&&l.push(o.getWithdrawalEvents(s,e,{fromBlock:r,toBlock:n},void 0,t,void 0)),a&&l.push(o.getWithdrawalEvents(s,e,{fromBlock:r,toBlock:n},void 0,void 0,a))}),[...new Map((await Promise.all(l)).flat().map(e=>[e.txHash,e])).values()]}async function nW(e){let t=await (0,e6.getArbitrumNetwork)(e);if(!t.tokenBridge)return[];let{childErc20Gateway:a,childCustomGateway:r,childWethGateway:n}=t.tokenBridge,s=[a,r,n],i=ez.QD[t.chainId],o=ez.Uj[t.chainId],l=ez.t9[t.chainId],d=ez.wy[t.chainId],c=ez.c4[t.chainId];return i&&s.push(i),o&&s.push(o),l&&s.push(l),d&&s.push(d),c&&s.push(c),s}var nZ=a(32235);async function nY(e){let{withdrawal:t,l2Provider:a}=e,r=await a.getTransactionReceipt(t.txHash),[n]=new e6.ChildTransactionReceipt(r).getChildToParentEvents();return{...t,timestamp:null==n?void 0:n.timestamp}}async function nz(e){let{event:t,l1Provider:a,l2Provider:r}=e,{callvalue:n}=t,s=await nX(t,a,r,t.childChainId),i=await aO({provider:r});return{...t,sender:t.caller,destinationAddress:t.destination,type:E.ETH,value:n,symbol:i.symbol,outgoingMessageState:s,l2TxHash:t.l2TxHash||t.transactionHash,parentChainId:t.parentChainId,childChainId:t.childChainId,decimals:i.decimals}}async function nX(e,t,a,r){let n=nb({event:e,l2ChainId:r});if(JSON.parse(localStorage.getItem("arbitrum:bridge:executed-messages")||"{}")[n])return e6.ChildToParentMessageStatus.EXECUTED;let s=new e6.ChildToParentMessageReader(t,e);try{return await s.status(a)}catch(e){return e6.ChildToParentMessageStatus.UNCONFIRMED}}function nV(e){return void 0!==e.l1Token}async function nq(e){let{result:t,l1Provider:a,l2Provider:r}=e,{symbol:n,decimals:s}=await tE({address:t.l1Token,provider:a}),i=await r.getTransactionReceipt(t.txHash),o=new e6.ChildTransactionReceipt(i),[l]=o.getChildToParentEvents();if(!l)return;let d=await nX(l,a,r,t.childChainId),c=nZ.id("TransferRouted(address,address,address,address)"),u=i.logs.find(e=>!!e&&e.topics[0]===c),h=null==u?void 0:u.topics[2],m=null==u?void 0:u.topics[3];return h&&!ab.isAddress(h)&&(h="0x"+h.slice(-40)),m&&!ab.isAddress(m)&&(m="0x"+m.slice(-40)),{...l,sender:h,destinationAddress:m,type:E.ERC20,value:t._amount,tokenAddress:t.l1Token,outgoingMessageState:d,symbol:n,decimals:s,l2TxHash:o.transactionHash,parentChainId:t.parentChainId,childChainId:t.childChainId}}async function nJ(e){var t;let{withdrawal:a,l1Provider:r,l2Provider:n}=e,s=await n.getTransactionReceipt(a.l2TxHash),i=new e6.ChildTransactionReceipt(s),[o]=i.getChildToParentEvents();if(!o)return;let l=await nX(o,r,n,a.childChainId);if("TokenWithdrawal"===a.type&&(null==a?void 0:null===(t=a.l1Token)||void 0===t?void 0:t.id)){let{symbol:e,decimals:t}=await tE({address:a.l1Token.id,provider:r});return{...o,sender:a.sender,destinationAddress:a.receiver,type:E.ERC20,value:az.O$.from(a.tokenAmount),tokenAddress:a.l1Token.id,outgoingMessageState:l,symbol:e,decimals:t,l2TxHash:i.transactionHash,parentChainId:a.parentChainId,childChainId:a.childChainId}}let d=await aO({provider:n});return{...o,sender:a.sender,destinationAddress:a.receiver,type:E.ETH,value:az.O$.from(a.ethValue),outgoingMessageState:l,l2TxHash:i.transactionHash,symbol:d.symbol,decimals:d.decimals,parentChainId:a.parentChainId,childChainId:a.childChainId}}async function nK(e){let{sender:t,receiver:a,l1Provider:r,l2Provider:n,pageNumber:s=0,pageSize:i=10,searchString:o,fromBlock:l,toBlock:d}=e;if(void 0===t&&void 0===a)return[];let c=(await r.getNetwork()).chainId,u=(await n.getNetwork()).chainId,h=await nW(n);l||(l=0),d||(d=await nB(u));let m=[];try{m=(await nG({sender:t,receiver:a,fromBlock:l,toBlock:d,l2ChainId:u,pageNumber:s,pageSize:i,searchString:o})).map(e=>({...e,direction:"withdrawal",source:"subgraph",parentChainId:c,childChainId:u}))}catch(e){console.log("Error fetching withdrawals from subgraph",e)}let[p,f]=await Promise.all([function(e){let{receiver:t,fromBlock:a,toBlock:r,l2Provider:n}=e;return void 0===t?[]:e6.ChildToParentMessageReader.getChildToParentEvents(n,{fromBlock:a,toBlock:r},void 0,t)}({receiver:a,fromBlock:d+1,toBlock:"latest",l2Provider:n}),nH({sender:t,receiver:a,fromBlock:d+1,toBlock:"latest",l2Provider:n,l2GatewayAddresses:h})]),x=p.map(e=>({...e,direction:"withdrawal",source:"event_logs",parentChainId:c,childChainId:u})),b=f.map(e=>({...e,direction:"withdrawal",source:"event_logs",parentChainId:c,childChainId:u}));return[...x,...await Promise.all(b.map(e=>nY({withdrawal:e,l2Provider:n}))),...m]}let nQ=async e=>{let{sender:t,receiver:a,fromBlock:r,toBlock:n,l2ChainId:s,pageSize:i=10,pageNumber:o=0,searchString:l=""}=e;if(n&&r>=n)return[];let d=new URLSearchParams((0,en.$m)({sender:t,receiver:a,fromBlock:r,toBlock:n,l2ChainId:s,pageSize:i,page:o,search:l}));if(!nO(Number(s)))throw Error("L1 subgraph not available for network: ".concat(s));if(0===i)return[];let c=await fetch("".concat((0,en.DZ)(),"/api/deposits?").concat(d),{method:"GET",headers:{"Content-Type":"application/json"}});return(await c.json()).data},n$=async e=>{let{sender:t,receiver:a,fromBlock:r,toBlock:n,l1Provider:s,l2Provider:i,pageSize:o=10,pageNumber:l=0,searchString:d=""}=e;if(void 0===t&&void 0===a||!s||!i)return[];let c=(await s.getNetwork()).chainId,u=(await i.getNetwork()).chainId,h=await aO({provider:i});r||(r=0);let m=[];try{m=await nQ({sender:t,receiver:a,fromBlock:r,toBlock:n,l2ChainId:u,pageSize:o,pageNumber:l,searchString:d})}catch(e){console.log("Error fetching deposits from subgraph",e)}return m.map(e=>{var t,a,r,n;let s="EthDeposit"===e.type,i={assetName:h.symbol,assetType:E.ETH,tokenAddress:""};if(!s){let t=(null===(a=e.l1Token)||void 0===a?void 0:a.symbol)||"";i.assetName=t,i.assetType=E.ERC20,i.tokenAddress=(null==e?void 0:null===(r=e.l1Token)||void 0===r?void 0:r.id)||""}let o=s?e.ethValue:e.tokenAmount,l=null!==(n=null==e?void 0:null===(t=e.l1Token)||void 0===t?void 0:t.decimals)&&void 0!==n?n:0,d=s?h.decimals:l;return{type:"deposit-l1",status:"pending",direction:"deposit",source:"subgraph",value:eW.formatUnits(o||0,d),txID:e.transactionHash,tokenAddress:i.tokenAddress,sender:e.sender,destination:e.receiver,assetName:i.assetName,assetType:i.assetType,l1NetworkID:String(c),l2NetworkID:String(u),blockNumber:Number(e.blockCreatedAt),timestampCreated:e.timestamp,isClassic:e.isClassic,childChainId:u,parentChainId:c}})},n0=async e=>{let{depositTx:t,l1Provider:a,l2Provider:r}=e,n=new Date().toISOString();t.timestampCreated?n=String(1e3*Number(t.timestampCreated)):t.blockNumber&&(n=String(1e3*(await a.getBlock(t.blockNumber)).timestamp)),t.timestampCreated=n;let{isClassic:s}=t,i=t.assetType===E.ETH,{parentToChildMsg:o}=await n5({depositTxId:t.txID,parentProvider:a,childProvider:r,isEthDeposit:i,isClassic:s});if(tt({sourceChainId:t.parentChainId,destinationChainId:t.childChainId})){let{status:e,timestampResolved:a,l1ToL2MsgData:r,l2ToL3MsgData:n}=await n4({...t,txId:t.txID,sourceChainId:t.parentChainId,destinationChainId:t.childChainId});return{...t,status:e,timestampResolved:a,parentToChildMsgData:r,l2ToL3MsgData:n}}return s?n3({depositTx:t,l1ToL2Msg:o,isEthDeposit:i,timestampCreated:n,l2Provider:r}):i?n2({depositTx:t,ethDepositMessage:o,l2Provider:r,timestampCreated:n}):n1({depositTx:t,l1ToL2Msg:o,timestampCreated:n,l1Provider:a,l2Provider:r})},n2=async e=>{let{depositTx:t,ethDepositMessage:a,l2Provider:r,timestampCreated:n}=e;if(!a)return t;let s=await a.status()===e6.EthDepositMessageStatus.DEPOSITED,i=a.childTxHash,o=s?(await r.getTransaction(i)).blockNumber:null,l=o?1e3*(await r.getBlock(o)).timestamp:null;return{...t,status:i?"success":"pending",timestampCreated:n,timestampResolved:l?String(l):void 0,parentToChildMsgData:{status:s?e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD:e6.ParentToChildMessageStatus.NOT_YET_CREATED,retryableCreationTxID:i,childTxId:s?a.childTxHash:void 0,fetchingUpdate:!1}}},n1=async e=>{let{depositTx:t,l1ToL2Msg:a,timestampCreated:r,l1Provider:n,l2Provider:s}=e,i={...t,timestampCreated:r},{tokenAddress:o,assetName:l}=i;if(!l&&o){let{symbol:e}=await tE({address:o,provider:n});i.assetName=e}if(!a)return i;let d=await a.getSuccessfulRedeem(),c=d.status===e6.ParentToChildMessageStatus.REDEEMED?d.childTxReceipt.transactionHash:void 0,u={status:d.status,childTxId:c,fetchingUpdate:!1,retryableCreationTxID:a.retryableCreationId},h=u.status===e6.ParentToChildMessageStatus.REDEEMED?(await s.getTransaction(a.retryableCreationId)).blockNumber:null,m=h?1e3*(await s.getBlock(h)).timestamp:null;return{...i,status:a.retryableCreationId?"success":"pending",timestampCreated:r,timestampResolved:m?String(m):void 0,parentToChildMsgData:u}},n3=async e=>{let{depositTx:t,l1ToL2Msg:a,isEthDeposit:r,timestampCreated:n,l2Provider:s}=e,i={...t,timestampCreated:n},o=await a.status(),l=r&&o>=e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD?a.retryableCreationId:o===e6.ParentToChildMessageStatus.REDEEMED?a.childTxHash:void 0,d={status:o,childTxId:l,fetchingUpdate:!1,retryableCreationTxID:a.retryableCreationId},c=l?(await s.getTransaction(l)).blockNumber:null,u=c?1e3*(await s.getBlock(c)).timestamp:null;return{...i,status:l?"success":"pending",timestampCreated:n,timestampResolved:u?String(u):void 0,parentToChildMsgData:d}};async function n6(e,t){if(void 0!==t)return await e.getTransactionReceipt(t).then(e=>e.blockNumber).then(t=>e.getBlock(t)).then(e=>String(1e3*e.timestamp))}async function n4(e){let{assetType:t,sourceChainId:a,destinationChainId:r,txId:n}=e,s=t===E.ETH,i=tx(a),o=tx(r),{l2ChainId:l}=await ta({destinationChainProvider:o});try{let e=await tr({txId:n,sourceChainProvider:i,destinationChainProvider:o,isNativeCurrencyTransfer:s}),t={status:e6.ParentToChildMessageStatus.NOT_YET_CREATED,l2ChainId:l},a=s?e.l2Retryable:e.l1l2TokenBridgeRetryable,r=s?null:e.l2ForwarderFactoryRetryable,d=s?e.l3Retryable:e.l2l3TokenBridgeRetryable,c=await a.getSuccessfulRedeem(),u={status:await a.status(),childTxId:c&&c.status===e6.ParentToChildMessageStatus.REDEEMED?c.childTxReceipt.transactionHash:void 0,fetchingUpdate:!1,retryableCreationTxID:a.retryableCreationId};if(!e.completed&&r&&await r.status()===e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD)return{status:a?"success":"failure",timestampResolved:void 0,l1ToL2MsgData:u,l2ToL3MsgData:{...t,status:e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD,l2ForwarderRetryableTxID:r.retryableCreationId}};if(d){let e=await d.getSuccessfulRedeem(),n=e&&e.status===e6.ParentToChildMessageStatus.REDEEMED?e.childTxReceipt.transactionHash:void 0,s=await n6(o,n);if(r){let e=await r.getSuccessfulRedeem();if(e.status===e6.ParentToChildMessageStatus.REDEEMED)return{status:a?"success":"failure",timestampResolved:s,l1ToL2MsgData:{...u,childTxId:e.childTxReceipt.transactionHash},l2ToL3MsgData:{...t,l3TxID:n,status:await d.status(),retryableCreationTxID:d.retryableCreationId}}}return{status:a?"success":"failure",timestampResolved:s,l1ToL2MsgData:u,l2ToL3MsgData:{...t,status:await d.status(),l3TxID:n,retryableCreationTxID:d.retryableCreationId}}}return{status:a?"success":"failure",timestampResolved:void 0,l1ToL2MsgData:u,l2ToL3MsgData:t}}catch(e){return console.log("Error fetching status for teleporter tx",n),{status:"pending",l2ToL3MsgData:{status:e6.ParentToChildMessageStatus.NOT_YET_CREATED,l2ChainId:l}}}}let n5=async e=>{let{depositTxId:t,isEthDeposit:a,parentProvider:r,childProvider:n,isClassic:s}=e,i=await r.getTransactionReceipt(t);if(!i)return{};let o=new e6.ParentTransactionReceipt(i),l=async()=>{let[e]=await o.getParentToChildMessagesClassic(n);return{isClassic:!0,parentToChildMsg:e}},d=async()=>{if(a){let[e]=await o.getEthDeposits(n);return{isClassic:!1,parentToChildMsg:e}}let[e]=await o.getParentToChildMessages(n);return{isClassic:!1,parentToChildMsg:e}};return(null!=s?s:await o.isClassic(n))?l():d()};var n8=a(59256),n9=a(71320),n7=a(64973);let se="arbitrum:bridge:claim:parent:tx:details",st="arbitrum:bridge:deposits";function sa(e){return!e.isWithdrawal}function sr(e){return!0===e.isCctp}function sn(e){if(e.isCctp){var t;return"string"==typeof(null===(t=e.cctpData)||void 0===t?void 0:t.receiveMessageTransactionHash)}return sa(e)?e.depositStatus===T.L2_SUCCESS:e.status===N.EXECUTED}function ss(e){return!!e.isCctp&&(e.status===N.UNCONFIRMED||"pending"===e.status)||(sa(e)?e.depositStatus===T.L1_PENDING||e.depositStatus===T.L2_PENDING:e.status===N.UNCONFIRMED)}function si(e){return!!sr(e)&&"Confirmed"===e.status||!sa(e)&&e.status===N.CONFIRMED}function so(e){return sa(e)?e.depositStatus===T.EXPIRED:e.status===N.EXPIRED}function sl(e){return sa(e)?!!e.depositStatus&&[T.CREATION_FAILED,T.L1_FAILURE,T.L2_FAILURE].includes(e.depositStatus):e.status===N.FAILURE}function sd(e,t){return e.txId===t.txId&&e.parentChainId===t.parentChainId&&e.childChainId===t.childChainId}function sc(e){let t=tx(e.parentChainId),a=tx(e.childChainId);return(e.isWithdrawal?a:t).getTransactionReceipt(e.txId)}async function su(e){let{withdrawalEvent:t,childChainId:a,parentChainProvider:r,childChainProvider:n}=e;switch(await nX(t,r,n,a)){case 0:return N.UNCONFIRMED;case 1:return N.CONFIRMED;case 2:return N.EXECUTED;default:return}}function sh(e){var t;return e?JSON.parse(null!==(t=localStorage.getItem("".concat(st,"-").concat(e.toLowerCase())))&&void 0!==t?t:"[]"):[]}async function sm(e){if(!ss(e)||e.assetType!==E.ETH||e.isWithdrawal||e.isCctp)return e;let{parentToChildMsg:t}=await n5({depositTxId:e.txId,isEthDeposit:!0,parentProvider:tx(e.parentChainId),childProvider:tx(e.childChainId)});if(!t){let t=await sc(e);return t&&0===t.status?{...e,status:"failure",depositStatus:T.L1_FAILURE}:e}let a=await (null==t?void 0:t.status())===e6.EthDepositMessageStatus.DEPOSITED,r={...e,status:"success",resolvedAt:a?eG()().valueOf():null,parentToChildMsgData:{fetchingUpdate:!1,status:a?e6.ParentToChildMessageStatus.FUNDS_DEPOSITED_ON_CHILD:e6.ParentToChildMessageStatus.NOT_YET_CREATED,retryableCreationTxID:t.childTxHash,childTxId:a?t.childTxHash:void 0}};return{...r,depositStatus:nE(r)}}async function sp(e){if(!ss(e)||e.assetType!==E.ERC20||e.isWithdrawal||e.isCctp)return e;let{parentToChildMsg:t}=await n5({depositTxId:e.txId,isEthDeposit:!1,parentProvider:tx(e.parentChainId),childProvider:tx(e.childChainId)});if(!t){let t=await sc(e);return t&&0===t.status?{...e,status:"failure",depositStatus:T.L1_FAILURE}:e}let a=await t.getSuccessfulRedeem(),r=a.status===e6.ParentToChildMessageStatus.REDEEMED?a.childTxReceipt.transactionHash:void 0,n={...e,status:t.retryableCreationId?"success":e.status,resolvedAt:a.status===e6.ParentToChildMessageStatus.REDEEMED?eG()().valueOf():null,parentToChildMsgData:{status:a.status,childTxId:r,fetchingUpdate:!1,retryableCreationTxID:t.retryableCreationId}};return{...n,depositStatus:nE(n)}}async function sf(e){if(!ss(e)||!e.isWithdrawal||e.isCctp)return e;let t=tx(e.parentChainId),a=tx(e.childChainId),r=await sc(e),n=new e6.ChildTransactionReceipt(r),[s]=await n.getChildToParentEvents();if(n){let r=s?await su({withdrawalEvent:s,childChainId:e.childChainId,parentChainProvider:t,childChainProvider:a}):void 0,n=s?nC(s):null;if(void 0!==r)return{...e,uniqueId:n,status:r}}return e}async function sx(e){var t;if(!ss(e)||!e.isCctp)return e;let a=await sc(e);if(!a)return e;let r=sM(e.parentChainId),n=(0,ez._y)(e.parentChainId),s={...e,txId:a.transactionHash};if(0===a.status)return{...s,status:N.FAILURE};if(null===(t=e.cctpData)||void 0===t?void 0:t.receiveMessageTransactionHash)return{...s,status:N.EXECUTED};if(a.blockNumber&&!e.blockNum){let{messageBytes:t,attestationHash:r}=function(e){let t=n8.keccak256(n9.Y0("MessageSent(bytes)")),a=e.logs.find(e=>e.topics[0]===t);if(!a)return{messageBytes:null,attestationHash:null};let r=n7.$.decode(["bytes"],a.data)[0];return{messageBytes:r,attestationHash:n8.keccak256(r)}}(a);return{...s,blockNum:a.blockNumber,cctpData:{...e.cctpData,messageBytes:t,attestationHash:r}}}let i=e.createdAt&&eG()().diff(e.createdAt,"second")>r*n;return e.status!==N.FAILURE&&i?{...s,status:N.CONFIRMED}:{...e,status:N.UNCONFIRMED}}async function sb(e){let{status:t,timestampResolved:a,l1ToL2MsgData:r,l2ToL3MsgData:n}=await n4(e),s={...e,status:t,timestampResolved:a,l1ToL2MsgData:r,l2ToL3MsgData:n};return{...s,depositStatus:nE(s)}}function sC(e){var t,a,r,n;return e.isCctp?null===(r=e.cctpData)||void 0===r?void 0:r.receiveMessageTransactionHash:tt(e)&&nm(e)?null===(n=e.l2ToL3MsgData)||void 0===n?void 0:n.l3TxID:e.isWithdrawal?null===(t=e.childToParentMsgData)||void 0===t?void 0:t.uniqueId.toString():null===(a=e.parentToChildMsgData)||void 0===a?void 0:a.childTxId}(x=U||(U={})).PENDING="Pending",x.CLAIMABLE="Claimable",x.SUCCESS="Success",x.EXPIRED="Expired",x.FAILURE="Failure";let sy=()=>{let[e,t]=ty(),a=(0,ez.CR)(e.sourceChain.id).isTestnet,r=(0,V.useCallback)(()=>{t({sourceChainId:a?ez.a_.Ethereum:ez.a_.Sepolia})},[a,t]);return[a,r]},sg=async e=>{let{sender:t,receiver:a,fromBlock:r,toBlock:n,l1ChainId:s,l2ChainId:i,l3ChainId:o,pageSize:l=10,pageNumber:d=0,searchString:c=""}=e;if(n&&r>=n)return[];let u=new URLSearchParams((0,en.$m)({sender:t,receiver:a,fromBlock:r,toBlock:n,l1ChainId:s,l2ChainId:i,l3ChainId:o,pageSize:l,page:d,search:c}));if(!nO(Number(i)))throw Error("L1 subgraph not available for network: ".concat(i));if(0===l)return[];if(!tt({sourceChainId:Number(s),destinationChainId:Number(o)}))throw Error("Invalid teleport source and destination chain id: ".concat(s," -> ").concat(o));let h=await fetch("".concat((0,en.DZ)(),"/api/teleports/eth?").concat(u),{method:"GET",headers:{"Content-Type":"application/json"}});return(await h.json()).data.map(e=>({...e,parentChainId:String(s),childChainId:String(o),teleport_type:"eth"}))},sw=async e=>{let{sender:t,fromBlock:a,toBlock:r,l1ChainId:n,pageSize:s=10,pageNumber:i=0}=e;if(r&&a>=r)return[];let o=new URLSearchParams((0,en.$m)({sender:t,l1ChainId:n,pageSize:s,page:i}));if(!function(e){switch(e){case ez.a_.Ethereum:case ez.a_.Sepolia:return!0;default:return!1}}(Number(n)))throw Error("Teleporter subgraph not available for network: ".concat(n));if(0===s)return[];let l=await fetch("".concat((0,en.DZ)(),"/api/teleports/erc20?").concat(o),{method:"GET",headers:{"Content-Type":"application/json"}});return(await l.json()).data.map(e=>({...e,parentChainId:String(n),teleport_type:"erc20"}))},sv=async e=>{let{sender:t,receiver:a,fromBlock:r,toBlock:n,parentChainProvider:s,childChainProvider:i,pageSize:o=10,pageNumber:l=0,searchString:d=""}=e;if(void 0===t&&void 0===a||!s||!i)return[];let c=await tu(s),u=await tu(i);if(!tt({sourceChainId:c,destinationChainId:u}))return console.error("Error fetching teleports from subgraph: invalid source and destination chain ids: ".concat(c," -> ").concat(u)),[];let{l2ChainId:h}=await ta({destinationChainProvider:i});r||(r=0);let m=[];try{m=await sg({sender:t,receiver:a,fromBlock:r,toBlock:n,l1ChainId:c,l2ChainId:h,l3ChainId:u,pageSize:o,pageNumber:l,searchString:d})}catch(e){console.log("Error fetching eth teleports from subgraph",e)}let p=[];try{p=await sw({sender:t,fromBlock:r,toBlock:n,l1ChainId:c,pageSize:o,pageNumber:l})}catch(e){console.log("Error fetching erc20 teleports from subgraph",e)}return[...m,...p]};function sA(e){return void 0!==e.teleport_type}async function sj(e){let t=tx(Number(e.parentChainId));if("eth"===e.teleport_type){let a=await td({txId:e.transactionHash,sourceChainProvider:t,destinationChainProvider:tx(Number(e.childChainId)),isNativeCurrencyTransfer:!0}),r={type:"deposit-l1",status:"pending",direction:"deposit",source:"subgraph",value:eW.formatEther(a.l2l3TicketData.l2CallValue.toString()||0),txID:e.transactionHash,tokenAddress:"",sender:e.sender,destination:e.sender,assetName:"ETH",assetType:E.ETH,l1NetworkID:e.parentChainId,l2NetworkID:e.childChainId,blockNumber:Number(e.blockCreatedAt),timestampCreated:e.timestamp,isClassic:!1,parentChainId:Number(e.parentChainId),childChainId:Number(e.childChainId)},n=tx(Number(e.childChainId));return nS(await n0({depositTx:r,l1Provider:t,l2Provider:n}))}let a=e.l1Token,{symbol:r,decimals:n}=await tE({address:a,provider:t}),s=await tl(e,t),i=await t.getTransaction(e.transactionHash),o={type:"deposit-l1",status:"pending",direction:"deposit",source:"subgraph",value:eW.formatUnits(e.amount||0,n),txID:e.transactionHash,tokenAddress:a,sender:e.sender,destination:e.sender,assetName:r,assetType:E.ERC20,l1NetworkID:e.parentChainId,l2NetworkID:String(s),blockNumber:Number(i.blockNumber),timestampCreated:e.timestamp,isClassic:!1,parentChainId:Number(e.parentChainId),childChainId:s},l=tx(s);return nS(await n0({depositTx:o,l1Provider:t,l2Provider:l}))}function sT(e){var t,a,r;return sr(e)?(null!==(t=e.createdAt)&&void 0!==t?t:0)/1e3:sA(e)?e.timestamp:sI(e)?null!==(a=e.timestampCreated)&&void 0!==a?a:0:sE(e)?nP(e.l2BlockTimestamp):nP(null!==(r=e.timestamp)&&void 0!==r?r:"0")}function sN(e,t){return sT(e)>sT(t)?-1:1}function sk(){return(0,ez.el)().flatMap(e=>{let t=(0,ez.Sx)(e);return t.length>0?t.map(t=>({parentChainId:e.chainId,childChainId:t})):[]})}function sE(e){return"subgraph"===e.source}function sI(e){return"deposit"===e.direction}async function sS(e){let t;if(sA(e))return await sj(e);let a=tx(e.parentChainId),r=tx(e.childChainId);if(sr(e))return e;if(sI(e))return nS(await n0({depositTx:e,l1Provider:a,l2Provider:r}));if(t=sE(e)?await nJ({withdrawal:e,l1Provider:a,l2Provider:r}):nV(e)?await nq({result:e,l1Provider:a,l2Provider:r}):await nz({event:e,l1Provider:a,l2Provider:r}))return nD(t);throw Error("An error has occurred while fetching a transaction. Please try again later or contact the support.")}let sD=e=>{var t,a,r,n,s,i,o,l,d,c;let{chain:u}=(0,J.LN)(),[h]=sy(),{isSmartContractWallet:m,isLoading:p}=aT(),f=(0,V.useCallback)(e=>{if(!p&&u)return m?u.id===e.parentChainId?"deposits":u.id===e.childChainId?"withdrawals":void 0:(0,ez.CR)(e.parentChainId).isTestnet===h?"all":void 0},[m,p,u,h]),x=sF({walletAddress:e,l1ChainId:ez.a_.Ethereum,l2ChainId:ez.a_.ArbitrumOne,pageNumber:0,pageSize:f({parentChainId:ez.a_.Ethereum,childChainId:ez.a_.ArbitrumOne})?1e3:0,type:null!==(d=f({parentChainId:ez.a_.Ethereum,childChainId:ez.a_.ArbitrumOne}))&&void 0!==d?d:"all"}),b=sF({walletAddress:e,l1ChainId:ez.a_.Sepolia,l2ChainId:ez.a_.ArbitrumSepolia,pageNumber:0,pageSize:f({parentChainId:ez.a_.Sepolia,childChainId:ez.a_.ArbitrumSepolia})?1e3:0,type:null!==(c=f({parentChainId:ez.a_.Sepolia,childChainId:ez.a_.ArbitrumSepolia}))&&void 0!==c?c:"all"}),C=[...(null===(t=x.deposits)||void 0===t?void 0:t.completed)||[],...(null===(a=x.withdrawals)||void 0===a?void 0:a.completed)||[],...(null===(r=b.deposits)||void 0===r?void 0:r.completed)||[],...(null===(n=b.withdrawals)||void 0===n?void 0:n.completed)||[],...(null===(s=x.deposits)||void 0===s?void 0:s.pending)||[],...(null===(i=x.withdrawals)||void 0===i?void 0:i.pending)||[],...(null===(o=b.deposits)||void 0===o?void 0:o.pending)||[],...(null===(l=b.withdrawals)||void 0===l?void 0:l.pending)||[]],y=x.isLoadingDeposits||x.isLoadingWithdrawals||b.isLoadingDeposits||b.isLoadingWithdrawals,{data:g,mutate:w}=(0,tv.Z)(e?["failed_chain_pairs",e]:null),v=(0,V.useCallback)(t=>{if(!u)return[];let a="deposits"===t?n$:nK;return Promise.all(sk().filter(e=>m?[e.parentChainId,e.childChainId].includes(u.id):(0,ez.CR)(e.parentChainId).isTestnet===h).map(async r=>{let n=r.parentChainId===u.id,s=nU({type:t,isSmartContractWallet:m,isConnectedToParentChain:n}),i=nF({type:t,isSmartContractWallet:m,isConnectedToParentChain:n});try{if(tt({sourceChainId:r.parentChainId,destinationChainId:r.childChainId})){if("withdrawals"===t)return[];return await sv({sender:s?e:void 0,receiver:i?e:void 0,parentChainProvider:tx(r.parentChainId),childChainProvider:tx(r.childChainId),pageNumber:0,pageSize:1e3})}return await a({sender:s?e:void 0,receiver:i?e:void 0,l1Provider:tx(r.parentChainId),l2Provider:tx(r.childChainId),pageNumber:0,pageSize:1e3})}catch{return w(e=>e?void 0!==e.find(e=>e.parentChainId===r.parentChainId&&e.childChainId===r.childChainId)?e:[...e,r]:[r]),[]}}))},[e,h,w,m,u]),A=e&&u&&!p,{data:j,error:T,isLoading:N}=(0,tv.Z)(A?["tx_list","deposits",e,h]:null,()=>v("deposits")),{data:k,error:E,isLoading:I}=(0,tv.Z)(A?["tx_list","withdrawals",e,h]:null,()=>v("withdrawals"));return{data:[...(j||[]).flat(),...(k||[]).flat(),...C].flat(),loading:N||I||y,error:null!=T?T:E,failedChainPairs:g||[]}},sL=function(e){let{runFetcher:t=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},[a]=sy(),{chain:r}=(0,J.LN)(),{isSmartContractWallet:n,isLoading:s}=aT(),{connector:i}=(0,J.mA)(),[o,l]=(0,V.useState)(!0),[d,c]=(0,V.useState)(0),{data:u,loading:h,error:m,failedChainPairs:p}=sD(e),f=(0,V.useCallback)((t,a)=>a&&0===a.length?null:!e||h||s?null:["complete_tx_list",e,t,u],[e,h,u,s]),x=(0,V.useMemo)(()=>s||!r?[]:sh(e).filter(e=>(0,ez.CR)(e.parentChainId).isTestnet===a).filter(e=>!!sk().some(t=>t.parentChainId===e.parentChainId&&t.childChainId===e.childChainId)&&(!n||e.parentChainId===r.id)),[e,a,s,n,r]),{data:b,error:C,size:y,setSize:g,mutate:w,isValidating:v,isLoading:A}=(0,n_.ZP)(f,e=>{let[,,t,a]=e,r=Array.from(new Map([...a,...x].map(e=>[function(e){var t;let a=sA(e)?e.transactionHash:sr(e)?e.txId:sI(e)?e.txID:sE(e)?e.l2TxHash:nV(e)?e.txHash:null!==(t=e.l2TxHash)&&void 0!==t?t:e.transactionHash;if(a)return"".concat(e.parentChainId,"-").concat(a.toLowerCase())}(e),e])).values()).sort(sN),n=3*t;return Promise.all(r.slice(n,n+3).map(sS))},{revalidateOnFocus:!1,revalidateOnReconnect:!1,revalidateIfStale:!1,shouldRetryOnError:!1,refreshWhenOffline:!1,refreshWhenHidden:!1,revalidateFirstPage:!1,keepPreviousData:!0,dedupingInterval:1e6}),j=y>0&&void 0!==b&&void 0===b[y-1],T=!A&&void 0!==b&&u.length===b.flat().length,{data:N,mutate:k}=(0,tv.Z)(e?["new_tx_list",e]:null),I=(0,V.useMemo)(()=>[...N||[],...b||[]].flat().filter(t=>{var a,r;return[null===(a=t.sender)||void 0===a?void 0:a.toLowerCase(),null===(r=t.destination)||void 0===r?void 0:r.toLowerCase()].includes(null==e?void 0:e.toLowerCase())}),[N,b,e]),S=(0,V.useCallback)(e=>{ss(e)&&k(t=>t?[e,...t]:[e])},[k]),D=(0,V.useCallback)(e=>{if(void 0!==(null==N?void 0:N.find(t=>sd(t,e)))){k(t=>null==t?void 0:t.map(t=>({...sd(t,e)?e:t})));return}w(t=>{var a;if(!t)return;let r=0;for(;!(null===(a=t[r])||void 0===a?void 0:a.find(t=>sd(t,e)));)if(++r>t.length)return t;let n=t[r];if(!n)return t;let s=n.map(t=>sd(t,e)?e:t);return[...t.slice(0,r),s,...t.slice(r+1)]},!1)},[k,w,N]),L=(0,V.useCallback)(async e=>{if(!ss(e)){D(e);return}if(tt(e)&&nm(e)){D(await sb(e));return}if(e.isCctp){D(await sx(e));return}if(e.isWithdrawal){D(await sf(e));return}if(e.assetType===E.ETH){D(await sm(e));return}D(await sp(e))},[D]);function M(){l(!1)}function R(){l(!0),g(e=>e+1)}return((0,V.useEffect)(()=>{t&&i&&i.on("change",e=>{e.account&&(g(1),c(0),l(!0))})},[i,t,g]),(0,V.useEffect)(()=>{var e;if(!b||!o||!t||v)return;let a=b[0],r=b[b.length-1];if(!a||!r)return;if(3!==r.length){l(!1);return}let n=a[0],s=r[r.length-1];if(n&&s){if(eG()().diff(eG()(null!==(e=s.createdAt)&&void 0!==e?e:0),"days")>=(d+1)*30){M(),c(e=>e+1);return}y===b.length&&g(e=>e+1)}},[b,g,y,d,o,t,v]),h||m)?{transactions:[],loading:h,error:m,failedChainPairs:[],completed:!0,pause:M,resume:R,addPendingTransaction:S,updatePendingTransaction:L}:{transactions:I,loading:A||j,completed:T,error:null!=C?C:m,failedChainPairs:p,pause:M,resume:R,addPendingTransaction:S,updatePendingTransaction:L}};function sM(e){let{isTestnet:t}=(0,ez.CR)(e);return t?7:85}function sR(e){return({[ez.a_.Ethereum]:tj.Ethereum,[ez.a_.ArbitrumOne]:tj.ArbitrumOne,[ez.a_.Sepolia]:tj.Sepolia,[ez.a_.ArbitrumSepolia]:tj.ArbitrumSepolia})[e]}function sP(e,t){let{messageSent:a}=e,r="Unconfirmed",n=null,s=null;if("messageReceived"in e){let{messageReceived:t}=e;r="Executed",n=nP((1e3*parseInt(t.blockTimestamp,10)).toString()),s=t.transactionHash}let i=function(e,t){let{isTestnet:a}=(0,ez.CR)(t);return e===_.Ethereum?a?ez.a_.Sepolia:ez.a_.Ethereum:a?ez.a_.ArbitrumSepolia:ez.a_.ArbitrumOne}(parseInt(a.sourceDomain,10),t),o=function(e,t){let{isTestnet:a}=(0,ez.CR)(t);return e===_.Ethereum?a?ez.a_.ArbitrumSepolia:ez.a_.ArbitrumOne:a?ez.a_.Sepolia:ez.a_.Ethereum}(parseInt(a.sourceDomain,10),t),l=parseInt(a.sourceDomain,10)===_.Ethereum;return{sender:a.sender,destination:a.recipient,direction:l?"deposit":"withdraw",status:r,createdAt:nP((1e3*parseInt(a.blockTimestamp,10)).toString()),resolvedAt:n,txId:a.transactionHash,asset:"USDC",assetType:E.ERC20,value:a.amount,uniqueId:null,isWithdrawal:!l,blockNum:parseInt(a.blockNumber,10),tokenAddress:sR(i).USDC,depositStatus:T.CCTP_DEFAULT_STATE,isCctp:!0,parentChainId:l?i:o,childChainId:l?o:i,sourceChainId:i,destinationChainId:o,cctpData:{sourceChainId:i,attestationHash:a.attestationHash,messageBytes:a.message,receiveMessageTransactionHash:s,receiveMessageTimestamp:n||null}}}function s_(e,t){let{pending:a,completed:r}=e;return{pending:a.map(e=>sP(e,t)),completed:r.map(e=>sP(e,t))}}let sO=e=>{let{walletAddress:t,l1ChainId:a,pageNumber:r,pageSize:n,enabled:s}=e;return(0,tv.Z)(()=>t&&s?[t,a,r,n,"cctp-deposits"]:null,e=>{let[t,a,r,n]=e;return nc({walletAddress:t,l1ChainId:a,pageNumber:r,pageSize:n}).then(e=>s_(e,a)).then(e=>({completed:e.completed,pending:e.pending.map(e=>({...e,status:sH(e)?"Confirmed":e.status}))}))})},sB=e=>{let{walletAddress:t,l1ChainId:a,pageNumber:r,pageSize:n,enabled:s}=e;return(0,tv.Z)(()=>t&&s?[t,a,r,n,"cctp-withdrawals"]:null,e=>{let[t,a,r,n]=e;return nu({walletAddress:t,l1ChainId:a,pageNumber:r,pageSize:n}).then(e=>s_(e,a)).then(e=>({completed:e.completed,pending:e.pending.map(e=>({...e,status:sH(e)?"Confirmed":e.status}))}))})},sU=(0,tw.Ue)((e,t)=>({transfers:{},transfersIds:[],resetTransfers:()=>e({transfers:{},transfersIds:[]}),setTransfers:a=>{let{pending:r,completed:n}=a,s=[...r,...n].concat(Object.values(t().transfers)).sort((e,t)=>eG()(t.createdAt).isAfter(e.createdAt)?1:-1),i=new Set;return e({transfers:s.reduce((e,t)=>(e[t.txId]=t,i.add(t.txId),e),{}),transfersIds:[...i]})},updateTransfer:a=>{let r=t().transfers[a.txId];r&&e(e=>({transfers:{...e.transfers,[a.txId]:{...r,...a,cctpData:{...r.cctpData,...a.cctpData}}}}))}}));function sF(e){let{l1ChainId:t,l2ChainId:a,walletAddress:r,pageSize:n=10,pageNumber:s,type:i}=e,{isEthereumMainnet:o,isSepolia:l}=(0,ez.CR)(t),{isArbitrumOne:d,isArbitrumSepolia:c}=(0,ez.CR)(a),u=o&&d||l&&c,{data:h,isLoading:m,error:p,mutate:f}=sO({l1ChainId:t,walletAddress:r,pageNumber:s,pageSize:n,enabled:"withdrawals"!==i&&u}),{data:x,isLoading:b,error:C,mutate:y}=sB({l1ChainId:t,walletAddress:r,pageNumber:s,pageSize:n,enabled:"deposits"!==i&&u}),{setTransfers:g}=function(){let{transfersIds:e,transfers:t,resetTransfers:a,setTransfers:r,updateTransfer:n}=sU(),{pendingIds:s,completedIds:i,depositIds:o,withdrawalIds:l}=(0,V.useMemo)(()=>e.reduce((e,a)=>{let r=t[a];return r&&("deposit"===r.direction?e.depositIds.push(a):e.withdrawalIds.push(a),"Executed"!==r.status?e.pendingIds.push(a):e.completedIds.push(a)),e},{pendingIds:[],completedIds:[],depositIds:[],withdrawalIds:[]}),[e,t]);return{resetTransfers:a,setTransfers:r,transfersIds:e,transfers:t,pendingIds:s,completedIds:i,depositIds:o,withdrawalIds:l,updateTransfer:n}}();(0,V.useEffect)(()=>{h&&g(h)},[h,g]),(0,V.useEffect)(()=>{x&&g(x)},[x,g]);let w=(0,V.useCallback)((e,t)=>{("deposit"===t?f:y)({pending:[e],completed:[]},{populateCache(e,t){let a=e.pending[0];if(!t||!a)return e;let r=t.pending.findIndex(e=>e.txId===a.txId),n=t.pending[r];if(n){let{cctpData:e,...s}=n,{cctpData:i,...o}=a;return t.pending[r]={...s,...o,cctpData:{...e,...i}},t}return{pending:[...e.pending,...t.pending],completed:[...e.completed,...t.completed]}},revalidate:!1})},[f,y]);return{deposits:h,withdrawals:x,isLoadingDeposits:m,isLoadingWithdrawals:b,depositsError:p,withdrawalsError:C,mutateDeposits:f,mutateWithdrawals:y,setPendingTransfer:w}}function sG(e){let t=sM(e.parentChainId),a=(0,ez._y)(e.parentChainId);return eG()(e.createdAt).add(t*a,"seconds")}function sH(e){return eG()().isAfter(sG(e))}let sW={mainnet:15,testnet:10},sZ={mainnet:15,testnet:1},sY={mainnet:5,testnet:1},sz=e=>{let{estimatedMinutesLeftCctp:t}=function(e){let[t,a]=(0,V.useState)(null),[r,n]=(0,V.useState)(),[s,i]=(0,V.useState)("Confirmed"===e.status||"Executed"===e.status);return(0,V.useEffect)(()=>{"Failure"===e.status&&a(null)},[e.status,a]),(0,V.useEffect)(()=>{e.createdAt&&"Failure"!==e.status&&n(sG(e))},[e]),(0,no.Z)(()=>{r&&(sH(e)?(i(!0),a(0)):a(r.diff(eG()(),"minutes")))},2e3),{estimatedMinutesLeftCctp:t,isConfirmed:s}}(e),{sourceChainId:a,destinationChainId:r,isCctp:n,childChainId:s}=e,{isTestnet:i,isOrbitChain:o}=(0,ez.CR)(s),l=sV(i),d=sq(i);if(tt({sourceChainId:a,destinationChainId:r}))return{approximateDurationInMinutes:l+d,estimatedMinutesLeft:sK({createdAt:e.createdAt,totalDuration:l+d})};if(n)return{approximateDurationInMinutes:sJ(i),estimatedMinutesLeft:t};if(e.isWithdrawal){let t=Math.max(sX({createdAt:e.createdAt,withdrawalFromChainId:e.sourceChainId}).diff(e.createdAt,"minute"),0);return{approximateDurationInMinutes:t,estimatedMinutesLeft:sK({createdAt:e.createdAt,totalDuration:t})}}return o?{approximateDurationInMinutes:d,estimatedMinutesLeft:sK({createdAt:e.createdAt,totalDuration:d})}:{approximateDurationInMinutes:l,estimatedMinutesLeft:sK({createdAt:e.createdAt,totalDuration:l})}};function sX(e){let{createdAt:t,withdrawalFromChainId:a}=e,r=t?eG()(t):eG()(),n=(0,ez.Yj)({chainId:a}),s=(0,ez._y)(n)*(0,ez.i5)(a)+3600;return r.add(s,"second")}function sV(e){return e?sW.testnet:sW.mainnet}function sq(e){return e?sY.testnet:sY.mainnet}function sJ(e){return e?sZ.testnet:sZ.mainnet}function sK(e){let{createdAt:t,totalDuration:a}=e;return Math.max((t?eG()(t):eG()()).add(a,"minutes").diff(eG()(),"minute"),0)}function sQ(e){return null===e?"Calculating...":e<=0?"Less than a minute":eG()().add(e,"minutes").fromNow(!0)}function s$(e){var t;let[a]=ty(),{childChain:r,childChainProvider:n,parentChain:s}=ae(a),[i,o]=(0,V.useState)(0),l=(0,ez.pp)(s.id),{app:{selectedToken:d}}=eB(),c=a_({provider:n}),u=function(e){let{from:t,to:a,tokenSymbol:r,amount:n}=e;function s(e){switch(e){case ez.a_.Ethereum:return"ethereum";case ez.a_.ArbitrumOne:return"arbitrum";default:return""}}function i(e){switch(e){case"Hop":return"https://app.hop.exchange/#/send?sourceNetwork=".concat(s(t),"&destNetwork=").concat(s(a),"&token=").concat(r,"&amount=").concat(n);case"Celer":return"https://cbridge.celer.network/".concat(t,"/").concat(a,"/").concat(r);case"Connext":return"https://bridge.connext.network/".concat(r,"-from-").concat(s(t),"-to-").concat(s(a),"?amount=").concat(n);case"Across":return"https://across.to/?from=".concat(t,"&to=").concat(a,"&asset=").concat(r,"&amount=").concat(n);case"Stargate":return"https://stargate.finance/transfer?srcChain=".concat(s(t),"&dstChain=").concat(s(a),"&srcToken=").concat(r);case"Synapse":return"https://synapseprotocol.com/?inputCurrency=".concat(r,"&outputCurrency=").concat(r,"&outputChain=").concat(a);default:return""}}let o={Hop:{imageSrc:r9,href:i("Hop")},Celer:{imageSrc:r7,href:i("Celer")},Connext:{imageSrc:ne,href:i("Connext")},Across:{imageSrc:nt,href:i("Across")},Stargate:{imageSrc:na,href:i("Stargate")},Synapse:{imageSrc:nr,href:i("Synapse")}};return Object.values(O).filter(e=>{switch(e){case"LI.FI":case"Wormhole":case"Router":return!1;default:return!0}}).map(e=>({name:e,imageSrc:o[e].imageSrc,href:o[e].href}))}({from:r.id,to:s.id,tokenSymbol:null!==(t=null==d?void 0:d.symbol)&&void 0!==t?t:c.symbol,amount:e.amount}),[h,m]=(0,V.useState)(!1),[p,f]=(0,V.useState)(!1),{isArbitrumOne:x}=(0,ez.CR)(r.id),b=h&&p,C=sX({createdAt:null,withdrawalFromChainId:r.id}),y=C.fromNow(!0),g=x&&0===i;return(0,X.jsx)(ey,{...e,onClose:function(t){e.onClose(t),m(!1),f(!1),o(0)},className:"max-w-[700px]",title:"Move funds to ".concat(l),actionButtonProps:{disabled:!b,hidden:g},children:(0,X.jsx)("div",{className:"flex flex-col pt-4",children:(0,X.jsxs)(r$.O.Group,{onChange:o,children:[(0,X.jsxs)(r$.O.List,{className:"border-b border-gray-dark",children:[x&&(0,X.jsx)(r0,{children:"Third party bridge"}),(0,X.jsx)(r0,{children:"Arbitrum’s bridge"})]}),x&&(0,X.jsxs)(r$.O.Panel,{className:"flex flex-col space-y-4 py-4",children:[(0,X.jsx)("div",{className:"flex flex-col space-y-4",children:(0,X.jsx)("p",{className:"font-light",children:"Get your funds in under 30 min with a fast exit bridge."})}),(0,X.jsx)(r8,{bridgeList:u}),(0,X.jsx)(ni,{})]}),(0,X.jsx)(r$.O.Panel,{className:"flex flex-col justify-between",children:(0,X.jsxs)("div",{className:"flex flex-col space-y-4 py-4",children:[(0,X.jsx)("div",{className:"flex flex-col space-y-4",children:(0,X.jsxs)("p",{className:"font-light",children:["Get your funds in ~",y," and pay a small fee twice."," ",(0,X.jsx)(es,{href:eo.wn,className:"underline",children:"Learn more."})]})}),(0,X.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,X.jsx)(rg,{label:(0,X.jsxs)("span",{className:"font-light",children:["I understand that it will take ~",y," ","before I can claim my funds on ",l]}),checked:h,onChange:m}),(0,X.jsx)(rg,{label:(0,X.jsxs)("span",{className:"font-light",children:["I understand that after claiming my funds, I’ll have to send"," ",(0,X.jsxs)("span",{className:"font-medium",children:["another transaction on ",l]})," ","and pay another ",l," fee"]}),checked:p,onChange:f}),(0,X.jsx)("div",{className:"flex",children:(0,X.jsx)(ns,{})}),(0,X.jsxs)("div",{className:"flex flex-col justify-center space-y-2.5 rounded border border-gray-dark bg-black/80 py-4 align-middle text-white",children:[(0,X.jsxs)("p",{className:"text-center text-sm font-light",children:["Set calendar reminder for ",y," from now"]}),(0,X.jsx)("div",{className:"flex justify-center",children:(0,X.jsxs)(es,{href:function(e,t,a,r){let n="".concat(t," ").concat(a," Withdrawal from ").concat(r),s=e.format("YYYYMMDD[T]HHmm[00%2F]YYYYMMDD[T]HHmm[00]");return"https://calendar.google.com/calendar/event?action=TEMPLATE&text=".concat(n,"&dates=").concat(s,"&details=Withdrawn+on+%3Ca%20href=%22https://bridge.arbitrum.io%22%3Ehttps://bridge.arbitrum.io%3C/a%3E")}(C,e.amount,(null==d?void 0:d.symbol)||c.symbol,(0,ez.pp)(r.id)),onClick:()=>r5("Add to Google Calendar Click"),className:"arb-hover flex items-center space-x-2 rounded border border-white p-2 text-sm",children:[(0,X.jsx)(am(),{src:"/images/GoogleCalendar.svg",alt:"Google Calendar Icon",width:24,height:24}),(0,X.jsx)("span",{children:"Add to Google calendar"})]})}),(0,X.jsx)("p",{className:"text-center text-xs font-light",children:"We don’t store any email data"})]})]})]})})]})})})}async function s0(e){let[t,a,r,n,s,i]=e,o=rK.create({sourceChainId:a,sourceChainErc20Address:n,destinationChainId:r,destinationChainErc20Address:s});return await o.transferEstimateGas({amount:i,signer:t})}function s2(){let{app:{selectedToken:e}}=eB(),[t]=ty(),{childChainProvider:a}=ae(t),r=a_({provider:a});return e?e.decimals:r.decimals}let s1={status:"loading",estimatedParentChainGasFees:void 0,estimatedChildChainGasFees:void 0};function s3(){let{app:{selectedToken:e}}=eB(),[t]=ty(),{childChainProvider:a,parentChainProvider:r,isDepositMode:n}=ae(t),{address:s}=(0,J.mA)(),[{amount:i}]=(0,e$.gw)(),o=(0,er.Nr)(i,300),[l,d]=(0,V.useState)(s1),c=s2(),u=(0,V.useMemo)(()=>{if(isNaN(Number(o)))return eZ._Y;let e=aK(o||"0",c);return eW.parseUnits(e,c)},[o,c]),h=rv({provider:r}),m=rv({provider:a}),p=(0,V.useCallback)(e=>d(t=>({...t,status:e})),[]),f=a1(e),{gasEstimates:x,error:b}=function(e){let{walletAddress:t,sourceChainId:a,destinationChainId:r,sourceChainErc20Address:n,destinationChainErc20Address:s,amount:i,sourceChainBalance:o}=e,{data:l}=(0,J.mx)(),{data:d,error:c}=(0,aC.ZP)(l&&o&&o.gte(i)?[a,r,n,s,i.toString(),t,"gasEstimates"]:null,e=>{let[t,a,r,n,s,i]=e;return s0([tx(t).getSigner(i),t,a,r,n,az.O$.from(s)])},{refreshInterval:3e4,shouldRetryOnError:!0,errorRetryCount:2,errorRetryInterval:5e3});return{gasEstimates:d,error:c}}({walletAddress:s,sourceChainId:t.sourceChain.id,destinationChainId:t.destinationChain.id,amount:u,sourceChainErc20Address:n?null==e?void 0:e.address:null==e?void 0:e.l2Address,destinationChainErc20Address:n?null==e?void 0:e.l2Address:null==e?void 0:e.address,sourceChainBalance:f}),C=(0,V.useMemo)(()=>{if(null==x?void 0:x.estimatedParentChainGas)return parseFloat(eW.formatEther(x.estimatedParentChainGas.mul(h)))},[x,h]),y=(0,V.useMemo)(()=>x?n&&"estimatedChildChainSubmissionCost"in x?parseFloat(eW.formatEther(x.estimatedChildChainGas.mul(tm(m,rH)).add(x.estimatedChildChainSubmissionCost))):parseFloat(eW.formatEther(x.estimatedChildChainGas.mul(m))):void 0,[m,x,n]);return(0,V.useEffect)(()=>{if(!n&&(tH(null==e?void 0:e.address)||tW(null==e?void 0:e.address))){p("unavailable");return}if(!f){p("loading");return}if(u.gt(f)){p("insufficientBalance");return}if(void 0===C||void 0===y){p("loading");return}if(b){p("error");return}d({status:"success",estimatedParentChainGasFees:C,estimatedChildChainGasFees:y})},[s,f,e,a,p,n,C,y,b,u]),l}let s6=e=>{let{explorerLink:t,tokenAddress:a}=e;if(t&&a)try{let e=new URL(t);return e.pathname+="token/".concat(a),e.toString()}catch(e){eh({error:e,originFunction:"createBlockExplorerUrlForToken"});return}},s4=e=>null!==e&&!e.hasOwnProperty("isCustom");function s5(e){let{token:t,tokenSymbolOverride:a,isParentChain:r}=e,[n]=ty(),{childChain:s,childChainProvider:i,parentChain:o}=ae(n),l=r?o:s,d=a_({provider:i}),c=(0,V.useMemo)(()=>t?null!=a?a:tY(t.symbol,{erc20L1Address:t.address,chainId:l.id}):d.symbol,[t,a,l,d.symbol]);if(null===t||!s4(t)||tZ(t.address))return(0,X.jsx)("span",{children:c});let u=s6({explorerLink:l.blockExplorers?l.blockExplorers.default.url:void 0,tokenAddress:r?t.address:t.l2Address});return(0,X.jsx)(es,{className:"arb-hover underline",href:u,children:(0,X.jsx)("span",{children:c})})}function s8(e){let{app:{selectedToken:t}}=eB();return null===t&&!e.isCustom}function s9(e){let{amount:t,showBrackets:a=!1}=e,[r]=ty(),{childChain:n}=ae(r),{isTestnet:s}=(0,ez.CR)(n.id),{ethToUSD:i}=rw();return s||void 0===t?null:(0,X.jsxs)("span",{className:"tabular-nums",children:[a&&"(",aX(i(t)),a&&")"]})}function s7(e){let{asset:t,chain:a}=e;return"Insufficient ".concat(t,". Please add more funds to ").concat(a,".")}function ie(e){let{asset:t,chain:a}=e;return"Insufficient ".concat(t," to pay for gas fees. Please add more funds to ").concat(a,".")}function it(){return"LayerLeap transfers using smart contract wallets aren't supported yet."}(b=F||(F={}))[b.GAS_ESTIMATION_FAILURE=0]="GAS_ESTIMATION_FAILURE",b[b.TOKEN_WITHDRAW_ONLY=1]="TOKEN_WITHDRAW_ONLY",b[b.TOKEN_TRANSFER_DISABLED=2]="TOKEN_TRANSFER_DISABLED";let ia=[];function ir(){return{transferReady:{deposit:!0,withdrawal:!0}}}function is(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{errorMessage:void 0};return{transferReady:{deposit:!1,withdrawal:!1},...e}}function ii(){return(0,X.jsx)("span",{className:"flex",children:(0,X.jsx)(ec.a,{size:"small"})})}function io(){let{app:{selectedToken:e}}=eB(),{status:t,estimatedParentChainGasFees:a,estimatedChildChainGasFees:r}=s3(),[n]=ty(),{childChainProvider:s,parentChainProvider:i,isDepositMode:o}=ae(n),l=a_({provider:s}),d=a_({provider:i}),c="loading"===t,u=(0,V.useMemo)(()=>l.isCustom===d.isCustom,[l,d]),h=(0,V.useMemo)(()=>{if("loading"!==t&&void 0!==r&&void 0!==a)return a+r},[t,r,a]);return c?(0,X.jsx)(ii,{}):u?(0,X.jsxs)("span",{className:"tabular-nums",children:[aq(h,{symbol:l.symbol})," ",(0,X.jsx)(s9,{amount:h,showBrackets:!0})]}):(0,X.jsxs)(X.Fragment,{children:[o&&(0,X.jsxs)("span",{className:"tabular-nums",children:[aq(a,{symbol:d.symbol})," ",(0,X.jsx)(s9,{amount:a,showBrackets:!0}),e&&" and "]}),(e||!o)&&aq(r,{symbol:l.symbol})]})}function il(e){let{children:t,className:a=""}=e,[r]=ty(),{childChain:n}=ae(r),s=ia.includes(n.id);return(0,X.jsxs)("div",{className:"mb-8 flex flex-col text-white",children:[(0,X.jsx)("span",{className:"mb-3 text-xl",children:"Summary"}),(0,X.jsx)("div",{className:(0,el.m6)("mb-3 flex flex-col space-y-3",a),children:t}),s&&(0,X.jsxs)(eK,{variant:"error",children:[(0,ez.pp)(n.id)," is currently down. You will be able to bridge again once it is back online."]})]})}function id(e){let{token:t}=e,{status:a}=s3(),[r]=ty(),{childChainProvider:n,isDepositMode:s}=ae(r),i=s8(a_({provider:n})),[{amount:o}]=(0,e$.gw)(),{isArbitrumOne:l,isArbitrumSepolia:d}=(0,ez.CR)(r.destinationChain.id),c=tZ(null==t?void 0:t.address)&&s&&(l||d);return"unavailable"===a?(0,X.jsx)(il,{children:(0,X.jsx)("div",{className:"flex flex-row justify-between text-sm lg:text-base",children:"Gas estimates are not available for this action."})}):"insufficientBalance"===a?(0,X.jsx)(il,{children:(0,X.jsx)("div",{className:"flex flex-row justify-between text-sm lg:text-base",children:"Gas estimates will be displayed after entering a valid amount."})}):(0,X.jsxs)(il,{children:[(0,X.jsxs)("div",{className:(0,el.m6)("grid grid-cols-[260px_auto] items-center text-sm font-light"),children:[(0,X.jsx)("span",{className:"text-left",children:"You will pay in gas fees:"}),(0,X.jsx)("span",{className:"font-medium",children:(0,X.jsx)(io,{})})]}),(0,X.jsxs)("div",{className:(0,el.m6)("grid grid-cols-[260px_auto] items-center text-sm font-light"),children:[(0,X.jsxs)("span",{children:["You will receive on ",(0,ez.pp)(r.destinationChain.id),":"]}),(0,X.jsxs)("span",{className:"font-medium",children:[(0,X.jsx)("span",{className:"tabular-nums",children:aq(Number(o))})," ",c?(0,X.jsx)(X.Fragment,{children:"USDC"}):(0,X.jsx)(s5,{token:t,isParentChain:!s}),i&&(0,X.jsx)(s9,{amount:Number(o),showBrackets:!0})]})]})]})}var ic=a(8042),iu=a(88164),ih=a(56312);function im(e){let{app:{selectedToken:t}}=eB(),{destinationChainId:a}=e,r=a===ez.a_.ArbitrumNova?ez.a_.ArbitrumOne:ez.a_.ArbitrumNova,n=r===ez.a_.ArbitrumOne?"arbitrum":"nova",s=a===ez.a_.ArbitrumOne?"arbitrum":"nova",i="https://app.hop.exchange/#/send?sourceNetwork=".concat(n,"&destNetwork=").concat(s,"&token=").concat((null==t?void 0:t.symbol)||eo.Xx.symbol,"&amount=").concat(e.amount),o=[{name:O.Hop,imageSrc:r9,href:i}];return(0,X.jsx)(ey,{...e,onClose:()=>e.onClose(!1),title:"Move funds from ".concat((0,ez.pp)(r)," to ").concat((0,ez.pp)(null!=a?a:0)),actionButtonProps:{hidden:!0},className:"max-w-[700px]",children:(0,X.jsx)("div",{className:"flex flex-col pt-4",children:(0,X.jsxs)(r$.O.Group,{children:[(0,X.jsx)(r$.O.List,{className:"border-b border-gray-dark",children:(0,X.jsx)(r0,{children:"Third party bridge"})}),(0,X.jsxs)(r$.O.Panel,{className:"flex flex-col space-y-4 py-4",children:[(0,X.jsx)("div",{className:"flex flex-col space-y-3",children:(0,X.jsx)("p",{className:"font-light",children:"Use a third party bridge to transfer funds between Arbitrum One and Arbitrum Nova."})}),(0,X.jsx)(r8,{bridgeList:o}),(0,X.jsx)(ni,{})]})]})})})}let ip={name:"USD Coin",type:k.ERC20,symbol:"USDC",decimals:6,listIds:new Set};var ix=a(52621);let ib=e=>{let{chainId:t,className:a,size:r}=e,n=null!=r?r:16,{network:s,color:i}=(0,aR.f)(t),o=(0,ez.pp)(t);return(0,X.jsx)("div",{style:{backgroundColor:"".concat(i,"33")},className:(0,el.m6)("flex w-4 shrink-0 items-center justify-center rounded-full p-[4px]",a),children:(0,X.jsx)(am(),{src:s.logo,alt:"".concat(o," logo"),className:"h-full w-auto",width:n,height:n})})};function iC(e){let{disabled:t=!1,label:a,options:r,value:n,onChange:s}=e,{color:i}=(0,aR.f)(n.id);return(0,X.jsx)(ix.R,{as:"div",className:"relative",disabled:t,value:n,onChange:s,children:e=>{let{open:s}=e;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(ix.R.Button,{style:{backgroundColor:i},className:"arb-hover flex w-max items-center gap-1 rounded px-3 py-2 text-sm text-white md:gap-2 md:text-xl",children:[(0,X.jsxs)("span",{className:"max-w-[220px] truncate leading-extra-tight md:max-w-[250px]",children:[a," ",(0,ez.pp)(n.id)]}),!t&&(0,X.jsx)(aw.Z,{className:(0,el.m6)("h-[12px] w-[12px] transition-transform sm:h-3 sm:w-3",s?"-rotate-180":"rotate-0")})]}),(0,X.jsx)(ak,{className:"absolute left-0 right-auto z-[1] min-w-full",children:(0,X.jsx)(ix.R.Options,{className:"mt-2 flex max-h-[365px] min-w-full flex-col gap-[8px] overflow-y-auto overflow-x-hidden rounded border border-white/30 bg-gray-1 font-normal text-white",children:r.map(e=>(0,X.jsxs)(ix.R.Option,{value:e,className:(0,el.m6)("hover:white/20 flex h-12 cursor-pointer select-none items-center gap-2 px-3 py-2 transition-[background] duration-200 ui-selected:bg-white/20 ui-active:bg-white/20"),children:[(0,X.jsx)("div",{className:"flex h-6 w-6 items-center justify-center",children:(0,X.jsx)(ib,{chainId:e.id,className:"h-[32px] w-[32px] p-[6px]",size:20})}),(0,X.jsx)("span",{className:"max-w-[150px] truncate",children:(0,ez.pp)(e.id)})]},e.id))})})]})}})}function iy(e){let{forToken:t,balance:a,on:r,prefix:n="",tokenSymbolOverride:s}=e,i=r===G.parentChain;if(!t)return null;if(!a)return(0,X.jsx)(ec.a,{color:"white",size:"small"});let o=null!=s?s:t.symbol;return(0,X.jsxs)("p",{children:[(0,X.jsx)("span",{className:"font-light",children:n}),(0,X.jsx)("span",{"aria-label":"".concat(o," balance amount on ").concat(r),children:aq(a,{decimals:t.decimals})})," ",(0,X.jsx)(s5,{token:t,tokenSymbolOverride:s,isParentChain:i})]})}function ig(){return(0,X.jsx)("span",{className:"flex justify-end",children:(0,X.jsx)(ec.a,{size:"small"})})}function iw(e){let{networkName:t}=e;return(0,X.jsxs)("div",{className:(0,el.m6)("grid items-center","rounded bg-white/30 p-2 opacity-80","text-xs font-light text-white"),children:["You'll have to pay ",t," gas fee upon claiming."]})}function iv(e){let{chainType:t}=e,{app:{selectedToken:a}}=eB(),[r]=ty(),{childChain:n,childChainProvider:s,parentChain:i,parentChainProvider:o,isDepositMode:l}=ae(r),d=a_({provider:s}),c=a_({provider:o}),u="source"===t,h=u?r.sourceChain.id===i.id:r.destinationChain.id===i.id,{status:m,estimatedParentChainGasFees:p,estimatedChildChainGasFees:f}=s3(),x=(0,ez.pp)(i.id),b=s8(d),C=(0,V.useMemo)(()=>b&&!(0,ez.CR)(n.id).isTestnet,[b,n.id]),y=(0,ez.CR)(r.destinationChain.id).isArbitrumOne,g=(0,ez.CR)(r.destinationChain.id).isArbitrumSepolia,w=!l&&h,v=(0,V.useMemo)(()=>l||h||void 0===p||void 0===f?h?p:f:p+f,[p,f,l,h]),A=(0,V.useMemo)(()=>(function(e){let{isEthereumMainnetOrTestnet:t}=(0,ez.CR)(e),a=(0,ez.pp)(e);return t?"".concat(a," fees go to ").concat(a," Validators."):"".concat(a," fees are collected by the chain to cover costs of execution. This is an estimated fee. If the true fee is lower, you'll be refunded.")})(u?r.sourceChain.id:r.destinationChain.id),[u,r.sourceChain.id,r.destinationChain.id]);return w?(0,X.jsx)(iw,{networkName:x}):tZ(null==a?void 0:a.address)&&!u&&(g||y)?(0,X.jsx)(iw,{networkName:r.destinationChain.name}):(0,X.jsxs)("div",{className:(0,el.m6)("flex items-center justify-between","rounded-md bg-white/30 p-2","text-right text-xs font-light text-white opacity-80"),children:[(0,X.jsxs)("div",{className:"flex w-1/2 flex-row items-center gap-1",children:[(0,X.jsxs)("span",{className:"text-left",children:[u?r.sourceChain.name:r.destinationChain.name," ","gas fee"]}),(0,X.jsx)(a$,{content:A,children:(0,X.jsx)(eX.Z,{className:"h-3 w-3"})})]}),"loading"===m||void 0===v?(0,X.jsxs)(X.Fragment,{children:[C&&(0,X.jsx)("span",{}),(0,X.jsx)(ig,{})]}):(0,X.jsxs)("div",{className:(0,el.m6)("flex w-1/2",C?" justify-between":"justify-end"),children:[(0,X.jsx)("span",{className:"text-right",children:aq(v,{symbol:h?c.symbol:d.symbol})}),C&&(0,X.jsx)(s9,{amount:v})]})]})}function iA(){let{app:e}=eB(),{selectedToken:t}=e,[a]=ty(),{isArbitrumOne:r,isEthereumMainnet:n,isSepolia:s,isArbitrumSepolia:i}=(0,ez.CR)(a.sourceChain.id),{isArbitrumOne:o,isEthereumMainnet:l,isSepolia:d,isArbitrumSepolia:c}=(0,ez.CR)(a.destinationChain.id),u=s&&c||i&&d,h=n&&o||r&&l,{erc20ParentBalances:m,erc20ChildBalances:p}=aL();return(0,V.useMemo)(()=>{var e,a,r,n,s,i;let o={parentBalance:null,childBalance:null};return t?(m&&(o.parentBalance=null!==(e=m[t.address.toLowerCase()])&&void 0!==e?e:null),p&&t.l2Address&&t.l2Address in p&&(o.childBalance=null!==(a=p[t.l2Address.toLowerCase()])&&void 0!==a?a:eZ._Y),t.l2Address||(o.childBalance=eZ._Y),tH(t.address)&&h&&m&&p)?{parentBalance:null!==(r=m[tj.Ethereum.USDC.toLowerCase()])&&void 0!==r?r:null,childBalance:null!==(n=p[t.address.toLowerCase()])&&void 0!==n?n:null}:tW(t.address.toLowerCase())&&u&&m&&p?{parentBalance:null!==(s=m[tj.Sepolia.USDC.toLowerCase()])&&void 0!==s?s:null,childBalance:null!==(i=p[t.address.toLowerCase()])&&void 0!==i?i:null}:o:o},[m,p,h,u,t])}function ij(e){var t;let{customFeeTokenBalances:a,showUsdcSpecificInfo:r,destinationNetworkListboxProps:n}=e,{address:s}=(0,J.mA)(),[i]=ty(),{childChain:o,childChainProvider:l,isDepositMode:d}=ae(i),{isArbitrumOne:c}=(0,ez.CR)(o.id),{app:{selectedToken:u}}=eB(),{ethParentBalance:h,ethChildBalance:m,erc20ChildBalances:p}=aL(),f=iA(),x=a_({provider:l}),{destinationAddress:b}=aE(),C=b||s;return(0,X.jsxs)(iV,{bgLogoHeight:58,network:i.destinationChain,customAddress:b,children:[(0,X.jsxs)(iQ,{children:[(0,X.jsx)(iC,{label:"To:",...n}),(0,X.jsx)(iK,{children:C&&ab.isAddress(C)&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(iy,{balance:d?f.childBalance:f.parentBalance,on:d?G.childChain:G.parentChain,forToken:u,prefix:u?"Balance: ":"",tokenSymbolOverride:(null==u?void 0:u.symbol)?tY(null==u?void 0:u.symbol,{chainId:i.destinationChain.id,erc20L1Address:null==u?void 0:u.address}):void 0}),d&&r&&(0,X.jsx)(iy,{balance:null!==(t=c?null==p?void 0:p[tj.ArbitrumOne.USDC]:null==p?void 0:p[tj.ArbitrumSepolia.USDC])&&void 0!==t?t:eZ._Y,on:G.childChain,forToken:u?{...u,symbol:"USDC"}:null,tokenSymbolOverride:"USDC"}),x.isCustom?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(iy,{on:d?G.childChain:G.parentChain,balance:d?a.childBalance:a.parentBalance,forToken:x,prefix:u?"":"Balance: "}),!d&&(0,X.jsx)(iJ,{balance:h,on:G.parentChain})]}):(0,X.jsx)(iJ,{balance:d?m:h,prefix:u?"":"Balance: ",on:d?G.childChain:G.parentChain})]})})]}),(0,X.jsx)(iv,{chainType:"destination"})]})}(C=G||(G={})).parentChain="parentChain",C.childChain="childChain";var iT=a(43913),iN=a(98806);let ik=e=>{let{className:t,label:a,description:r,includeToggleStateOnLabel:n}=e,[s,i]=sy(),o=n?"".concat(a," ").concat(s?"ON":"OFF"):a;return(0,X.jsx)("label",{className:(0,el.m6)("cursor-pointer",null==t?void 0:t.wrapper),children:(0,X.jsx)(rs,{className:null==t?void 0:t.switch,label:o,description:r,checked:s,onChange:i})})},iE=(0,el.m6)("h-screen w-full bg-bg-gray-1 text-white border-gray-dark border w-screen","sm:h-auto sm:w-auto sm:min-w-[448px] sm:gap-3 sm:rounded sm:shadow-modal");function iI(){document.body.classList.remove("overflow-hidden","sm:overflow-visible")}function iS(){document.body.classList.add("overflow-hidden","sm:overflow-visible")}(y=H||(H={})).core="CORE CHAINS",y.orbit="ORBIT CHAINS";let iD={core:{name:"CORE CHAINS"},orbit:{name:"ORBIT CHAINS",description:(0,X.jsxs)("p",{className:"mt-2 flex gap-1 whitespace-normal rounded bg-orange-dark px-2 py-1 text-xs text-orange",children:[(0,X.jsx)(iN.Z,{className:"h-4 w-4 shrink-0"}),(0,X.jsxs)("span",{children:["Independent projects using Arbitrum technology. Orbit chains have varying degrees of decentralization."," ",(0,X.jsx)("span",{className:"font-semibold",children:"Bridge at your own risk."})]})]})}};function iL(e){let{chainGroup:t,style:a}=e,{name:r,description:n}=t,s="CORE CHAINS"===t.name;return(0,X.jsxs)("div",{style:a,className:(0,el.m6)("px-4 py-3",!s&&'before:-mt-3 before:mb-3 before:block before:h-[1px] before:w-full before:bg-white/30 before:content-[""]'),children:[(0,X.jsx)("p",{className:"text-sm text-white/70",children:r}),n]},r)}function iM(e){var t;let{chainId:a,style:r,onClick:n,close:s}=e,{network:i,nativeTokenData:o}=(0,aR.f)(a),l=e1(a),[{sourceChain:d}]=ty();return(0,X.jsxs)("button",{onClick:function(){n(l),s()},style:r,type:"button","aria-label":"Switch to ".concat(i.name),className:(0,el.m6)("flex h-[90px] w-full items-center gap-4 px-4 py-2 text-lg transition-[background] duration-200 hover:bg-white/10",a===d.id&&"bg-white/10"),children:[(0,X.jsx)(ib,{chainId:a,className:"h-[32px] w-[32px] p-[6px]",size:20}),(0,X.jsxs)("div",{className:(0,el.m6)("flex flex-col items-start gap-1"),children:[(0,X.jsx)("span",{className:"truncate leading-[1.1]",children:i.name}),i.description&&(0,X.jsx)("p",{className:"whitespace-pre-wrap text-left text-xs leading-[1.15] text-white/70",children:i.description}),(0,X.jsxs)("p",{className:"text-[10px] leading-none text-white/50",children:[null!==(t=null==o?void 0:o.symbol)&&void 0!==t?t:"ETH"," is the native gas token"]})]})]},a)}function iR(){let[,e]=(0,e$.gw)(),[t]=sy();return t?(0,X.jsx)("button",{className:"arb-hover text-sm underline",onClick:()=>e({settingsOpen:!0}),children:(0,X.jsx)("span",{children:"Add Custom Orbit Chain"})}):null}function iP(e){let{onNetworkRowClick:t,close:a}=e,[r,n]=(0,V.useState)(""),[s,i]=(0,V.useState)(""),o=(0,er.Nr)(s,200),l=(0,V.useRef)(null),[d]=sy(),c=(0,V.useMemo)(()=>(0,ez.c)({includeMainnets:!d,includeTestnets:d}),[d]),u=(0,V.useMemo)(()=>{let e=o.trim().toLowerCase();return e?c.filter(t=>(0,aR.f)(t).network.name.toLowerCase().includes(e)):{core:c.filter(e=>!(0,ez.CR)(e).isOrbitChain),orbit:c.filter(e=>(0,ez.CR)(e).isOrbitChain)}},[o,c]),h=Array.isArray(u),m=(0,V.useMemo)(()=>h?u:["CORE CHAINS",...u.core,"ORBIT CHAINS",...u.orbit],[h,u]);function p(e){let{index:t}=e,a=m[t];return a?"string"==typeof a?"CORE CHAINS"===a?45:115:(0,aR.f)(a).network.description?90:60:0}(0,V.useEffect)(()=>{var e;null===(e=l.current)||void 0===e||e.recomputeRowHeights()},[d,m]);let f=(0,V.useCallback)(e=>{let{index:r,style:n}=e,s=m[r];return s?"CORE CHAINS"===s?(0,X.jsx)(iL,{chainGroup:iD.core,style:n}):"ORBIT CHAINS"===s?(0,X.jsx)(iL,{chainGroup:iD.orbit,style:n}):(0,X.jsx)(iM,{style:n,chainId:s,onClick:t,close:a},s):null},[a,m,t]),x=(0,V.useCallback)(e=>{n(""),i(e.target.value)},[]);return(0,X.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,X.jsx)(aU,{searchInputPlaceholder:"Search a network name",searchInputValue:s,searchInputOnChange:x,errorMessage:r,children:(0,X.jsx)(ap.qj,{children:e=>{let{height:t,width:a}=e;return(0,X.jsx)(ap.aV,{ref:l,width:a-2,height:t,rowCount:m.length,rowHeight:p,rowRenderer:f,listRef:l})}})}),(0,X.jsxs)("div",{className:"flex justify-between pb-2",children:[(0,X.jsx)(ik,{label:"Testnet mode",includeToggleStateOnLabel:!0}),(0,X.jsx)(iR,{})]})]})}let i_=e=>{let{children:t,buttonClassName:a,buttonStyle:r,onChange:n}=e,{isSmartContractWallet:s,isLoading:i}=aT();return(0,X.jsx)(iT.J,{className:"relative w-max",children:e=>{let{open:o}=e;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(iT.J.Button,{style:r,disabled:s||i,className:a,onClick:iS,children:[t,!s&&(0,X.jsx)(aw.Z,{className:(0,el.m6)("h-[12px] w-[12px] transition-transform duration-200 sm:h-3 sm:w-3",o?"-rotate-180":"rotate-0")})]}),(0,X.jsx)(ak,{className:"fixed left-0 top-0 z-50 sm:absolute sm:top-[54px]",options:{unmountOnLeave:!1},afterLeave:iI,children:(0,X.jsx)(iT.J.Panel,{className:(0,el.m6)(iE),children:e=>{let{close:t}=e;function a(){iI(),t()}return(0,X.jsx)(aW,{children:(0,X.jsxs)(aW.MainPage,{className:"flex h-full flex-col px-5 py-4",children:[(0,X.jsx)(aW.PageTitle,{title:"Select Network",children:(0,X.jsx)(aW.CloseButton,{onClick:a})}),(0,X.jsx)(iP,{close:a,onNetworkRowClick:n})]})})}})})]})}})};function iO(){let{app:{selectedToken:e,arbTokenBridge:{bridgeTokens:t},arbTokenBridgeLoaded:a}}=eB(),[r]=ty(),{childChainProvider:n}=ae(r),s=a_({provider:n});(0,V.useMemo)(()=>{var r;let n=null==e?void 0:e.address;if(!n)return s.logoUrl;if(!a||void 0===t)return;let i=null===(r=t[n])||void 0===r?void 0:r.logoURI;if(i)return(0,en.Ou)(i)},[s,t,null==e?void 0:e.address,a]);let i=(0,V.useMemo)(()=>e?tY(e.symbol,{erc20L1Address:e.address,chainId:r.sourceChain.id}):s.symbol,[e,r.sourceChain.id,s.symbol]);return(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(iT.J,{className:"relative",children:e=>{let{open:t}=e;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(iT.J.Button,{className:"arb-hover h-full w-max rounded-bl rounded-tl px-3 py-3 text-white","aria-label":"Select Token",onClick:iS,children:(0,X.jsxs)("div",{className:"flex items-center gap-2",children:[(0,X.jsx)("span",{className:"text-xl font-light sm:text-3xl",children:i}),(0,X.jsx)(aw.Z,{className:(0,el.m6)("h-3 w-3 text-gray-6 transition-transform duration-200",t?"-rotate-180":"rotate-0")})]})}),(0,X.jsx)(ak,{options:{unmountOnLeave:!1},className:"fixed left-0 top-0 z-20 sm:absolute sm:top-[76px] sm:max-w-[466px]",afterLeave:iI,children:(0,X.jsx)(iT.J.Panel,{className:(0,el.m6)(iE,"px-5 py-4"),children:e=>{let{close:t}=e;return(0,X.jsx)(rp,{close:function(){iI(),t()}})}})})]})}})})}function iB(){let[,e]=(0,e$.gw)(),t=s2();return(0,V.useCallback)(a=>{e({amount:aK(a,t)})},[t,e])}function iU(e){let{className:t="",...a}=e,{app:{selectedToken:r}}=eB(),[n]=ty(),{isDepositMode:s}=ae(n),{ethParentBalance:i,ethChildBalance:o}=aL(),l=iA();return(0,V.useMemo)(()=>{let e=s?i:o,t=s?l.parentBalance:l.childBalance;return r?!!t&&!t.isZero():!!e&&!e.isZero()},[i,o,l,r,s])?(0,X.jsx)("button",{type:"button",className:(0,el.m6)("arb-hover px-2 py-2 text-sm font-light text-gray-6 sm:px-4",t),...a,children:"MAX"}):null}function iF(e){let{value:t="",onChange:a,...r}=e,n=iB(),s=s2();return(0,V.useEffect)(()=>{aJ(String(t))>s&&n(String(t))},[t,s,n]),(0,X.jsx)("input",{type:"text",inputMode:"decimal",placeholder:"Enter amount",className:"h-full w-full bg-transparent px-3 text-xl font-light placeholder:text-gray-dark sm:text-3xl",value:t,onChange:e=>{null==a||a(e),n(e.target.value)},...r})}function iG(e){let{errorMessage:t}=e,{openDialog:a}=ao();if(void 0===t)return null;if("string"==typeof t)return(0,X.jsx)("span",{className:"text-sm text-brick",children:t});switch(t){case F.GAS_ESTIMATION_FAILURE:return(0,X.jsxs)("span",{className:"text-sm text-brick",children:["Gas estimation failed, join our"," ",(0,X.jsx)(es,{href:"https://discord.com/invite/ZpZuw7p",className:"underline",children:"Discord"})," ","and reach out in #support for assistance."]});case F.TOKEN_WITHDRAW_ONLY:case F.TOKEN_TRANSFER_DISABLED:return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("span",{className:"text-sm text-brick",children:"This token can't be bridged over."})," ",(0,X.jsx)("button",{className:"arb-hover underline",onClick:a,children:"Learn more."})]})}}function iH(e){let{errorMessage:t,maxButtonOnClick:a,...r}=e;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:(0,el.m6)("flex flex-row rounded border bg-black/40 shadow-2",t?"border-brick text-brick":"border-white/30 text-white"),children:[(0,X.jsx)(iO,{}),(0,X.jsxs)("div",{className:(0,el.m6)("flex grow flex-row items-center justify-center border-l",t?"border-brick":"border-white/30"),children:[(0,X.jsx)(iF,{...r}),(0,X.jsx)(iU,{onClick:a})]})]}),(0,X.jsx)(iG,{errorMessage:t})]})}function iW(e){let{amount:t,errorMessage:a,customFeeTokenBalances:r,showUsdcSpecificInfo:n}=e,s=eU(),[i,o]=ty(),{childChain:l,childChainProvider:d,isDepositMode:c}=ae(i),{app:{selectedToken:u}}=eB(),{ethParentBalance:h,ethChildBalance:m}=aL(),p=iA(),f=a_({provider:d}),x=iB(),{maxAmount:b}=function(e){let{customFeeTokenBalances:t}=e,{app:{selectedToken:a}}=eB(),r=iA(),[n]=ty(),{childChainProvider:s,isDepositMode:i}=ae(n),o=a_({provider:s}),{ethParentBalance:l,ethChildBalance:d}=aL(),{estimatedParentChainGasFees:c,estimatedChildChainGasFees:u}=s3();return{maxAmount:(0,V.useMemo)(()=>{if(a){var e;let t=i?r.parentBalance:r.childBalance;if(!t)return;return eW.formatUnits(t,null!==(e=null==a?void 0:a.decimals)&&void 0!==e?e:0)}let n=t.parentBalance;if(o.isCustom&&i&&n)return eW.formatUnits(n,o.decimals);let s=i?l:d;if(!s)return;let h=eW.formatUnits(s,o.decimals),m=(null!=c?c:0)+(null!=u?u:0),p=parseFloat(h)-1.4*m;return p>0?String(p):h},[o,l,d,i,a,r,c,u,t])}}({customFeeTokenBalances:r}),C=t===e$.Gi.MAX;(0,V.useEffect)(()=>{C&&void 0!==b?x(b):x(t)},[t,b,C,x]);let y=(0,V.useCallback)(()=>{void 0!==b&&x(b)},[b,x]),g={backgroundColor:(0,aR.f)(i.sourceChain.id).color},w=(0,V.useCallback)(e=>{if(i.destinationChain.id===e.id){o({sourceChainId:i.destinationChain.id,destinationChainId:i.sourceChain.id});return}o({sourceChainId:e.id,destinationChainId:i.destinationChain.id}),s.app.setSelectedToken(null)},[s.app,i.destinationChain.id,i.sourceChain.id,o]);return(0,X.jsxs)(iV,{bgLogoHeight:138,network:i.sourceChain,children:[(0,X.jsxs)(iQ,{children:[(0,X.jsx)(i_,{buttonStyle:g,buttonClassName:(0,el.m6)("arb-hover flex w-max items-center gap-1 md:gap-2 rounded px-3 py-2 text-sm text-white outline-none md:text-2xl"),onChange:w,children:(0,X.jsxs)("span",{className:"max-w-[220px] truncate text-sm leading-[1.1] md:max-w-[250px] md:text-xl",children:["From: ",(0,ez.pp)(i.sourceChain.id)]})}),(0,X.jsxs)(iK,{children:[(0,X.jsx)(iy,{on:c?G.parentChain:G.childChain,balance:c?p.parentBalance:p.childBalance,forToken:u,prefix:u?"Balance: ":""}),f.isCustom?(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(iy,{on:c?G.parentChain:G.childChain,balance:c?r.parentBalance:r.childBalance,forToken:f,prefix:u?"":"Balance: "}),c&&(0,X.jsx)(iJ,{balance:h,on:G.parentChain})]}):(0,X.jsx)(iJ,{balance:c?h:m,prefix:u?"":"Balance: ",on:c?G.parentChain:G.childChain})]})]}),(0,X.jsxs)("div",{className:"flex flex-col gap-1",children:[(0,X.jsx)(iH,{maxButtonOnClick:y,errorMessage:a,value:C?"":t}),n&&(0,X.jsxs)("p",{className:"mt-1 text-xs font-light text-white",children:["Bridged USDC (USDC.e) will work but is different from Native USDC."," ",(0,X.jsx)(es,{href:eo.Bu,className:"arb-hover underline",children:"Learn more"}),"."]}),c&&u&&(0,X.jsxs)("p",{className:"mt-1 text-xs font-light text-white",children:["Make sure you have ",f.symbol," in your"," ",(0,ez.pp)(l.id)," account, as you’ll need it to power transactions.",(0,X.jsx)("br",{}),(0,X.jsx)(es,{href:eo.bA,className:"arb-hover underline",children:"Learn more"}),"."]})]}),(0,X.jsx)(iv,{chainType:"source"})]})}function iZ(e){let{isSmartContractWallet:t,isLoading:a}=aT(),r=t||a,[n,s]=ty();return(0,X.jsx)("div",{className:"z-[1] flex h-4 w-full items-center justify-center lg:h-1",children:(0,X.jsxs)("button",{type:"button",disabled:r,className:(0,el.m6)("group relative flex h-7 w-7 items-center justify-center rounded bg-gray-1 p-1",r&&"pointer-events-none"),onClick:()=>{s({sourceChainId:n.destinationChain.id,destinationChainId:n.sourceChain.id})},"aria-label":"Switch Networks",...e,children:[(0,X.jsx)(iY,{}),t?(0,X.jsx)(ic.Z,{className:"h-6 w-6 stroke-1 text-white"}):(0,X.jsx)(iu.Z,{className:"h-8 w-8 stroke-1 text-white transition duration-300 group-hover:rotate-180 group-hover:opacity-80"}),(0,X.jsx)(iz,{})]})})}function iY(){let[e]=ty(),t=(0,aR.f)(e.sourceChain.id).color;return(0,X.jsx)("div",{className:"absolute left-0 right-0 top-0 m-auto h-[7.5px] w-full rounded-t border-x border-t transition-[border-color] duration-200 lg:h-[10px]",style:{borderColor:t}})}function iz(){let[e]=ty(),t=(0,aR.f)(e.destinationChain.id).color;return(0,X.jsx)("div",{className:"absolute bottom-0 left-0 right-0 m-auto h-[7.5px] w-full rounded-b border-x border-b transition-[border-color] duration-200 lg:h-[10px]",style:{borderColor:t}})}function iX(e){let{network:t,customAddress:a}=e,{color:r}=(0,aR.f)(t.id);return a?(0,X.jsx)("div",{style:{backgroundColor:"".concat(r,"AA"),color:"white",borderColor:r},className:(0,el.m6)("w-full rounded-t border border-b-0 p-2 text-center text-sm"),children:(0,X.jsxs)("span",{children:["Showing balance for"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat((0,ez.jY)(t.id),"/address/").concat(a),children:a})]})}):null}function iV(e){let{network:t,customAddress:a,bgLogoHeight:r=58,children:n}=e,{address:s}=(0,J.mA)(),{color:i,network:{logo:o}}=(0,aR.f)(t.id),l=(0,ih.Z)("(max-width: 639px)"),d=null==s?void 0:s.toLowerCase(),c=(0,V.useMemo)(()=>!!a&&!!d&&a!==d&&ab.isAddress(a),[a,d]);return(0,X.jsxs)("div",{children:[c&&(0,X.jsx)(iX,{network:t,customAddress:a}),(0,X.jsxs)("div",{style:{backgroundColor:"".concat(i,"66"),borderColor:i},className:(0,el.m6)("relative rounded border transition-colors duration-400",c&&"rounded-t-none"),children:[(0,X.jsx)("div",{className:"absolute left-0 top-0 h-full w-full bg-[-2px_0] bg-no-repeat bg-origin-content p-3 opacity-50",style:{backgroundImage:"url(".concat(o,")"),backgroundSize:"auto ".concat(r+(l?-12:0),"px")}}),(0,X.jsx)("div",{className:"relative space-y-3.5 bg-contain bg-no-repeat p-3 sm:flex-row",children:n})]})]})}function iq(){return(0,X.jsx)(ec.a,{color:"white",size:"small"})}function iJ(e){let{balance:t,prefix:a="",on:r}=e;return t?(0,X.jsxs)("p",{children:[(0,X.jsx)("span",{className:"font-light",children:a}),(0,X.jsx)("span",{"aria-label":"ETH balance amount on ".concat(r),children:aq(t,{symbol:eo.Xx.symbol})})]}):(0,X.jsx)(iq,{})}function iK(e){let{children:t}=e;return(0,X.jsx)("div",{className:"flex flex-col flex-nowrap items-end break-all text-sm tracking-[.25px] text-white sm:text-lg",children:t})}function iQ(e){let{children:t}=e;return(0,X.jsx)("div",{className:"flex flex-row flex-wrap items-center justify-between gap-1 gap-y-2.5 whitespace-nowrap",children:t})}function i$(e){let{amount:t,errorMessage:a}=e,r=eU(),[n,s]=ty(),{childChain:i,childChainProvider:o,isTeleportMode:l}=ae(n),{isSmartContractWallet:d,isLoading:c}=aT(),{isArbitrumOne:u,isArbitrumSepolia:h}=(0,ez.CR)(i.id),m=a_({provider:o}),{app:{selectedToken:p}}=eB(),{address:f}=(0,J.mA)(),{destinationAddress:x,setDestinationAddress:b}=aE(),C=x||f,{ethParentBalance:y,erc20ParentBalances:g,updateErc20ParentBalances:w,ethChildBalance:v,updateErc20ChildBalances:A}=aL(),{updateUSDCBalances:j}=aM({walletAddress:C});(0,V.useEffect)(()=>{m.isCustom&&w([m.address])},[m,w]),(0,V.useEffect)(()=>{if(p&&C&&ab.isAddress(C)){if(!l&&(tB(p.address)||tF(p.address)||tH(p.address)||tW(p.address))){j();return}w([p.address]),p.l2Address&&A([p.l2Address])}},[p,w,A,C,j,l]);let T=(0,V.useMemo)(()=>{var e;return m.isCustom?{parentBalance:null!==(e=null==g?void 0:g[m.address])&&void 0!==e?e:null,childBalance:v}:{parentBalance:y,childBalance:v}},[m,y,v,g]),[N,k]=eC(),[E,I]=(0,V.useState)(null),S=!l&&(tB(null==p?void 0:p.address)&&u||tF(null==p?void 0:p.address)&&h);(0,V.useEffect)(()=>{p||b(void 0)},[p,b]),function(){let e=eU(),{app:{arbTokenBridge:{token:t},selectedToken:a}}=eB(),[r]=ty(),{isDepositMode:n}=ae(r),{isArbitrumOne:s,isArbitrumSepolia:i}=(0,ez.CR)(r.destinationChain.id);(0,V.useEffect)(()=>{let r=tH(null==a?void 0:a.address),o=tW(null==a?void 0:a.address);n&&(r&&s&&(t.updateTokenData(tj.Ethereum.USDC),e.app.setSelectedToken({...ip,address:tj.Ethereum.USDC,l2Address:tj.ArbitrumOne["USDC.e"]})),o&&i&&(t.updateTokenData(tj.Sepolia.USDC),e.app.setSelectedToken({...ip,address:tj.Sepolia.USDC,l2Address:tj.ArbitrumSepolia["USDC.e"]})))},[e.app,n,s,i,a,t])}();let D=(0,V.useMemo)(()=>{let e=function(){let e=(0,ez.AH)(n.sourceChain.id);return n.sourceChain.id===ez.a_.ArbitrumOne&&e.push(ez.a_.ArbitrumNova),n.sourceChain.id===ez.a_.ArbitrumNova&&e.push(ez.a_.ArbitrumOne),e.filter(e=>e!==n.destinationChain.id).map(e1)}();return{to:{disabled:d||c||0===e.length,options:e,value:n.destinationChain,onChange:async e=>{var t;if(t=[e.id,n.sourceChain.id],[ez.a_.ArbitrumOne,ez.a_.ArbitrumNova].every(e=>t.includes(e))){I(e.id),k();return}s({sourceChainId:n.sourceChain.id,destinationChainId:e.id}),r.app.setSelectedToken(null)}}}},[d,c,n.sourceChain,n.destinationChain,s,k]);return(0,X.jsxs)("div",{className:"flex flex-col pb-6 lg:gap-y-1",children:[(0,X.jsx)(iW,{amount:t,errorMessage:a,customFeeTokenBalances:T,showUsdcSpecificInfo:S}),(0,X.jsx)(iZ,{}),(0,X.jsx)(ij,{customFeeTokenBalances:T,showUsdcSpecificInfo:S,destinationNetworkListboxProps:D.to}),(0,X.jsx)(al,{}),(0,X.jsx)(im,{...N,destinationChainId:E,amount:t})]})}var i0=a(28580);let i2=(e,t)=>{let a=(0,ez.CR)(e).isEthereumMainnetOrTestnet,r=(0,ez.pp)(e),n=t?"Please connect to ".concat(r," on your wallet before signing your ").concat(a?"deposit":"withdraw"," transaction."):"Please connect to ".concat(r," on your wallet.");(0,ei.Iv)(n)};function i1(e,t){let{chainId:a}=t,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{isSwitchingNetworkBeforeTx:!1},{isSwitchingNetworkBeforeTx:n}=r;(0,i0.$)(e)||("SwitchChainNotSupportedError"===e.name?i2(a,n):eh({error:e,originFunction:"handleSwitchNetworkError"}))}function i3(){let{isSwitchingNetworkBeforeTx:e=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,J.g0)({throwForSwitchChainNotSupported:!0,onMutate:()=>({isSwitchingNetworkBeforeTx:e}),onError:i1})}function i6(e){var t,a,r,n;let{onChange:s,onAllCheckboxesCheched:i,isBridgingNativeUSDC:o}=e,[l,d]=(0,V.useState)([!1,!1,!1]),{chain:c}=(0,J.LN)(),{isTestnet:u}=(0,ez.CR)(null!==(t=null==c?void 0:c.id)&&void 0!==t?t:0),h=u?"Arbitrum Sepolia":"Arbitrum One";return(0,V.useEffect)(()=>{l.every(e=>e)&&(null==i||i())},[l,i]),(0,X.jsxs)(X.Fragment,{children:[o&&(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(rg,{label:(0,X.jsxs)("span",{className:"select-none font-light",children:["I understand that I'll have to send"," ",(0,X.jsxs)("span",{className:"font-medium",children:["a second transaction on ",h]})," ","and pay another ",h," fee to claim my USDC."]}),checked:null!==(a=l[0])&&void 0!==a&&a,onChange:e=>{s(e),d(t=>{let a=[...t];return a[0]=e,a})}}),(0,X.jsx)(rg,{label:(0,X.jsxs)("span",{className:"select-none font-light",children:["I understand that it will take"," ",(0,X.jsxs)("span",{className:"font-medium",children:["~",sQ(sJ(u))]})," ","before I can claim my USDC on ",h,"."]}),checked:null!==(r=l[1])&&void 0!==r&&r,onChange:e=>{s(e),d(t=>{let a=[...t];return a[1]=e,a})}})]}),(0,X.jsx)(rg,{label:(0,X.jsxs)("span",{className:"select-none font-light",children:["I understand ",(0,X.jsx)("span",{className:"font-medium",children:"USDC.e"})," is different from ",(0,X.jsx)("span",{className:"font-medium",children:"USDC"}),"."," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"https://arbitrumfoundation.medium.com/usdc-to-come-natively-to-arbitrum-f751a30e3d83",onClick:function(e){e.stopPropagation(),e.nativeEvent.stopImmediatePropagation()},children:"Learn more"}),"."]}),checked:null!==(n=l[2])&&void 0!==n&&n,onChange:e=>{s(e),d(t=>{let a=[...t];return a[2]=e,a})}})]})}function i4(){let{fetchAttestation:e}=rD({sourceChainId:ez.a_.Ethereum});return(0,tv.Z)(["cctp-check"],async()=>{try{return await e("0x"),!1}catch(e){return!0}})}let i5=e=>{let{destinationChainId:t,children:a}=e,{data:r,isLoading:n}=i4();return n||r?(0,X.jsxs)("p",{className:"font-light",children:["Access to Circle's bridge is restricted in certain jurisdictions. For more details, please consult Circle's"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:eo.A2,children:"documentation."})," "]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("p",{className:"font-light",children:["Receive"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat((0,ez.jY)(t),"/token/").concat(sR(t).USDC),children:"Native USDC"})," ","on ",(0,ez.pp)(t)," with Circle's"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:eo.A2,children:"Cross-Chain Transfer Protocol"})," ","within the Arbitrum Bridge."]}),a]})};(g=W||(W={})).Bridged="bridged",g.ThirdParty="third_party",g.Cctp="cctp";let i8="cctp";function i9(e){var t;let{app:{selectedToken:a}}=eB(),[r]=ty(),{childChain:n,parentChain:s}=ae(r),{isArbitrumSepolia:i}=(0,ez.CR)(n.id),[o,l]=(0,V.useState)(!1),[d,c]=(0,V.useState)(i8),u=(0,ez.pp)(n.id),h=B.USDC,m=(0,ez.CR)(s.id).isTestnet?tj.ArbitrumSepolia["USDC.e"]:tj.ArbitrumOne["USDC.e"];(0,V.useEffect)(()=>{l(!1)},[e.isOpen]);let p=(0,V.useCallback)(t=>{t&&r5("bridged"===d?"Use Arbitrum Bridge Click":"Use CCTP Click",{tokenSymbol:h,type:"Deposit"}),e.onClose(t,d),c(i8)},[e,d,h]);if(!a||!tB(a.address)&&!tF(a.address))return null;let f=nn.map(t=>({name:t.name,imageSrc:t.imageSrc,href:t.getHref({from:s.id,to:n.id,fromTokenAddress:i?tj.Sepolia.USDC:tj.Ethereum.USDC,toTokenAddress:i?tj.ArbitrumSepolia.USDC:tj.ArbitrumOne.USDC,amount:e.amount,transferMode:"deposit"})}));return(0,X.jsx)(ey,{...e,title:"Move funds to ".concat(u),actionButtonProps:{disabled:!o,hidden:"third_party"===d},onClose:p,children:(0,X.jsx)("div",{className:"flex flex-col pt-4",children:(0,X.jsxs)(r$.O.Group,{onChange:()=>{l(!1)},children:[(0,X.jsxs)(r$.O.List,{className:"flex border-b border-gray-dark",children:[(0,X.jsx)(r0,{"aria-label":"Native USDC",onClick:()=>c("cctp"),children:"Native USDC"}),(0,X.jsx)(r0,{"aria-label":"Native USDC (Third Party Bridge)",onClick:()=>c("third_party"),children:"Native USDC (Third Party Bridge)"}),(0,X.jsx)(r0,{"aria-label":"Wrapped USDC (USDC.e)",onClick:()=>c("bridged"),children:"Wrapped USDC (USDC.e)"})]}),(0,X.jsx)(r$.O.Panel,{className:"flex flex-col space-y-4 py-4",children:(0,X.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,X.jsx)(i5,{destinationChainId:n.id,children:(0,X.jsx)("div",{className:"flex flex-col space-y-4",children:(0,X.jsx)(i6,{onAllCheckboxesCheched:()=>{l(!0)},onChange:e=>{e||l(!1)},isBridgingNativeUSDC:!0})})}),(0,X.jsx)(ni,{})]})}),(0,X.jsxs)(r$.O.Panel,{className:"flex flex-col space-y-4 py-4",children:[(0,X.jsx)("div",{className:"flex flex-col space-y-4",children:(0,X.jsxs)("p",{className:"font-light",children:["Receive"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat((0,ez.jY)(n.id),"/token/").concat(null===(t=sR(n.id))||void 0===t?void 0:t.USDC),children:"Native USDC"})," ","on ",u," using a third-party bridge with Circle's"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:eo.A2,children:"Cross-Chain Transfer Protocol"})," ","integrated."]})}),(0,X.jsx)(r8,{bridgeList:f,selectedNonCanonicalToken:h}),(0,X.jsx)(ni,{})]}),(0,X.jsxs)(r$.O.Panel,{className:"flex flex-col space-y-4 py-4",children:[(0,X.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,X.jsxs)("p",{className:"font-light",children:["Receive"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat((0,ez.jY)(n.id),"/token/").concat(m),children:"Wrapped USDC (USDC.e)"})," ","on ",u," using Arbitrum's native bridge."]}),(0,X.jsx)("div",{className:"flex flex-col space-y-4",children:(0,X.jsx)(i6,{onChange:e=>{l(e)}})})]}),(0,X.jsx)(ns,{})]})]})})})}function i7(e){var t,a;let{onChange:r,onAllCheckboxesCheched:n}=e,[s,i]=(0,V.useState)([!1,!1]),[o]=ty(),{isTestnet:l}=(0,ez.CR)(o.sourceChain.id),d=(0,ez.pp)(o.destinationChain.id);return(0,V.useEffect)(()=>{s.every(e=>e)&&(null==n||n())},[s,n]),(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(rg,{label:(0,X.jsxs)("span",{className:"select-none font-light",children:["I understand that I'll have to send"," ",(0,X.jsxs)("span",{className:"font-medium",children:["a second transaction on ",d]})," ","and pay another ",d," fee to claim my USDC."]}),checked:null!==(t=s[0])&&void 0!==t&&t,onChange:e=>{r(e),i(t=>{let a=[...t];return a[0]=e,a})}}),(0,X.jsx)(rg,{label:(0,X.jsxs)("span",{className:"select-none font-light",children:["I understand that it will take"," ",(0,X.jsxs)("span",{className:"font-medium",children:["~",sQ(sJ(l))]})," ","before I can claim my USDC on ",l?"Sepolia":"Ethereum","."]}),checked:null!==(a=s[1])&&void 0!==a&&a,onChange:e=>{r(e),i(t=>{let a=[...t];return a[1]=e,a})}})]})}(w=Z||(Z={})).ThirdParty="third_party",w.Cctp="cctp";let oe="cctp";function ot(e){var t;let[a]=ty(),{childChain:r,parentChain:n}=ae(a),[s,i]=(0,V.useState)(!1),[o,l]=(0,V.useState)(oe),{isArbitrumSepolia:d}=(0,ez.CR)(r.id),c=(0,ez.pp)(n.id),u=B.USDC,h=(0,V.useCallback)(t=>{t&&r5("Use CCTP Click",{tokenSymbol:u,type:"Withdrawal"}),e.onClose(t,o),l(oe)},[e,u,o]);(0,V.useEffect)(()=>{i(!1)},[e.isOpen]);let m=nn.map(t=>({name:t.name,imageSrc:t.imageSrc,href:t.getHref({from:r.id,to:n.id,fromTokenAddress:d?tj.ArbitrumSepolia.USDC:tj.ArbitrumOne.USDC,toTokenAddress:d?tj.Sepolia.USDC:tj.Ethereum.USDC,amount:e.amount,transferMode:"withdraw"})}));return(0,X.jsx)(ey,{...e,title:"Move funds to ".concat(c),actionButtonProps:{disabled:!s,hidden:"third_party"===o},onClose:h,children:(0,X.jsx)("div",{className:"flex max-h-screen w-full flex-col pt-4",children:(0,X.jsxs)(r$.O.Group,{children:[(0,X.jsxs)(r$.O.List,{className:"flex border-b border-gray-dark",children:[(0,X.jsx)(r0,{"aria-label":"Native USDC",onClick:()=>l("cctp"),children:"Native USDC"}),(0,X.jsx)(r0,{"aria-label":"Native USDC (Third Party Bridge)",onClick:()=>l("third_party"),children:"Native USDC (Third Party Bridge)"})]}),(0,X.jsx)(r$.O.Panel,{className:"flex flex-col space-y-4 py-4",children:(0,X.jsxs)("div",{className:"flex flex-col space-y-4",children:[(0,X.jsx)(i5,{destinationChainId:n.id,children:(0,X.jsx)("div",{className:"flex flex-col space-y-4",children:(0,X.jsx)(i7,{onAllCheckboxesCheched:()=>{i(!0)},onChange:e=>{e||i(!1)}})})}),(0,X.jsx)(ni,{})]})}),(0,X.jsxs)(r$.O.Panel,{className:"flex flex-col space-y-4 py-4",children:[(0,X.jsx)("div",{className:"flex flex-col space-y-4 font-light",children:(0,X.jsxs)("p",{children:["Receive"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat((0,ez.jY)(n.id),"/token/").concat(null===(t=sR(n.id))||void 0===t?void 0:t.USDC),children:"Native USDC"})," ","on ",c," using a third-party bridge with Circle's"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:eo.A2,children:"Cross-Chain Transfer Protocol"})," ","integrated."]})}),(0,X.jsx)(r8,{bridgeList:m,selectedNonCanonicalToken:u}),(0,X.jsx)(ni,{})]})]})})})}function oa(e){let{customFeeToken:t,isOpen:a}=e,{ethToUSD:r}=rw(),{app:n}=eB(),{selectedToken:s}=n,[i]=ty(),{sourceChain:o,destinationChain:l}=i,{parentChain:d,parentChainProvider:c}=ae(i),{isEthereumMainnet:u}=(0,ez.CR)(d.id),{data:h}=(0,J.mx)({chainId:d.id}),m=rv({provider:c}),[p,f]=(0,V.useState)(!1),[x,b]=(0,V.useState)(eZ._Y),C=(0,V.useMemo)(()=>parseFloat(eW.formatEther(x.mul(m))),[x,m]),y=(0,V.useMemo)(()=>{let e=aq(C,{symbol:"ETH"}),t=aX(r(C));return"".concat(e).concat(u?" (".concat(t,")"):"")},[C,r,u]);return(0,V.useEffect)(()=>{a&&async function(){if(h){let e=await rK.create({sourceChainId:o.id,sourceChainErc20Address:null==s?void 0:s.address,destinationChainId:l.id,destinationChainErc20Address:null==s?void 0:s.l2Address}),t=await e.approveNativeCurrencyEstimateGas({signer:h});t&&b(t)}}()},[a,s,h,o,l]),(0,X.jsx)(ey,{...e,onClose:function(t){e.onClose(t),f(!1)},title:"Acknowledge approval fees",actionButtonTitle:"Pay approval fee of ".concat(y),actionButtonProps:{disabled:!p},children:(0,X.jsxs)("div",{className:"flex flex-col space-y-4 py-4",children:[(0,X.jsxs)("div",{className:"flex flex-row items-center space-x-3",children:[(0,X.jsx)(aQ,{src:t.logoUrl,alt:"".concat(t.name," logo"),className:"h-6 w-6 grow-0",fallback:(0,X.jsx)("div",{className:"flex h-6 w-6 items-center justify-center rounded-full border border-white/30 bg-gray-dark text-sm font-medium",children:"?"})}),(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,X.jsx)("span",{className:"text-base",children:t.symbol}),(0,X.jsx)("span",{className:"text-xs text-white/70",children:t.name})]}),(0,X.jsx)(es,{href:"".concat((0,ez.jY)(d.id),"/token/").concat(t.address),className:"arb-hover text-xs underline",children:ad(t.address)})]})]}),(0,X.jsxs)("span",{className:"font-light",children:["The network you are trying to deposit to uses"," ",(0,X.jsxs)("span",{className:"font-medium",children:[t.name," (",t.symbol,")"]})," ","as the fee token. Before continuing with your deposit, you must first allow the bridge contract to access your"," ",(0,X.jsx)("span",{className:"font-medium",children:t.symbol}),"."]}),(0,X.jsx)(rg,{label:(0,X.jsxs)("span",{className:"font-light",children:["I understand that I have to pay a one-time"," ",(0,X.jsxs)("span",{className:"font-medium",children:["approval fee of ",y]})," ","for this."]}),checked:p,onChange:f}),(0,X.jsx)("div",{className:"flex flex-col",children:(0,X.jsx)(eK,{children:s?(0,X.jsxs)("span",{className:"text-sm font-light text-cyan-dark",children:["After approval, you'll see additional prompts related to depositing your"," ",(0,X.jsx)("span",{className:"font-medium",children:s.symbol}),"."]}):(0,X.jsxs)("span",{className:"text-sm font-light text-cyan-dark",children:["After approval, you'll see an additional prompt in your wallet to deposit your"," ",(0,X.jsx)("span",{className:"font-medium",children:t.symbol}),"."]})})})]})})}let or=e=>{let{bridgeTransfer:t,parentChainId:a,childChainId:r,selectedToken:n,walletAddress:s,destinationAddress:i,nativeCurrency:o,amount:l}=e,{transferType:d}=t,c="eth_deposit"===d||"erc20_deposit"===d||"eth_teleport"===d||"erc20_teleport"===d;return{sender:s,destination:null!=i?i:s,direction:c?"deposit-l1":"withdraw",status:c?"pending":N.UNCONFIRMED,createdAt:eG()().valueOf(),resolvedAt:null,txId:t.sourceChainTransaction.hash,asset:n?n.symbol:o.symbol,assetType:n?E.ERC20:E.ETH,value:eW.formatUnits(l,n?n.decimals:o.decimals),depositStatus:c?T.L1_PENDING:void 0,uniqueId:null,isWithdrawal:!c,blockNum:null,tokenAddress:n?n.address:void 0,parentChainId:Number(a),childChainId:Number(r),sourceChainId:c?Number(a):Number(r),destinationChainId:c?Number(r):Number(a)}},on=e=>{let{bridgeTransfer:t,parentChainId:a,childChainId:r,walletAddress:n,selectedToken:s,nativeCurrency:i,destinationAddress:o,amount:l,timestampCreated:d}=e,c=t.sourceChainTransaction;return{sender:n,destination:null!=o?o:n,status:"pending",txID:c.hash,assetName:s?s.symbol:i.symbol,assetType:s?E.ERC20:E.ETH,l1NetworkID:String(a),l2NetworkID:String(r),value:eW.formatUnits(l,s?s.decimals:i.decimals),parentChainId:a,childChainId:r,direction:"deposit",type:"deposit-l1",source:"local_storage_cache",timestampCreated:String(d),nonce:c.nonce}},os=()=>(0,ei.Iv)((0,X.jsxs)(X.Fragment,{children:["Network connection issue. Please contact"," ",(0,X.jsx)(es,{href:eo.sR,className:"underline",children:"support"}),"."]}),{autoClose:!1});function oi(){let{tokenFromSearchParams:e,setTokenQueryParam:t}=rr(),[a,r]=(0,V.useState)("new-token"),[n,s]=(0,V.useState)(R.IDLE),[i,o]=(0,V.useState)(!1),{app:{connectionState:l,selectedToken:d,arbTokenBridgeLoaded:c,arbTokenBridge:{eth:u,token:h},warningTokens:m}}=eB(),{layout:p}=eT(),{isTransferring:f}=p,{address:x,isConnected:b}=(0,J.mA)(),{switchNetworkAsync:C}=i3({isSwitchingNetworkBeforeTx:!0}),y=(0,J.xx)(),[g]=ty(),{childChain:w,childChainProvider:v,parentChain:A,parentChainProvider:j,isDepositMode:N,isTeleportMode:k}=ae(g),I=(0,eY.Z)(g),S=a_({provider:v}),{isEOA:D,isSmartContractWallet:L}=aT(),{data:M}=(0,J.mx)({chainId:A.id}),{data:P}=(0,J.mx)({chainId:w.id}),{openTransactionHistoryPanel:_,setTransferring:O}=eN(),{addPendingTransaction:B}=sL(x),{isArbitrumOne:U,isArbitrumSepolia:G}=(0,ez.CR)(w.id),H=(0,eY.Z)(u),W=(0,eY.Z)(function(){let{chain:e}=(0,J.LN)();if(void 0!==e)return(0,ez.CR)(e.id).isArbitrum}()),Z=(0,eY.Z)(function(){let{chain:e}=(0,J.LN)();if(void 0!==e)return(0,ez.CR)(e.id).isOrbitChain}()),[{amount:Y}]=(0,e$.gw)(),z=iB(),[q]=eC(),[K,Q]=eC(),[$,ee]=eC(),[et,ea]=eC(),[er,es]=eC(),[ed,ec]=eC(),[em,ep]=eC(),{destinationAddress:ef}=aE(),{updateEthParentBalance:ex,updateErc20ParentBalances:eb,updateEthChildBalance:ey}=aL(),[eg,ew]=(0,V.useState)(!1),{transferReady:ev,errorMessage:eA}=function(e){let{amount:t,gasSummary:a}=e,{app:{selectedToken:r}}=eB(),{layout:{isTransferring:n}}=eT(),[s]=ty(),{childChain:i,childChainProvider:o,parentChain:l,isDepositMode:d,isTeleportMode:c}=ae(s),{address:u}=(0,J.mA)(),{isSmartContractWallet:h}=aT(),m=a_({provider:o}),{ethParentBalance:p,erc20ParentBalances:f,ethChildBalance:x,erc20ChildBalances:b}=aL({parentWalletAddress:u,childWalletAddress:u}),{error:C}=aE(),y=p?parseFloat(eW.formatEther(p)):null,g=x?parseFloat(eW.formatEther(x)):null,w=(0,V.useMemo)(()=>{if(!r)return null;let e=null==f?void 0:f[r.address.toLowerCase()];return e?parseFloat(eW.formatUnits(e,r.decimals)):null},[r,f]),v=(0,V.useMemo)(()=>{if(!r)return null;let{isOrbitChain:e}=(0,ez.CR)(i.id),t=(tH(r.address)||tW(r.address))&&!e?r.address.toLowerCase():(r.l2Address||"").toLowerCase(),a=null==b?void 0:b[t];return a?parseFloat(eW.formatUnits(a,r.decimals)):null},[r,i.id,b]),A=(0,V.useMemo)(()=>{if(!m.isCustom)return null;let e=null==f?void 0:f[m.address];return e?parseFloat(eW.formatUnits(e,m.decimals)):null},[m,f]);return(0,V.useMemo)(()=>{if(isNaN(Number(t))||0===Number(t)||n||ia.includes(i.id))return is();if(h&&!r)return is({errorMessage:function(e){let{asset:t}=e;return"".concat(t," transfers using smart contract wallets aren't supported yet.")}({asset:m.symbol})});if(h&&c)return is({errorMessage:it()});if(C)return is();let e=d?y:g,o=d?w:v,u=d?A:g;if(null===e)return is();if(r){let e=an(r.address,i.id),a=ai(r.address,i.id)||c&&!ro(r.address,l.id,i.id);if(d&&e)return is({errorMessage:F.TOKEN_WITHDRAW_ONLY});if(a)return is({errorMessage:F.TOKEN_TRANSFER_DISABLED});if(["0x0e192d382a36de7011f795acc4391cd302003606","0x488cc08935458403a0458e45e20c0159c8ab2c92"].includes(r.address.toLowerCase())||null===o)return is();if(Number(t)>o)return is({errorMessage:s7({asset:r.symbol,chain:s.sourceChain.name})})}else if(m.isCustom){if(null===u)return is();if(Number(t)>u)return is({errorMessage:s7({asset:m.symbol,chain:s.sourceChain.name})})}else if(Number(t)>e)return is({errorMessage:s7({asset:eo.Xx.symbol,chain:s.sourceChain.name})});switch(a.status){case"loading":case"insufficientBalance":return is();case"unavailable":return ir();case"error":return is({errorMessage:F.GAS_ESTIMATION_FAILURE});case"success":{let{estimatedL1GasFees:n,estimatedL2GasFees:i}=function(e,t){let{estimatedParentChainGasFees:a,estimatedChildChainGasFees:r}=e;return void 0===a||void 0===r?{estimatedL1GasFees:0,estimatedL2GasFees:0}:t.isSmartContractWallet?t.isDepositMode?{estimatedL1GasFees:0,estimatedL2GasFees:r}:{estimatedL1GasFees:0,estimatedL2GasFees:0}:{estimatedL1GasFees:a,estimatedL2GasFees:r}}(a,{isSmartContractWallet:h,isDepositMode:d});if(r){if(m.isCustom&&d){if(null===A)return is();if(n>e)return is({errorMessage:ie({asset:eo.Xx.symbol,chain:s.sourceChain.name})});if(i>A)return is({errorMessage:ie({asset:m.symbol,chain:s.sourceChain.name})});return ir()}if(n+i>e)return is({errorMessage:ie({asset:eo.Xx.symbol,chain:s.sourceChain.name})});return ir()}if(m.isCustom&&d){if(n+i>e)return is({errorMessage:ie({asset:eo.Xx.symbol,chain:s.sourceChain.name})});return ir()}if(Number(t)+n+i>e)return is({errorMessage:ie({asset:m.symbol,chain:s.sourceChain.name})});return ir()}}},[t,n,C,h,r,d,y,g,w,v,A,m.isCustom,m.symbol,a,i.id,l.id,s.sourceChain.name,c])}({amount:Y,gasSummary:s3()}),{color:ej}=(0,aR.f)(g.destinationChain.id);!function(e){let{importTokenModalStatus:t,connectionState:a}=e,{openDialog:r}=rb();(0,V.useEffect)(()=>{t===R.IDLE&&(a===en.em.L1_CONNECTED||a===en.em.L2_CONNECTED)&&r()},[a,t,r])}({importTokenModalStatus:n,connectionState:l});let ek=(0,V.useMemo)(()=>{let e=null!==d&&void 0===d.l2Address;return N&&e},[N,d]);async function eE(){if(!d)throw Error("Invalid app state: no selected token");let e=e_();if(e){r(e);let t=Q(),[a]=await t();a&&eV()}else eV()}let eI=(0,V.useMemo)(()=>{try{let e=Y||"0";if(d)return eW.parseUnits(e,d.decimals);return eW.parseUnits(e,S.decimals)}catch(e){return eZ._Y}},[Y,d,S]),eS=async()=>{let e=ep(),[t,a]=await e();return!!t&&("bridged"===a?"bridge-normal-usdce":"bridge-cctp-usd")},eD=async()=>{let e=ec(),[t]=await e();return t},eL=async()=>{ew(!0);let e=ee(),[t]=await e();return t},eM=async()=>{let e=ea(),[t]=await e();return t},eR=async()=>{ew(!1);let e=ee(),[t]=await e();return t},eP=async()=>(await setTimeout(()=>{o(!0)},3e3),!0);function e_(){return ek?"new-token":d&&(null==d?void 0:d.listIds.size)===0&&void 0===d.l2Address?"user-added-token":null}let eO=async()=>{let e=e_();if(e){r(e);let t=Q(),[a]=await t();return a}return!0},eU=async()=>{let e=es(),[t]=await e();return t},eF=()=>setTimeout(()=>{O(!1),o(!0)},3e3),eX=async()=>{if(!d||!x)return;let e=N?M:P;if(!e)throw"Signer is undefined";O(!0);let t=(0,ez.pp)(w.id);if(y!==I.current.sourceChain.id){r5("Switch Network and Transfer",{type:N?"Deposit":"Withdrawal",tokenSymbol:"USDC",assetType:"ERC-20",accountType:L?"Smart Contract":"EOA",network:t,amount:Number(Y),version:2});let e=I.current.sourceChain.id;try{await (null==C?void 0:C(e))}catch(e){eh({error:e,originFunction:"transferCctp switchNetworkAsync"})}}try{var a,r,n;let s;let{sourceChainProvider:i,destinationChainProvider:o,sourceChain:l}=g;if(N){let e=await eS();if(!e)return!1;if("bridge-normal-usdce"===e){await eE();return}}else if(!await eD())return;let d=await aI({destinationAddress:ef,isSmartContractWallet:L,isTeleportMode:k});if(d){console.error(d);return}let c=new rM({sourceChainProvider:i,destinationChainProvider:o});if(await c.requiresTokenApproval({amount:eI,signer:e})){if(!await eL())return!1;L&&eF();try{let t=await c.approveToken({signer:e,amount:eI});await t.wait()}catch(e){if((0,i0.$)(e))return;eh({error:e,originFunction:"cctpTransferStarter.approveToken"}),(0,ei.Jc)("USDC approval transaction failed: ".concat(null!==(a=null==e?void 0:e.message)&&void 0!==a?a:e));return}}try{L&&eF(),s=(await c.transfer({amount:eI,signer:e,destinationAddress:ef})).sourceChainTransaction}catch(e){if((0,i0.$)(e))return;eh({error:e,originFunction:"cctpTransferStarter.transfer"}),(0,ei.Jc)("USDC ".concat(N?"Deposit":"Withdrawal"," transaction failed: ").concat(null!==(r=null==e?void 0:e.message)&&void 0!==r?r:e))}if(L){r5(N?"CCTP Deposit":"CCTP Withdrawal",{accountType:"Smart Contract",network:t,amount:Number(Y),complete:!1,version:2});return}if(!s)return;r5(N?"CCTP Deposit":"CCTP Withdrawal",{accountType:"EOA",network:t,amount:Number(Y),complete:!1,version:2});let u={txId:s.hash,asset:"USDC",assetType:E.ERC20,blockNum:null,createdAt:eG()().valueOf(),direction:N?"deposit":"withdraw",isWithdrawal:!N,resolvedAt:null,status:"pending",uniqueId:null,value:Y,depositStatus:T.CCTP_DEFAULT_STATE,destination:null!=ef?ef:x,sender:x,isCctp:!0,tokenAddress:(n=l.id,sR(n).USDC),cctpData:{sourceChainId:l.id,attestationHash:null,messageBytes:null,receiveMessageTransactionHash:null,receiveMessageTimestamp:null},parentChainId:A.id,childChainId:w.id,sourceChainId:g.sourceChain.id,destinationChainId:g.destinationChain.id};B(u),_(),O(!1),z("")}catch(e){}finally{O(!1),ew(!1)}},eV=async()=>{let e="Signer is undefined";try{O(!0),y!==g.sourceChain.id&&await (null==C?void 0:C(g.sourceChain.id))}finally{O(!1)}if(!b||!x)return;let t=M&&P;if(D&&!t)throw e;let a=await aI({destinationAddress:ef,isSmartContractWallet:L,isTeleportMode:k});if(a){console.error(a);return}if(L&&!d){console.error("ETH transfers aren't enabled for smart contract wallets.");return}if(L&&k){console.error(it());return}let r=(0,ez.pp)(w.id);O(!0);try{if(N&&!M||!N&&!P)throw e;let t=d&&m[d.address.toLowerCase()];if(t){let e=ra(t.type);(0,ei.Iv)("".concat(null==d?void 0:d.address," is ").concat(e,"; it will likely have unusual behavior when deployed as as standard token to Arbitrum. It is not recommended that you deploy it. (See ").concat(eo.Gc,"/for-devs/concepts/token-bridge/token-bridge-erc20 for more info.)"));return}let a=()=>{let e=(0,ez.CR)(A.id).isEthereumMainnetOrTestnet;return N&&(e&&W.current||Z.current)},n=()=>{let e=!W.current&&!Z.current,{isOrbitChain:t}=(0,ez.CR)(w.id);return!N&&(e||W.current&&t)};if(a()||n()){r5("Switch Network and Transfer",{type:k?"Teleport":N?"Deposit":"Withdrawal",tokenSymbol:null==d?void 0:d.symbol,assetType:d?"ERC-20":"ETH",accountType:L?"Smart Contract":"EOA",network:r,amount:Number(Y),version:2});let e=I.current.sourceChain.id;for(await (null==C?void 0:C(e));a()||n()||!H.current||!c;)await new Promise(e=>setTimeout(e,100));await new Promise(e=>setTimeout(e,3e3))}let s=I.current.sourceChain.id,i=I.current.destinationChain.id,o=g.sourceChain.id,l=s===o,u=N&&(!l||Z.current),h=!N&&!l;if(u||h)return os();let p=N?null==d?void 0:d.address:null==d?void 0:d.l2Address,f=N?null==d?void 0:d.l2Address:null==d?void 0:d.address,x=N?M:P,b=await rK.create({sourceChainId:s,sourceChainErc20Address:p,destinationChainId:i,destinationChainErc20Address:f}),{isNativeCurrencyTransfer:y,isWithdrawal:T}=th({sourceChainId:s,sourceChainErc20Address:p,destinationChainId:i});if(!x)throw Error("Signer not connected!");if(T&&d&&!p)throw Error("Source chain token address not found for ERC-20 withdrawal.");if(y&&L){console.error("ETH transfers aren't enabled for smart contract wallets.");return}let E=await aI({destinationAddress:ef,isSmartContractWallet:L,isTeleportMode:k});if(E){console.error(E);return}if(await b.requiresNativeCurrencyApproval({signer:x,amount:eI})){if(!await eM())return!1;let e=await b.approveNativeCurrency({signer:x,amount:eI});e&&await e.wait()}if(d){d.address||Error("Token not deployed on source chain.");let e=d&&m[d.address.toLowerCase()];if(e){let t=ra(e.type);(0,ei.Iv)("".concat(null==d?void 0:d.address," is ").concat(t,"; it will likely have unusual behavior when deployed as as standard token to Arbitrum. It is not recommended that you deploy it. (See ").concat(eo.Gc,"/for-devs/concepts/token-bridge/token-bridge-erc20 for more info.)"));return}if(!await tX({erc20ParentChainAddress:d.address,parentChainProvider:j,childChainProvider:v})){(0,ei.Iv)("Depositing is currently suspended for this token as a new gateway is being registered. Please try again later and contact support if this issue persists.");return}if(!await eO())throw Error("User declined bridging the token for the first time")}if(T&&!L&&!await eU())return!1;if(d&&await b.requiresTokenApproval({amount:eI,signer:x,destinationAddress:ef})){if(!await eR())return!1;L&&T&&eP();let e=await b.approveToken({signer:x,amount:eI});e&&await e.wait()}L&&(eP(),r5(k?"Teleport":N?"Deposit":"Withdraw",{tokenSymbol:null==d?void 0:d.symbol,assetType:"ERC-20",accountType:"Smart Contract",network:r,amount:Number(Y)}));let S=await b.transfer({amount:eI,signer:x,destinationAddress:ef});eq(S)}catch(e){eh({error:e,originFunction:"bridgeTransferStarter.transfer",additionalData:d?{erc20_address_on_parent_chain:d.address,transfer_type:"token"}:{transfer_type:"native currency"}})}finally{O(!1)}},eq=async e=>{if(!x)return;L||r5(k?"Teleport":N?"Deposit":"Withdraw",{tokenSymbol:null==d?void 0:d.symbol,assetType:d?"ERC-20":"ETH",accountType:"EOA",network:(0,ez.pp)(w.id),amount:Number(Y)});let{sourceChainTransaction:t}=e,a=Math.floor(Date.now()/1e3).toString();B(or({bridgeTransfer:e,parentChainId:A.id,childChainId:w.id,selectedToken:d,walletAddress:x,destinationAddress:ef,nativeCurrency:S,amount:eI,timestampCreated:a})),N&&function(e){if("deposit"!==e.direction)return;let t=sh(e.sender.toLowerCase());if(t.find(t=>sd({...t,txId:t.txID},{...e,txId:e.txID})))return;let a=[e,...t];localStorage.setItem("".concat(st,"-").concat(e.sender.toLowerCase()),JSON.stringify(a))}(on({bridgeTransfer:e,parentChainId:A.id,childChainId:w.id,selectedToken:d,walletAddress:x,destinationAddress:ef,nativeCurrency:S,amount:eI,timestampCreated:a})),_(),O(!1),z(""),await t.wait(),await Promise.all([ex(),ey()]),d&&h.updateTokenData(d.address),S.isCustom&&await eb([S.address])},eJ=(0,V.useMemo)(()=>{if(!d||k)return!1;if(N){if(tB(d.address)&&U||tF(d.address)&&G)return!0}else if(tH(d.address)&&U||tW(d.address)&&G)return!0;return!1},[U,G,N,d]);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(rQ,{...$,token:d,isCctp:eg}),S.isCustom&&(0,X.jsx)(oa,{...et,customFeeToken:S}),(0,X.jsx)(s$,{...er,amount:Y}),(0,X.jsx)(ot,{...ed,amount:Y}),(0,X.jsx)(i9,{...em,amount:Y}),(0,X.jsxs)("div",{className:(0,el.m6)("mb-7 flex flex-col border-y border-white/30 bg-gray-1 p-4 shadow-[0px_4px_20px_rgba(0,0,0,0.2)]","sm:rounded sm:border"),children:[(0,X.jsx)(i$,{amount:Y,errorMessage:eA}),(0,X.jsx)(aD,{}),(0,X.jsx)(id,{amount:parseFloat(Y),token:d}),(0,X.jsx)("div",{className:"transfer-panel-stats",children:N?(0,X.jsx)(eu,{variant:"primary",loading:f,disabled:!ev.deposit,onClick:()=>{eJ?eX():d?eE():eV()},style:{borderColor:ej,backgroundColor:"".concat(ej,"66")},className:(0,el.m6)("w-full border bg-eth-dark py-3 text-lg","disabled:!border-white/10 disabled:!bg-white/10","lg:text-2xl"),children:L&&f?"Sending request...":"Move funds to ".concat((0,ez.pp)(g.destinationChain.id))}):(0,X.jsx)(eu,{variant:"primary",loading:f,disabled:!ev.withdrawal,onClick:()=>{eJ?eX():eV()},style:{borderColor:ej,backgroundColor:"".concat(ej,"66")},className:(0,el.m6)("w-full border py-3 text-lg","disabled:!border-white/10 disabled:!bg-white/10","lg:text-2xl"),children:L&&f?"Sending request...":"Move funds to ".concat((0,ez.pp)(g.destinationChain.id))})}),void 0!==e&&(0,X.jsx)(rC,{...q,onClose:function(){t(void 0),s(R.CLOSED),q.onClose(!1)},tokenAddress:e}),(0,X.jsx)(tg,{...K,type:a,symbol:d?d.symbol:S.symbol}),i&&(0,X.jsx)(eH.ZP,{placement:"bottom-end",maxWidth:"auto",onClickOutside:()=>o(!1),theme:"orange",visible:i,content:(0,X.jsxs)("div",{className:"flex flex-col",children:[(0,X.jsx)("span",{children:(0,X.jsx)("b",{children:"To continue, please approve tx on your smart contract wallet."})}),(0,X.jsx)("span",{children:"If you have k of n signers, then k of n will need to sign."})]}),children:(0,X.jsx)("div",{className:"!m-0"})})]})]})}let oo=e=>{let{isOpen:t,heading:a,onClose:r,children:n,panelClassNameOverrides:s="",scrollable:i=!0}=e,[o,l]=(0,V.useState)(!1),[d,c]=(0,V.useState)(!1);(0,V.useEffect)(()=>{l(t)},[t]);let u=(0,V.useCallback)(()=>{c(!0)},[c]),h=(0,V.useCallback)(()=>{null==r||r(),setTimeout(()=>{c(!1)},0)},[r,c]);return(0,X.jsx)(ef.u,{show:o&&!d,as:V.Fragment,children:(0,X.jsxs)(ex.V,{open:o,onClose:u,className:"fixed z-40 h-screen max-h-screen",children:[(0,X.jsx)(ef.u.Child,{as:V.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-80",leave:"ease-in duration-200",leaveFrom:"opacity-80",leaveTo:"opacity-0",children:(0,X.jsx)("div",{className:"fixed inset-0 bg-dark","aria-hidden":"true"})}),(0,X.jsx)("div",{className:"fixed inset-0 right-0 top-0 flex h-full w-full items-start justify-end",children:(0,X.jsx)(ef.u.Child,{as:V.Fragment,enter:"ease-out duration-200",enterFrom:"translate-x-full",enterTo:"translate-x-0",leave:"ease-in duration-200",leaveFrom:"translate-x-0",leaveTo:"translate-x-full",afterLeave:h,children:(0,X.jsxs)(ex.V.Panel,{className:(0,el.m6)("side-panel flex h-full w-screen max-w-[1000px] flex-col border-l border-gray-dark bg-black",s,i&&"overflow-y-auto"),children:[(0,X.jsxs)(ex.V.Title,{className:(0,el.m6)("sticky top-0 z-50 mx-4 flex flex-row justify-between bg-black pt-4 text-white",!a&&"pb-4"),children:[a&&(0,X.jsx)("span",{className:"text-2xl",children:a}),(0,X.jsx)("button",{className:"arb-hover",onClick:u,"aria-label":"Close side panel",children:(0,X.jsx)(eb.Z,{className:(0,el.m6)("h-5 w-5 text-white",!a&&"ml-2")})})]}),(0,X.jsx)("div",{className:(0,el.m6)("side-panel-content z-40 h-full px-4 pb-4",a&&"p-4"),children:n})]})})})]})})};var ol=a(11700);let od={tps:null},oc=async e=>{if(!((0,ez.CR)(Number(e)).isArbitrumNova||(0,ez.CR)(Number(e)).isArbitrumOne))return od;let t=(0,ez.jY)(Number(e)),a="https://corsproxy.io/?".concat(encodeURIComponent(t)),r=(await ee.Z.get(a)).data,n=(0,ol.zD)(r)('span[title="Transactions per Second - Adjusted for Arbitrum Nitro system txs"]'),s=((null==n?void 0:n.text())||"").trim().replace(/[()]/g,"").split(" ")[0];return{tps:isNaN(Number(s))?null:Number(s)}},ou=()=>{let[e]=ty(),{childChain:t}=ae(e);return(0,aC.ZP)(["tps",t.id],e=>{let[,t]=e;return oc(t)},{refreshInterval:3e4,shouldRetryOnError:!1})},oh="arbitrum:bridge:preferences:stats",om=e=>e<20?{className:"text-green-300"}:e<40?{className:"text-orange-arbitrum-nova"}:{className:"text-red-400"},op=e=>e<.5?{className:"text-green-300"}:e<2?{className:"text-orange-arbitrum-nova"}:{className:"text-red-400"},of=()=>{let[,e]=(0,er._)(oh),[{settingsOpen:t}]=(0,e$.gw)(),[a]=ty(),{childChain:r,childChainProvider:n,parentChain:s,parentChainProvider:i}=ae(a),{data:o}=(0,J.Ov)({chainId:s.id,watch:!0}),{data:l}=(0,J.Ov)({chainId:r.id,watch:!0}),{data:d,isValidating:c}=ou(),u=rv({provider:i}),h=eW.formatUnits(u,"gwei"),m=om(Number(h||0)),p=rv({provider:n}),f=eW.formatUnits(p,"gwei"),x=op(Number(f||0));return(0,X.jsxs)("div",{className:"fixed bottom-0 right-0 m-4 flex flex-col gap-2 whitespace-nowrap rounded border border-gray-dark bg-dark py-2 pl-3 pr-7 font-[monospace] text-xs text-gray-3 opacity-90",children:[(0,X.jsxs)("div",{className:"section flex flex-col",children:[(0,X.jsxs)("span",{className:"text-md flex items-center text-white",children:[(0,X.jsx)("span",{className:"mr-1 animate-pulse text-lg text-green-300",children:"•"})," ",(0,X.jsx)(am(),{height:10,width:10,src:(0,aR.f)(s.id).network.logo,alt:"Parent chain logo",className:"mr-1"}),(0,ez.pp)(s.id)]}),(0,X.jsxs)("span",{children:["Block: ",o||"Loading..."]}),(0,X.jsxs)("span",{children:["Gas price:"," ",(0,X.jsxs)("span",{className:"".concat(m.className),children:[" ",Number(h).toFixed(2)," Gwei"," "]})]})]}),(0,X.jsxs)("div",{className:"section flex flex-col",children:[(0,X.jsxs)("span",{className:"text-md flex items-center text-white",children:[(0,X.jsx)("span",{className:"mr-1 animate-pulse text-lg text-green-300",children:"•"})," ",(0,X.jsx)(am(),{height:10,width:10,src:(0,aR.f)(r.id).network.logo,alt:"Parent chain logo",className:"mr-1"}),(0,ez.pp)(r.id)]}),(0,X.jsxs)("span",{children:["Block: ",l||"Loading..."]}),(0,X.jsxs)("span",{children:["Gas price:"," ",(0,X.jsxs)("span",{className:"".concat(x.className),children:[" ",Number(f).toFixed(2)," Gwei"," "]})]}),!(0,ez.CR)(r.id).isTestnet&&(0,X.jsxs)("span",{children:["TPS: ",c&&(0,X.jsx)("span",{children:"Loading..."}),!c&&(0,X.jsx)("span",{children:(null==d?void 0:d.tps)?"".concat(d.tps," TPS"):"-"})]})]}),!t&&(0,X.jsx)("button",{className:"arb-hover absolute right-3 top-3 cursor-pointer",onClick:()=>{e(!1)},children:(0,X.jsx)(eb.Z,{height:16})})]})};var ox=a(3061),ob=a(51906),oC=a(30195),oy=a(96967);let og="arbitrum:orbit:configs",ow=oC.z.string().refine(e=>(0,au.isAddress)(e),"Invalid address"),ov=oC.z.number().int().positive().refine(e=>!Object.values(ez.a_).includes(e),"Invalid custom Orbit chain ID").refine(e=>!(0,ez.LD)(e),"Custom chain already added"),oA=oC.z.number().int().positive().refine(e=>ez.OS.includes(e),"Unsupported parent chain ID"),oj=oC.z.object({customGateway:ow,multicall:ow,proxyAdmin:ow,router:ow,standardGateway:ow,weth:ow,wethGateway:ow}),oT=oC.z.object({chainInfo:oC.z.object({minL2BaseFee:oC.z.number().nonnegative().int(),networkFeeReceiver:ow,infrastructureFeeCollector:ow,batchPoster:ow,staker:ow,chainOwner:ow,chainName:oC.z.string(),chainId:ov,parentChainId:oA,rpcUrl:oC.z.string().url(),explorerUrl:oC.z.string().url(),nativeToken:ow.optional()}),coreContracts:oC.z.object({rollup:ow,inbox:ow,outbox:ow,adminProxy:ow,sequencerInbox:ow,bridge:ow,utils:ow,validatorWalletCreator:ow}),tokenBridgeContracts:oC.z.object({l2Contracts:oj,l3Contracts:oj})});function oN(){let e=localStorage.getItem(og);return e?JSON.parse(e):[]}async function ok(e){var t;let a=oy.RollupAdminLogic__factory.connect(e.coreContracts.rollup,tx(e.chainInfo.parentChainId)),r=null!==(t=(await a.confirmPeriodBlocks()).toNumber())&&void 0!==t?t:150,{isTestnet:n}=(0,ez.CR)(e.chainInfo.parentChainId);return{chainId:e.chainInfo.chainId,confirmPeriodBlocks:r,ethBridge:{bridge:e.coreContracts.bridge,inbox:e.coreContracts.inbox,outbox:e.coreContracts.outbox,rollup:e.coreContracts.rollup,sequencerInbox:e.coreContracts.sequencerInbox},rpcUrl:e.chainInfo.rpcUrl,explorerUrl:e.chainInfo.explorerUrl,isCustom:!0,isTestnet:n,name:e.chainInfo.chainName,parentChainId:e.chainInfo.parentChainId,retryableLifetimeSeconds:604800,nativeToken:e.chainInfo.nativeToken,tokenBridge:{parentCustomGateway:e.tokenBridgeContracts.l2Contracts.customGateway,parentErc20Gateway:e.tokenBridgeContracts.l2Contracts.standardGateway,parentGatewayRouter:e.tokenBridgeContracts.l2Contracts.router,parentMultiCall:e.tokenBridgeContracts.l2Contracts.multicall,parentProxyAdmin:e.tokenBridgeContracts.l2Contracts.proxyAdmin,parentWeth:e.tokenBridgeContracts.l2Contracts.weth,parentWethGateway:e.tokenBridgeContracts.l2Contracts.wethGateway,childCustomGateway:e.tokenBridgeContracts.l3Contracts.customGateway,childErc20Gateway:e.tokenBridgeContracts.l3Contracts.standardGateway,childGatewayRouter:e.tokenBridgeContracts.l3Contracts.router,childMultiCall:e.tokenBridgeContracts.l3Contracts.multicall,childProxyAdmin:e.tokenBridgeContracts.l3Contracts.proxyAdmin,childWeth:e.tokenBridgeContracts.l3Contracts.weth,childWethGateway:e.tokenBridgeContracts.l3Contracts.wethGateway}}}async function oE(e){let t=e.chainInfo.nativeToken;if(void 0===t||t===ob.d)return{nativeToken:void 0,nativeTokenData:void 0};let a=await tE({address:t,provider:new e3.c(ez.Cl[e.chainInfo.parentChainId])});return{nativeToken:t,nativeTokenData:a}}let oI=()=>{let[e,t]=(0,V.useState)(""),[a,r]=(0,V.useState)(null),[n,s]=(0,V.useState)(!1),i=(0,ez.ud)();async function o(){s(!0),r(null);try{let t=JSON.parse(e.trim().replace(/[\r\n]+/g,""));if(!t)throw Error("JSON input is empty.");oT.parse(t);let a=await ok(t),r=await oE(t);(0,e6.registerCustomArbitrumNetwork)(a),(0,ez.Ab)({...a,...r}),function(e){let t=oN();localStorage.setItem(og,JSON.stringify([...t,e]))}(t),location.reload()}catch(e){var t;r(null!==(t=e.message)&&void 0!==t?t:"Something went wrong."),s(!1)}}return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)("textarea",{onChange:e=>t(e.target.value),placeholder:"Paste the JSON configuration from the 'outputInfo.json' file that's generated at the end of the custom Orbit chain deployment.",className:"min-h-[154px] w-full rounded border border-gray-dark bg-dark p-4 text-sm font-light text-white placeholder:text-white/70"}),a&&(0,X.jsx)("div",{className:"relative",children:(0,X.jsxs)("pre",{className:"scroll mb-2 max-h-[400px] overflow-auto rounded border border-gray-dark bg-dark p-4 text-sm text-error",children:[(0,X.jsx)("button",{onClick:()=>r(null),className:"arb-hover absolute right-4 top-4 text-white",children:(0,X.jsx)(eb.Z,{width:20})}),a]})}),(0,X.jsx)("div",{className:"flex w-full justify-end",children:n?(0,X.jsx)(ec.a,{size:"small",color:"white"}):(0,X.jsx)(eu,{variant:"secondary",onClick:o,disabled:!e.trim(),children:"Add Chain"})}),i.length>0&&!n&&(0,X.jsxs)("div",{className:"mt-4",children:[(0,X.jsx)("div",{className:"heading mb-4 text-lg",children:"Live Orbit Chains"}),(0,X.jsxs)("table",{className:"w-full text-left",children:[(0,X.jsx)("thead",{className:"border-b border-gray-dark",children:(0,X.jsxs)("tr",{children:[(0,X.jsx)("th",{className:"pb-1 text-xs font-normal",children:"ORBIT CHAIN"}),(0,X.jsx)("th",{className:"pb-1 text-xs font-normal",children:"ORBIT CHAIN ID"}),(0,X.jsx)("th",{className:"pb-1 text-xs font-normal",children:"PARENT CHAIN"}),(0,X.jsx)("th",{className:"pb-1 text-xs font-normal",children:"PARENT CHAIN ID"}),(0,X.jsx)("th",{className:"pb-1 text-xs font-normal"})]})}),(0,X.jsx)("tbody",{children:i.map(e=>{var t;return(0,X.jsxs)("tr",{className:"border-b border-gray-dark",children:[(0,X.jsx)("th",{className:"max-w-[100px] truncate py-3 text-sm font-normal",children:e.name}),(0,X.jsx)("th",{className:"py-3 text-sm font-normal",children:e.chainId}),(0,X.jsx)("th",{className:"py-3 text-sm font-normal",children:(0,ez.pp)(e.parentChainId)}),(0,X.jsx)("th",{className:"py-3 text-sm font-normal",children:e.parentChainId}),(0,X.jsx)("th",{className:"py-3",children:(0,X.jsxs)(iT.J,{className:"relative",children:[(0,X.jsx)(iT.J.Button,{className:"arb-hover",children:(0,X.jsx)(ox.Z,{width:20})}),(0,X.jsx)(ak,{children:(0,X.jsxs)(iT.J.Panel,{className:"absolute bottom-6 right-0 flex w-[240px] flex-col rounded border border-gray-dark bg-dark text-sm font-normal text-white",children:[(0,X.jsx)("button",{className:"rounded-t p-4 text-left transition duration-300 hover:bg-[#333333]",onClick:()=>{(0,ez.dQ)(e.chainId),function(e){let t=oN().filter(t=>t.chainInfo.chainId!==e);localStorage.setItem(og,JSON.stringify(t))}(e.chainId),location.reload()},children:"Delete this chain"}),(0,X.jsx)("a",{className:"rounded-b p-4 text-left transition duration-300 hover:bg-[#333333]",href:"data:text/json;charset=utf-8,".concat(encodeURIComponent(JSON.stringify((t=e.chainId,oN().find(e=>e.chainInfo.chainId===t))))),download:"".concat(e.name.split(" ").join(""),".json"),children:"Download config for this chain"})]})})]})})]},e.chainId)})})]})]})]})},oS=e=>{let{className:t,children:a}=e;return(0,X.jsx)("div",{className:(0,el.m6)("heading mb-4 text-lg",t),children:a})},oD=()=>{let[e]=sy(),[{settingsOpen:t},a]=(0,e$.gw)(),[r,n]=(0,r2.ZP)(oh);return(0,X.jsx)(oo,{isOpen:t,heading:"Settings",onClose:function(){a({settingsOpen:!1})},panelClassNameOverrides:"lg:!w-[644px] !min-w-[350px]",children:(0,X.jsxs)("div",{className:"flex w-full flex-col items-center gap-6 text-white",children:[(0,X.jsxs)("div",{className:"w-full",children:[(0,X.jsx)(oS,{children:"Stats"}),(0,X.jsx)(rs,{label:"Show Network Stats",description:"Live, nerdy stats about Ethereum and Arbitrum chains, like block number and current gas price.",checked:!!r,onChange:r?()=>{n(!1)}:()=>{n(!0)}})]}),(0,X.jsxs)("div",{className:"w-full",children:[(0,X.jsx)(oS,{children:"Developer Mode"}),(0,X.jsx)(ik,{label:"Turn on testnet mode",description:"Show testnet networks and enable other testnet features."})]}),(0,X.jsxs)("div",{className:(0,el.m6)("w-full transition-opacity",!e&&"pointer-events-none opacity-20"),children:[(0,X.jsx)(oS,{className:"mb-1",children:"Add Testnet Orbit Chain"}),(0,X.jsxs)("p",{className:"mb-4 text-sm",children:["Add in your own Orbit Testnet to the bridge. This will only be for local testing.",(0,X.jsx)("br",{}),"Learn more about how to create and add your Orbit Testnet in"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:eo.cC,children:"Arbitrum Orbit Quickstart"}),"."]}),(0,X.jsx)(oI,{})]})]})})};var oL=a(82772),oM=a(46319),oR=a(55049);function oP(){return(0,X.jsxs)(oM.p,{as:"div",className:"mt-4 flex w-full flex-col justify-start gap-1 rounded border border-orange-dark bg-orange p-3 text-sm text-orange-dark",children:[(0,X.jsxs)(oM.p.Button,{className:"flex items-center text-left",children:[(0,X.jsxs)("div",{className:"flex items-start gap-1",children:[(0,X.jsx)(eX.Z,{className:"mt-[2px] h-3 w-3 shrink-0 stroke-orange-dark"}),(0,X.jsx)("p",{children:"Deposit might fail if the gas fee provided was too low. Stay on this page until the transaction succeeds."})]}),(0,X.jsx)(oR.Z,{className:"ml-auto h-3 w-3 shrink-0 ui-open:rotate-90 ui-open:transform"})]}),(0,X.jsxs)(oM.p.Panel,{className:"flex flex-col gap-2 pl-4",children:[(0,X.jsxs)("p",{children:["If you must leave, check back ",(0,X.jsx)("strong",{children:"within a week"}),". In most cases, your deposits should go through successfully.",(0,X.jsx)("br",{}),"However, if it failed, re-execute ",(0,X.jsx)("strong",{children:"within a week"})," from the time of the initial transaction, or else"," ",(0,X.jsx)("strong",{children:"your funds could be lost forever!"})]}),(0,X.jsxs)("p",{children:["Learn more about"," ",(0,X.jsx)(es,{href:"".concat(eo.Gc,"/arbos/l1-to-l2-messaging"),className:"arb-hover text-blue-link underline",children:"retryable tickets"}),", the mechanism behind deposits."]})]})]})}function o_(e){let{tx:t,firstLegOnly:a,textAfterTime:r=""}=e,{isTestnet:n}=(0,ez.CR)(t.sourceChainId),{estimatedMinutesLeft:s}=sz(t);if(null===s)return(0,X.jsx)("span",{children:"Calculating..."});let i=nm(t);if(i&&a&&(s-=sq(n)),!t.isWithdrawal&&!t.isCctp&&!i){let e=t.depositStatus;if(!e||![T.L1_PENDING,T.L2_PENDING].includes(e))return null}return(0,X.jsxs)("span",{className:"whitespace-nowrap",children:[sQ(s)," ",r]})}let oO=async e=>{let t=await e.redeem({gasLimit:4e7});if(await t.wait(),await e.status()!==e6.ParentToChildMessageStatus.REDEEMED)throw console.error("Redemption failed; status is not REDEEMED",t),Error("Redemption failed; status is not REDEEMED. Please try again later.");let a=await e.getSuccessfulRedeem();if(a.status!==e6.ParentToChildMessageStatus.REDEEMED)throw Error("Unexpected status for retryable ticket (creation id ".concat(e.retryableCreationId,"), expected ").concat(e6.ParentToChildMessageStatus.REDEEMED," but got ").concat(a.status));return a},oB=async e=>{var t,a;let{tx:r,signer:n,txUpdateCallback:s}=e,i=r;if(nv(r)){let e=await nw({parentChainTxHash:r.txId,retryableCreationId:null===(t=r.l1ToL2MsgData)||void 0===t?void 0:t.retryableCreationTxID,parentChainProvider:tx(r.parentChainId),childChainSigner:n});await oO(e),i=await sb(r),await (null==s?void 0:s(i))}if(nA(i)){let e=await nw({parentChainTxHash:r.txId,retryableCreationId:null==i?void 0:null===(a=i.l2ToL3MsgData)||void 0===a?void 0:a.l2ForwarderRetryableTxID,parentChainProvider:tx(r.parentChainId),childChainSigner:n});await oO(e);let t=await sb(i);await (null==s?void 0:s(t))}},oU=async e=>{var t,a;let{tx:r,signer:n,txUpdateCallback:s}=e;if(nT(r)&&(null===(t=r.l1ToL2MsgData)||void 0===t?void 0:t.childTxId)&&r.l2ToL3MsgData){let e=await nw({parentChainTxHash:r.l1ToL2MsgData.childTxId,retryableCreationId:null===(a=r.l2ToL3MsgData)||void 0===a?void 0:a.retryableCreationTxID,parentChainProvider:tx(r.l2ToL3MsgData.l2ChainId),childChainSigner:n}),t=await oO(e),i={...r.l2ToL3MsgData,l3TxID:t.childTxReceipt.transactionHash,status:e6.ParentToChildMessageStatus.REDEEMED,retryableCreationTxID:e.retryableCreationId},o=await sb({...r,l2ToL3MsgData:i,depositStatus:T.L2_SUCCESS,resolvedAt:eG()().valueOf()});await (null==s?void 0:s(o))}};function oF(e){var t;let{tx:a,isError:r,type:n,address:s}=e,{chain:i}=(0,J.LN)(),{switchNetworkAsync:o}=i3(),l=(0,ez.pp)(null!==(t=null==i?void 0:i.id)&&void 0!==t?t:0),d=tY(a.asset,{erc20L1Address:a.tokenAddress,chainId:a.sourceChainId}),{claim:c,isClaiming:u}=function(e){let{app:{arbTokenBridge:t}}=eB(),{address:a}=(0,J.mA)(),{data:r}=(0,J.mx)({chainId:e.parentChainId}),{updatePendingTransaction:n}=sL(a),[s,i]=(0,V.useState)(!1);return{claim:(0,V.useCallback)(async()=>{var a,o;let l,d;if(s||!e.isWithdrawal||e.isCctp)return;if(null===e.uniqueId)return(0,ei.Jc)("Can't find withdrawal transaction.");i(!0);let c=tx(e.childChainId),u=await c.getTransactionReceipt(e.txId),[h]=new e6.ChildTransactionReceipt(u).getChildToParentEvents();if(!h){i(!1),(0,ei.Jc)("Can't claim withdrawal: event not found.");return}let{symbol:m,decimals:p}=e.assetType===E.ERC20?await tE({address:e.tokenAddress,provider:tx(e.parentChainId)}):await aO({provider:c}),f={...h,sender:e.sender,destinationAddress:e.destination,l2TxHash:e.txId,type:e.assetType,value:eW.parseEther(null!==(a=e.value)&&void 0!==a?a:"0"),tokenAddress:e.tokenAddress||void 0,outgoingMessageState:1,symbol:m,decimals:p,nodeBlockDeadline:e.nodeBlockDeadline,parentChainId:e.parentChainId,childChainId:e.childChainId};try{if(!r)throw"Signer is undefined";l=e.assetType===E.ETH?await t.eth.triggerOutbox({event:f,l1Signer:r}):await t.token.triggerOutbox({event:f,l1Signer:r})}catch(e){d=e}finally{i(!1)}if((0,i0.$)(d))return;eh({error:d,originFunction:"useClaimWithdrawal claim"}),l||(0,ei.Jc)("Can't claim withdrawal: ".concat(null!==(o=null==d?void 0:d.message)&&void 0!==o?o:d));let x=1===l.status,b=l.transactionHash;await n({...e,status:x?N.EXECUTED:N.FAILURE,resolvedAt:x?eG()().valueOf():null}),x&&function(e,t){var a;let r="".concat(e.parentChainId,"-").concat(e.childChainId,"-").concat(e.txId),n=JSON.parse(null!==(a=localStorage.getItem(se))&&void 0!==a?a:"{}");r in n||localStorage.setItem(se,JSON.stringify({...n,[r]:{txId:t,timestamp:eG()().valueOf()}}))}(e,b)},[t.eth,t.token,s,r,e,n]),isClaiming:s}}(a),{claim:h,isClaiming:m}=function(e){var t;let{address:a}=(0,J.mA)(),{updatePendingTransaction:r}=sL(a),[n,s]=(0,V.useState)(!1),{waitForAttestation:i,receiveMessage:o}=rD({sourceChainId:null===(t=e.cctpData)||void 0===t?void 0:t.sourceChainId}),{isSmartContractWallet:l}=aT(),{data:d}=(0,J.mx)({chainId:e.destinationChainId});return{isClaiming:n,claim:(0,V.useCallback)(async()=>{var t,a;if((null===(t=e.cctpData)||void 0===t?void 0:t.attestationHash)&&e.cctpData.messageBytes&&d){s(!0);try{let t=await i(e.cctpData.attestationHash),n=await o({attestation:t,messageBytes:e.cctpData.messageBytes,signer:d}),s=await n.wait(),c=1===s.status?nP(az.O$.from(Date.now()).toString()):null;await r({...e,resolvedAt:c,depositStatus:e.isWithdrawal?void 0:T.L2_SUCCESS,status:N.EXECUTED,cctpData:{...e.cctpData,receiveMessageTimestamp:c,receiveMessageTransactionHash:1===s.status?s.transactionHash:null}});let u=(null===(a=e.cctpData)||void 0===a?void 0:a.sourceChainId)?({[ez.a_.Ethereum]:ez.a_.ArbitrumOne,[ez.a_.Sepolia]:ez.a_.ArbitrumSepolia,[ez.a_.ArbitrumOne]:ez.a_.Ethereum,[ez.a_.ArbitrumSepolia]:ez.a_.Sepolia})[e.cctpData.sourceChainId]:ez.a_.Ethereum,h=(0,ez.pp)(u),{isEthereumMainnetOrTestnet:m}=(0,ez.CR)(u);if(r5(m?"CCTP Withdrawal":"CCTP Deposit",{accountType:l?"Smart Contract":"EOA",network:h,amount:Number(e.value),complete:!0}),0===s.status)throw Error("Transaction failed")}catch(e){throw eh({error:e,originFunction:"useClaimCctp claim"}),e}finally{s(!1)}}},[l,o,d,e,r,i])}}(a),{redeem:p,isRedeeming:f}=function(e,t){let{data:a}=(0,J.mx)({chainId:e.destinationChainId}),{updatePendingTransaction:r}=sL(t),n=(0,ez.pp)(e.destinationChainId),[s,i]=(0,V.useState)(!1);return{redeem:(0,V.useCallback)(async()=>{if(!s)try{var t;if(i(!0),!a)throw"Signer is undefined";let s=await nw({parentChainTxHash:e.txId,retryableCreationId:null===(t=e.parentToChildMsgData)||void 0===t?void 0:t.retryableCreationTxID,parentChainProvider:tx(e.parentChainId),childChainSigner:a}),o=await s.redeem();await o.wait();let l=await s.status(),d=l===e6.ParentToChildMessageStatus.REDEEMED,c=await s.getSuccessfulRedeem();if(c.status!==e6.ParentToChildMessageStatus.REDEEMED)throw Error("Unexpected status for retryable ticket (parent tx hash ".concat(e.txId,"), expected ").concat(e6.ParentToChildMessageStatus.REDEEMED," but got ").concat(c.status));await r({...e,parentToChildMsgData:{childTxId:c.childTxReceipt.transactionHash,status:l,retryableCreationTxID:s.retryableCreationId,fetchingUpdate:!1},resolvedAt:d?eG()().valueOf():null,depositStatus:d?T.L2_SUCCESS:e.depositStatus}),r5("Redeem Retryable",{network:n})}catch(e){if((0,i0.$)(e))return;return(0,ei.Jc)("There was an error, here is more information: ".concat(e.message))}finally{i(!1)}},[s,n,a,e,r]),isRedeeming:s}}(a,s),{redeem:x,isRedeeming:b}=function(e,t){let a=nN(e),{data:r}=(0,J.mx)({chainId:a}),{updatePendingTransaction:n}=sL(t),s=(0,ez.pp)(a),[i,o]=(0,V.useState)(!1);return{redeem:(0,V.useCallback)(async()=>{if(!i){if(!tt(e)||!nm(e))throw Error("The transaction being redeemed is not a LayerLeap transaction.");try{if(o(!0),!r)throw"Signer is undefined";if(!nj(e)&&!nT(e))throw"Transaction does not require redemption.";nj(e)?await oB({tx:e,signer:r,txUpdateCallback:n}):nT(e)&&await oU({tx:e,signer:r,txUpdateCallback:n}),r5("Redeem Teleport Retryable",{network:s})}catch(e){if((0,i0.$)(e))return;return(0,ei.Jc)("There was an error, here is more information: ".concat(e.message))}finally{o(!1)}}},[i,s,r,e,n]),isRedeeming:i}}(a,s),C=nN(a),y=nR(a)?(null==i?void 0:i.id)===C:(null==i?void 0:i.id)===a.destinationChainId,g=(0,V.useCallback)(async()=>{try{y||await (null==o?void 0:o(C)),tt(a)?await x():await p()}catch(t){var e;if((0,i0.$)(t))return;(0,ei.Jc)("Can't retry the deposit: ".concat(null!==(e=null==t?void 0:t.message)&&void 0!==e?e:t))}},[a,y,C,p,o,x]),w=(0,V.useCallback)(async()=>{try{if(y||await (null==o?void 0:o(a.destinationChainId)),a.isCctp)return await h();return await c()}catch(t){var e;if((0,i0.$)(t))return;(0,ei.Jc)("Can't claim ".concat("deposits"===n?"deposit":"withdrawal",": ").concat(null!==(e=null==t?void 0:t.message)&&void 0!==e?e:t))}},[c,h,y,o,a,n]);return nR(a)?f||b?(0,X.jsx)("span",{className:"animate-pulse",children:"Retrying..."}):(0,X.jsx)(eu,{"aria-label":"Retry transaction",variant:"primary",onClick:g,className:"w-14 bg-red-400 p-2 text-xs text-black",children:"Retry"}):"pending"===a.status||"Unconfirmed"===a.status||a.depositStatus===T.L1_PENDING||a.depositStatus===T.L2_PENDING?(0,X.jsxs)("div",{className:"flex flex-col text-center text-xs",children:[(0,X.jsx)("span",{children:"Time left:"}),(0,X.jsx)(o_,{tx:a})]}):"Confirmed"===a.status?a.isCctp&&a.resolvedAt?null:u||m?(0,X.jsx)("span",{className:"my-2 animate-pulse text-xs",children:"Claiming..."}):(0,X.jsx)(eu,{"aria-label":"Claim ".concat(aq(Number(a.value),{symbol:d})),variant:"primary",className:"w-14 rounded bg-green-400 p-2 text-xs text-black",onClick:w,children:"Claim"}):r?(0,X.jsx)(eu,{variant:"secondary",className:"w-14 border-white/30 text-xs",onClick:()=>{window.open(eo.sR,"_blank"),r5("Tx Error: Get Help Click",{network:l})},children:"Get help"}):null}var oG={src:"/arbitrum-token-bridge/_next/static/media/EthereumLogoRoundLight.c4e5a9b4.svg",height:20,width:20,blurWidth:0,blurHeight:0};let oH=e=>{var t,a;let{tx:r}=e,n=(t=t7(r.sourceChainId).data)?(t.flatMap(e=>e.tokens)||[]).reduce((e,t)=>(e[t.address.toLowerCase()]=t.logoURI,e),{}):{},s=r.tokenAddress?n[r.tokenAddress.toLowerCase()]:void 0;if(r.assetType===E.ETH){let e=e2.Jk[r.childChainId],t=null==e?void 0:null===(a=e.bridgeUiConfig.nativeTokenData)||void 0===a?void 0:a.logoUrl;return t?(0,X.jsx)("img",{className:"w-[20px]",alt:"Native token logo",src:t}):(0,X.jsx)(am(),{height:20,width:20,alt:"ETH logo",src:oG})}return s?(0,X.jsx)("img",{className:"w-[20px]",alt:r.asset+" logo",src:s}):(0,X.jsx)("div",{className:"h-[20px] w-[20px] rounded-full bg-white/20"})},oW=e=>{let{children:t,href:a,disabled:r=!1}=e,[n,s]=(0,V.useState)(!1);return r?t:(0,X.jsxs)(es,{href:a,onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),className:"arb-hover flex items-center space-x-2",children:[t,(0,X.jsx)(ef.u,{show:n,as:V.Fragment,children:(0,X.jsx)(ef.u.Child,{as:V.Fragment,enter:"ease-out duration-150",enterFrom:"translate-x-4 opacity-0",enterTo:"translate-x-0 opacity-100",leave:"ease-in duration-150",leaveFrom:"translate-x-0 opacity-100",leaveTo:"translate-x-4 opacity-0",children:(0,X.jsx)(r3.Z,{height:10})})})]})},oZ=e=>{let{tx:t}=e,{sourceChainId:a,destinationChainId:r}=t;if(sl(t))return(0,X.jsxs)(es,{href:"".concat((0,ez.jY)(a),"/tx/").concat(t.txId),"aria-label":"Transaction status",className:"arb-hover flex shrink-0 items-center space-x-1 text-red-400",children:[(0,X.jsx)(eV.Z,{height:14}),(0,X.jsx)("span",{children:"Failed"}),(0,X.jsx)(r3.Z,{height:10,className:"shrink-0"})]});if(so(t))return(0,X.jsxs)(es,{href:"".concat((0,ez.jY)(a),"/tx/").concat(t.txId),"aria-label":"Transaction status",className:"arb-hover flex shrink-0 items-center space-x-1 text-red-400",children:[(0,X.jsx)(eV.Z,{height:14}),(0,X.jsx)("span",{children:"Expired"}),(0,X.jsx)(r3.Z,{height:10,className:"shrink-0"})]});if(ss(t))return(0,X.jsxs)(es,{href:"".concat((0,ez.jY)(a),"/tx/").concat(t.txId),"aria-label":"Transaction status",className:"arb-hover flex items-center space-x-1 text-yellow-400",children:[(0,X.jsx)("div",{className:"h-[10px] w-[10px] rounded-full border border-yellow-400 "}),(0,X.jsx)("span",{children:"Pending"}),(0,X.jsx)(r3.Z,{height:10,className:"shrink-0"})]});if(si(t))return(0,X.jsxs)(es,{href:"".concat((0,ez.jY)(a),"/tx/").concat(t.txId),"aria-label":"Transaction status",className:"arb-hover flex items-center space-x-1 text-green-400",children:[(0,X.jsx)("div",{className:"h-[10px] w-[10px] shrink-0 rounded-full border border-green-400"}),(0,X.jsx)("span",{children:"Claimable"}),(0,X.jsx)(r3.Z,{height:10,className:"shrink-0"})]});let n=sC(t);return(0,X.jsx)(es,{href:n?"".concat((0,ez.jY)(r),"/tx/").concat(n):"","aria-label":"Transaction status",className:n?"arb-hover":"pointer-events-none",children:(0,X.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,X.jsx)(aZ.Z,{height:14,className:"shrink-0"}),(0,X.jsx)("span",{children:"Success"}),n&&(0,X.jsx)(r3.Z,{height:10,className:"shrink-0"})]})})};function oY(e){var t;let{tx:a,address:r,className:n=""}=e,{open:s}=la(),{sourceChainId:i,destinationChainId:o}=a,[l,d]=(0,V.useState)(eG()(a.createdAt).fromNow()),c=a.isCctp||a.isWithdrawal;(0,no.Z)(()=>d(eG()(a.createdAt).fromNow()),1e4);let u=tY(a.asset,{erc20L1Address:a.tokenAddress,chainId:a.sourceChainId}),h=(0,V.useMemo)(()=>{if(a.isCctp||!a.isWithdrawal){if(a.depositStatus===T.L1_FAILURE||a.depositStatus===T.EXPIRED)return!0;if(a.depositStatus===T.CREATION_FAILED)return a.assetType===E.ETH}return"Failure"===a.status},[a]);return(0,X.jsxs)("div",{"data-testid":"".concat(c?"claimable":"deposit","-row-").concat(a.txId,"-").concat(a.value).concat(a.asset),className:(0,el.m6)("relative mx-4 grid h-[60px] grid-cols-[140px_140px_140px_140px_100px_170px_140px] items-center justify-between border-b border-white/30 text-xs text-white",n),children:[(0,X.jsx)("div",{className:"pr-3 align-middle",children:l}),(0,X.jsx)("div",{className:"flex items-center pr-3 align-middle",children:(0,X.jsxs)(oW,{href:"".concat((0,ez.jY)(i),"/token/").concat(a.tokenAddress),disabled:!a.tokenAddress,children:[(0,X.jsx)(oH,{tx:a}),(0,X.jsx)("span",{className:"ml-2",children:aq(Number(a.value),{symbol:u})})]})}),(0,X.jsx)("div",{className:"flex items-center space-x-2",children:(0,X.jsxs)(oW,{href:"".concat((0,ez.jY)(i),"/address/").concat(a.sender),children:[(0,X.jsx)("span",{children:(0,X.jsx)(ib,{chainId:i,className:"h-5 w-5"})}),(0,X.jsx)("span",{className:"inline-block max-w-[55px] break-words",children:(0,ez.pp)(i)})]})}),(0,X.jsx)("div",{className:"flex items-center space-x-2",children:(0,X.jsxs)(oW,{href:"".concat((0,ez.jY)(o),"/address/").concat(null!==(t=a.destination)&&void 0!==t?t:a.sender),children:[(0,X.jsx)(ib,{chainId:o,className:"h-5 w-5"}),(0,X.jsx)("span",{className:"inline-block max-w-[55px] break-words",children:(0,ez.pp)(o)})]})}),(0,X.jsx)("div",{className:"pr-3 align-middle",children:(0,X.jsx)(oZ,{tx:a})}),(0,X.jsx)("div",{className:"flex justify-center px-3 align-middle",children:(0,X.jsx)(oF,{tx:a,isError:h,type:a.isWithdrawal?"withdrawals":"deposits",address:r})}),(0,X.jsx)("div",{className:"pl-2 align-middle",children:(0,X.jsx)(eu,{"aria-label":"Transaction details button",variant:"primary",className:"rounded border border-white p-2 text-xs text-white",onClick:()=>s(a),children:"See Details"})})]})}let oz=e=>{let{loading:t,isError:a,paused:r,resume:n,tabType:s}=e;return t?(0,X.jsx)(oX,{children:(0,X.jsx)(oJ,{})}):a?(0,X.jsxs)(oX,{children:[(0,X.jsx)("p",{children:"We seem to be having a difficult time loading your data, we're working hard to resolve it."}),(0,X.jsx)("p",{children:"Please give it a moment and then try refreshing the page."}),(0,X.jsxs)("p",{className:"mt-4",children:["If the problem persists, please file a ticket"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:eo.sR,children:"here"}),"."]})]}):r?(0,X.jsxs)(oX,{className:"space-y-4",children:[(0,X.jsxs)("p",{children:["There are no recent ",s," transactions."]}),(0,X.jsx)(oq,{onClick:n})]}):(0,X.jsx)(oX,{children:"Looks like no transactions here yet."})},oX=e=>{let{children:t,className:a=""}=e;return(0,X.jsx)("div",{className:(0,el.m6)("w-full flex-col items-center rounded bg-[#191919] p-4 text-center text-xs text-white",a),children:t})},oV=e=>{let{children:t,className:a}=e;return(0,X.jsx)("div",{className:(0,el.m6)("h-full w-full pb-2 pt-4 text-left text-sm font-normal",a),children:t})},oq=e=>(0,X.jsx)("button",{...e,className:"arb-hover text-xs",children:(0,X.jsxs)("div",{className:"flex space-x-1 rounded border border-white px-2 py-1",children:[(0,X.jsx)("span",{children:"Load more"}),(0,X.jsx)(oL.Z,{width:16})]})}),oJ=()=>(0,X.jsx)("span",{className:"animate-pulse",children:"Loading transactions..."}),oK=e=>{let{failedChainPairs:t}=e;return 0===t.length?null:(0,X.jsx)(a$,{content:(0,X.jsxs)("div",{className:"flex flex-col space-y-1 text-xs",children:[(0,X.jsx)("span",{children:"We were unable to fetch data for the following chain pairs:"}),(0,X.jsx)("ul",{className:"flex list-disc flex-col pl-4",children:t.map(e=>(0,X.jsxs)("li",{children:[(0,X.jsx)("b",{children:(0,ez.pp)(e.parentChainId)})," <> ",(0,X.jsx)("b",{children:(0,ez.pp)(e.childChainId)})]},"".concat(e.parentChainId,"-").concat(e.childChainId)))})]}),children:(0,X.jsx)(aY.Z,{height:20,className:"text-error"})})},oQ=e=>{let{transactions:t,address:a,loading:r,completed:n,error:s,failedChainPairs:i,resume:o,selectedTabIndex:l,oldestTxTimeAgoString:d}=e,c=(0,V.useRef)(null),u=0===t.length,h=0===l,[m,p]=(0,V.useState)(0),f=(0,V.useMemo)(()=>t.filter(e=>nL(e)&&ss(e)).length,[t]),x=(0,V.useMemo)(()=>{var e;return null===(e=t.filter(ss)[0])||void 0===e?void 0:e.txId},[t]);return((0,V.useEffect)(()=>{let e=c.current,t=new ResizeObserver(e=>{if(e[0]){let t=e[0].contentRect.height;p(Math.max(window.innerHeight-t-125-20,0))}});return e&&t.observe(e),()=>{e&&t.unobserve(e)}},[t.length]),u)?(0,X.jsx)(oz,{loading:r,isError:void 0!==s,paused:!r&&!n,resume:o,tabType:h?"pending":"settled"}):(0,X.jsxs)(oX,{className:"h-full overflow-x-auto p-0 text-left",children:[(0,X.jsxs)("div",{className:(0,el.m6)("w-[960px] rounded-tr-lg px-4 pt-4",h?"":"rounded-tl-lg"),ref:c,children:[r?(0,X.jsxs)("div",{className:"flex h-[28px] items-center space-x-2",children:[(0,X.jsx)(oK,{failedChainPairs:i}),(0,X.jsx)(oJ,{})]}):(0,X.jsxs)("div",{className:"flex items-center justify-between",children:[(0,X.jsxs)("div",{className:"flex items-center justify-start space-x-1",children:[(0,X.jsx)(oK,{failedChainPairs:i}),(0,X.jsxs)("span",{className:"text-xs",children:["Showing ",t.length," ",h?"pending":"settled"," transactions made in"," ",d,"."]})]}),!n&&(0,X.jsx)(oq,{onClick:o})]}),(0,X.jsx)("div",{children:f>0&&(0,X.jsx)(oP,{})})]}),(0,X.jsx)(ap.qj,{disableHeight:!0,children:()=>(0,X.jsxs)(ap.iA,{width:960,height:m,rowHeight:60,rowCount:t.length,headerHeight:52,headerRowRenderer:e=>(0,X.jsx)("div",{className:"mx-4 flex w-[920px] border-b border-white/30 text-white",children:e.columns}),className:"table-auto last:border-b-0",rowGetter:e=>{let{index:a}=e;return t[a]},rowRenderer:e=>{let{index:r,style:n}=e,s=t[r];if(!s)return null;let i=r+1===t.length,o="".concat(s.parentChainId,"-").concat(s.childChainId,"-").concat(s.txId),l=eG()().diff(eG()(s.createdAt),"second"),d=x&&x===s.txId;return(0,X.jsx)("div",{style:n,children:(0,X.jsx)(oY,{tx:s,className:(0,el.m6)(i&&"border-b-0",d&&l<=30&&"animate-blink bg-highlight"),address:a})},o)},children:[(0,X.jsx)(ap.sg,{label:"time",dataKey:"time",width:139,headerRenderer:()=>(0,X.jsx)(oV,{children:"TIME"})}),(0,X.jsx)(ap.sg,{label:"token",dataKey:"token",width:141,headerRenderer:()=>(0,X.jsx)(oV,{children:"TOKEN"})}),(0,X.jsx)(ap.sg,{label:"from",dataKey:"from",width:142,headerRenderer:()=>(0,X.jsx)(oV,{children:"FROM"})}),(0,X.jsx)(ap.sg,{label:"to",dataKey:"to",width:137,headerRenderer:()=>(0,X.jsx)(oV,{children:"TO"})}),(0,X.jsx)(ap.sg,{label:"status",dataKey:"status",width:100,headerRenderer:()=>(0,X.jsx)(oV,{children:"STATUS"})})]})})]})};var o$=a(13109),o0={src:"/arbitrum-token-bridge/_next/static/media/CctpLogoColor.79c70e47.svg",height:20,width:20,blurWidth:0,blurHeight:0},o2={src:"/arbitrum-token-bridge/_next/static/media/ArbitrumLogo.db93275c.svg",height:2500,width:2500,blurWidth:0,blurHeight:0};let o1=e=>{let{tx:t}=e;return(0,X.jsxs)("div",{className:"mt-2",children:[(0,X.jsxs)("div",{className:(0,el.m6)("flex items-center gap-2",nv(t)&&"text-white/60"),children:[nv(t)?(0,X.jsx)("div",{className:"m-[1px] h-[13px] w-[13px] shrink-0 rounded-full border border-white/60"}):(0,X.jsx)(aZ.Z,{height:15,className:"h-[15px] w-[15px] shrink-0 text-green-400"}),"Funds deposited to ",(0,ez.pp)(nN(t)),"."," "]}),(0,X.jsxs)("div",{className:(0,el.m6)("mt-1 flex items-center gap-2",nA(t)&&"text-white/60"),children:[nA(t)?(0,X.jsx)("div",{className:"m-[1px] h-[13px] w-[13px] shrink-0 rounded-full border border-white/60"}):(0,X.jsx)(aZ.Z,{height:15,className:"h-[15px] w-[15px] shrink-0 text-green-400"}),"Funds sent to ",(0,ez.pp)(t.destinationChainId),"."]})]})},o3=e=>{var t,a,r,n;let{tx:s,address:i}=e,o=null===(t=s.parentToChildMsgData)||void 0===t?void 0:t.childTxId,l=void 0!==o&&void 0===(null===(a=s.l2ToL3MsgData)||void 0===a?void 0:a.l2ForwarderRetryableTxID),d=null===(r=s.l2ToL3MsgData)||void 0===r?void 0:r.l2ChainId,c=nj(s),u=nA(s),{isTestnet:h}=(0,ez.CR)(s.sourceChainId),m=l||c,p=nT(s)||void 0!==(null===(n=s.l2ToL3MsgData)||void 0===n?void 0:n.l3TxID),f=(0,V.useMemo)(()=>(0,X.jsx)(oF,{type:"deposits",isError:!0,tx:s,address:i}),[s,i]),x=(0,V.useMemo)(()=>o&&d&&(0,X.jsx)(es,{href:"".concat((0,ez.jY)(d),"/tx/").concat(o),children:(0,X.jsx)(r3.Z,{height:12})}),[o,d]),b=c?f:x,C=sV(h),y=sq(h);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(o4,{pending:!m,done:m,text:"Wait ~".concat(sQ(C)),endItem:!m&&(0,X.jsx)(o_,{tx:s,firstLegOnly:!0,textAfterTime:"remaining"})}),(0,X.jsx)(o4,{done:l,failure:c,text:(0,X.jsx)(o6,{tx:s,isFirstRetryableLegFailed:c,l2ForwarderRequiresRedeem:u,l2ChainId:d}),endItem:b,extendHeight:u}),(0,X.jsx)(o4,{pending:l&&!p,done:p,text:"Wait ~".concat(sQ(y))})]})},o6=e=>{let{tx:t,isFirstRetryableLegFailed:a,l2ForwarderRequiresRedeem:r,l2ChainId:n}=e;if(a){let e=(0,ez.pp)(nN(t));return(0,X.jsxs)("div",{children:[(0,X.jsx)(o8,{networkName:e}),r&&(0,X.jsx)(o1,{tx:t})]})}return n?"Funds arrived on ".concat((0,ez.pp)(n)):"Funds arrived on intermediate chain"},o4=e=>{let{done:t=!1,claimable:a=!1,pending:r=!1,failure:n=!1,text:s,endItem:i=null,extendHeight:o=!1}=e,l="border-white/50",d="text-white/50 shrink-0",c="text-white/50";return(t||a)&&(l="border-green-400",d="text-green-400 shrink-0",c="text-white"),r&&(l="border-yellow-400",d="text-yellow-400 shrink-0",c="text-white"),n&&(l="border-red-400",d="text-red-400 shrink-0",c="text-white"),(0,X.jsxs)("div",{className:(0,el.m6)("my-3 flex h-3 items-center justify-between space-x-2",r&&"animate-pulse",o&&"h-auto items-start"),children:[(0,X.jsxs)("div",{className:(0,el.m6)("flex items-center space-x-3",o&&"items-start"),children:[t&&(0,X.jsx)(aZ.Z,{className:d,height:18}),n&&(0,X.jsx)(eV.Z,{className:d,height:18}),!t&&!n&&(0,X.jsx)("div",{className:(0,el.m6)("ml-[2px] h-[15px] w-[15px] shrink-0 rounded-full border",l)}),(0,X.jsx)("span",{className:c,children:s})]}),i]})},o5=e=>{let{tx:t,address:a}=e,r=sC(t),n=t.isWithdrawal?t.parentChainId:t.childChainId,s=tt(t)&&nm(t);return r?(0,X.jsx)(es,{href:"".concat((0,ez.jY)(n),"/tx/").concat(sC(t)),children:(0,X.jsx)(r3.Z,{height:12})}):!s&&nR(t)||s&&nT(t)?(0,X.jsx)(oF,{type:"deposits",isError:!0,tx:t,address:a}):null},o8=e=>{let{networkName:t}=e;return(0,X.jsxs)("div",{children:["Transaction failed on ",t,". You have 7 days to try again. After that, your funds will be"," ",(0,X.jsx)("span",{className:"font-bold text-red-400",children:"lost forever"}),"."]})},o9=e=>{let{tx:t,address:a}=e,{approximateDurationInMinutes:r}=sz(t),{sourceChainId:n}=t,s=(0,ez.pp)(n),i=void 0!==t.depositStatus&&[T.CREATION_FAILED,T.L1_FAILURE].includes(t.depositStatus),o=tt(t)&&nm(t),l=o?nT(t):!i&&sl(t),d=(0,V.useMemo)(()=>{let e=(0,ez.pp)(t.destinationChainId),a="Funds arrived on ".concat(e);return so(t)?"Transaction expired on ".concat(e):o&&nj(t)?a:nR(t)?(0,X.jsx)(o8,{networkName:e}):l?"Transaction failed on ".concat(e,"."):a},[t,l,o]);return(0,X.jsxs)("div",{className:"flex flex-col text-xs",children:[(0,X.jsx)(o4,{done:!i,failure:i,text:i?"Transaction failed on ".concat(s):"Transaction initiated on ".concat(s),endItem:(0,X.jsx)(es,{href:"".concat((0,ez.jY)(n),"/tx/").concat(t.txId),children:(0,X.jsx)(r3.Z,{height:12})})}),!tt(t)&&(0,X.jsx)(o4,{pending:ss(t),done:!ss(t)&&!i,text:"Wait ~".concat(sQ(r)),endItem:ss(t)&&(0,X.jsx)(o_,{tx:t,textAfterTime:"remaining"})}),tt(t)&&nm(t)&&(0,X.jsx)(o3,{tx:t,address:a}),(t.isCctp||t.isWithdrawal)&&(0,X.jsx)(o4,{done:sn(t),claimable:si(t),text:"Claim ".concat(t.isWithdrawal?"withdrawal":"deposit"),endItem:si(t)&&(0,X.jsx)(oF,{type:t.isWithdrawal?"withdrawals":"deposits",isError:!1,tx:t,address:a})}),(0,X.jsx)(o4,{done:sn(t),failure:so(t)||l,text:d,endItem:(0,X.jsx)(o5,{tx:t,address:a})})]})},o7=e=>{let{children:t,header:a}=e;return(0,X.jsxs)("div",{className:"my-2 flex w-full flex-col rounded border border-white/30 bg-black p-3 font-light text-white",children:[a&&(0,X.jsx)("h4",{className:"mb-2 text-xs uppercase text-white/60",children:a}),t]})},le=e=>{var t,a;let{address:r}=e,{tx:n,isOpen:s,close:i,reset:o}=la(),{ethToUSD:l}=rw(),{transactions:d}=sL(r),c=(0,V.useMemo)(()=>n?d.find(e=>e.parentChainId===n.parentChainId&&e.childChainId===n.childChainId&&e.txId===n.txId):null,[d,n]);if(!c||!r)return null;let u=tY(c.asset,{erc20L1Address:c.tokenAddress,chainId:c.sourceChainId}),h=!(0,ez.CR)(c.parentChainId).isTestnet&&c.asset===eo.Xx.symbol,m=r.toLowerCase()!==(null===(t=c.sender)||void 0===t?void 0:t.toLowerCase()),p=r.toLowerCase()!==(null===(a=c.destination)||void 0===a?void 0:a.toLowerCase()),{sourceChainId:f,destinationChainId:x}=c,b=(0,ez.pp)(f),C=(0,ez.pp)(x);return(0,X.jsx)(ef.u,{show:s,as:V.Fragment,children:(0,X.jsxs)(ex.V,{as:"div",open:void 0!==c,className:"relative z-40",onClose:i,children:[(0,X.jsx)(ef.u.Child,{as:V.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0",enterTo:"opacity-70",leave:"ease-in duration-200",leaveFrom:"opacity-70",leaveTo:"opacity-0",children:(0,X.jsx)("div",{className:"fixed inset-0 bg-black","aria-hidden":"true"})}),(0,X.jsx)("div",{className:"fixed inset-0 overflow-y-auto",children:(0,X.jsx)("div",{className:"flex min-h-full items-center justify-center text-center sm:p-4",children:(0,X.jsx)(ef.u.Child,{as:V.Fragment,enter:"ease-out duration-200",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",afterLeave:o,children:(0,X.jsxs)(ex.V.Panel,{className:"h-screen w-screen transform overflow-hidden rounded border border-white/10 bg-dark p-4 text-left align-middle shadow shadow-white/10 transition-all sm:h-auto sm:w-full sm:max-w-[488px]",children:[(0,X.jsxs)(ex.V.Title,{className:"mb-4 flex items-center justify-between text-lg font-light text-white",as:"h3",children:["Transaction details",(0,X.jsx)("button",{onClick:i,className:"arb-hover","aria-label":"Close transaction details popup",children:(0,X.jsx)(eb.Z,{height:20})})]}),(0,X.jsx)(o7,{children:(0,X.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,X.jsxs)("div",{className:"flex justify-between text-xs text-white",children:[(0,X.jsx)("span",{children:eG()(c.createdAt).format("MMMM DD, YYYY")}),(0,X.jsx)("span",{children:eG()(c.createdAt).format("h:mma")})]}),(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(oH,{tx:c}),(0,X.jsx)("span",{children:aq(Number(c.value),{symbol:u})}),h&&(0,X.jsx)("span",{className:"text-white/70",children:aX(l(Number(c.value)))})]})]})}),(0,X.jsx)(o7,{header:"Network",children:(0,X.jsxs)("div",{className:"flex space-x-4",children:[(0,X.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,X.jsx)(ib,{chainId:f,className:"h-5 w-5"}),(0,X.jsx)("span",{children:b})]}),(0,X.jsx)(o$.Z,{width:16}),(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(ib,{chainId:x,className:"h-5 w-5"}),(0,X.jsx)("span",{children:C})]})]})}),(0,X.jsx)(o7,{header:"Bridge",children:(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(am(),{alt:"Bridge logo",src:c.isCctp?o0:o2,width:16,height:16}),c.isCctp?(0,X.jsxs)("span",{children:["CCTP"," ",(0,X.jsx)("span",{className:"text-white/70",children:"(Cross-Chain Transfer Protocol)"})]}):(0,X.jsx)("span",{children:"Arbitrum's native bridge"})]})}),(m||p)&&(0,X.jsxs)(o7,{header:"Custom Address",children:[m&&(0,X.jsxs)("span",{className:"text-xs",children:["Funds received from"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat((0,ez.jY)(f),"/address/").concat(c.sender),"aria-label":"Custom address: ".concat(ad(String(c.sender))),children:ad(String(c.sender))})]}),p&&(0,X.jsxs)("span",{className:"text-xs",children:["Funds sent to"," ",(0,X.jsx)(es,{className:"arb-hover underline",href:"".concat((0,ez.jY)(x),"/address/").concat(c.destination),"aria-label":"Custom address: ".concat(ad(String(c.destination))),children:ad(String(c.destination))})]})]}),(0,X.jsx)(o7,{children:(0,X.jsx)(o9,{tx:c,address:r})}),!sn(c)&&(0,X.jsx)("div",{className:"flex justify-end",children:(0,X.jsx)(es,{href:eo.sR,children:(0,X.jsx)(eu,{variant:"secondary",className:"border-white/30 text-xs",children:"Get help"})})})]})})})})]})})},lt="text-white px-3 mr-2 border-b-2 ui-selected:border-white ui-not-selected:border-transparent ui-not-selected:text-white/80 arb-hover",la=(0,tw.Ue)(e=>({tx:null,isOpen:!1,open:t=>{e(()=>({tx:t})),setTimeout(()=>{e(()=>({isOpen:!0}))},0)},close:()=>e({isOpen:!1}),reset:()=>e({tx:null})})),lr=e=>{let{props:t}=e,{transactions:a,address:r}=t,n=(0,V.useMemo)(()=>{var e;return eG()(null===(e=a[a.length-1])||void 0===e?void 0:e.createdAt).toNow(!0)},[a]),s=(0,V.useMemo)(()=>a.reduce((e,t)=>((sn(t)||so(t))&&e.settled.push(t),ss(t)&&e.pending.push(t),si(t)&&e.claimable.push(t),sl(t)&&e.failed.push(t),e),{settled:[],pending:[],claimable:[],failed:[]}),[a]),i=[...s.failed,...s.pending,...s.claimable],o=s.settled;return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)(r$.O.Group,{as:"div",className:"h-full overflow-hidden",children:[(0,X.jsxs)(r$.O.List,{className:"mb-4 flex border-b border-white/30",children:[(0,X.jsx)(r0,{"aria-label":"show pending transactions",className:lt,children:(0,X.jsx)("span",{className:"text-xs md:text-base",children:"Pending transactions"})}),(0,X.jsx)(r0,{"aria-label":"show settled transactions",className:lt,children:(0,X.jsx)("span",{className:"text-xs md:text-base",children:"Settled transactions"})})]}),(0,X.jsxs)(r$.O.Panels,{className:"h-full overflow-hidden",children:[(0,X.jsx)(r$.O.Panel,{className:"h-full",children:(0,X.jsx)(oQ,{...t,address:r,transactions:i,selectedTabIndex:0,oldestTxTimeAgoString:n})}),(0,X.jsx)(r$.O.Panel,{className:"h-full",children:(0,X.jsx)(oQ,{...t,address:r,transactions:o,selectedTabIndex:1,oldestTxTimeAgoString:n})})]})]},r),(0,X.jsx)(le,{address:r})]})};var ln=a(26992),ls={src:"/arbitrum-token-bridge/_next/static/media/arrows.e5bc7004.svg",height:24,width:24,blurWidth:0,blurHeight:0};let li=e=>{let{numClaimableTransactions:t,numRetryablesToRedeem:a,numPendingTransactions:r}=e,n="claim ".concat(t," ").concat(t>1?"transactions":"transaction"),s="retry ".concat(a," ").concat(a>1?"transactions":"transaction"),i="".concat(r," pending ").concat(r>1?"transactions":"transaction");return t>0&&a>0?(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(ep.Z,{width:20}),(0,X.jsxs)("span",{children:["Time sensitive: You must"," ",(0,X.jsx)("span",{className:"font-bold",children:s})," and"," ",(0,X.jsx)("span",{className:"font-bold",children:n})]})]}):a>0?(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(ep.Z,{width:20}),(0,X.jsxs)("span",{children:["You must"," ",(0,X.jsx)("span",{className:"font-bold",children:s})]})]}):t>0?(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(ep.Z,{width:20}),(0,X.jsxs)("span",{children:["You must"," ",(0,X.jsx)("span",{className:"font-bold",children:n})]})]}):r>0?(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(am(),{src:ls,width:20,height:20,alt:"Transactions"}),(0,X.jsxs)("span",{children:["You have"," ",(0,X.jsx)("span",{className:"font-bold",children:i})]})]}):(0,X.jsxs)("div",{className:"flex space-x-2",children:[(0,X.jsx)(ln.Z,{width:20}),(0,X.jsx)("span",{children:"See transaction history"})]})},lo=()=>{let{address:e}=(0,J.mA)(),{openTransactionHistoryPanel:t}=eN(),{transactions:a}=sL(e),{numClaimableTransactions:r,numRetryablesToRedeem:n,numPendingTransactions:s}=(0,V.useMemo)(()=>a.reduce((e,t)=>(si(t)&&(e.numClaimableTransactions+=1),nR(t)&&(e.numRetryablesToRedeem+=1),ss(t)&&(e.numPendingTransactions+=1),e),{numClaimableTransactions:0,numRetryablesToRedeem:0,numPendingTransactions:0}),[a]),i=(0,V.useMemo)(()=>n>0?"bg-red-700":r>0?"bg-lime-dark":s>0?"bg-cyan-dark":"bg-gray-1 text-white/70",[r,s,n]);return(0,X.jsx)(eu,{className:(0,el.m6)("mb-3 mt-3 w-full rounded-none border-x-0 border-white/30 p-3 text-left sm:rounded sm:border md:mt-0",i),onClick:t,textLeft:!0,showArrow:!0,truncate:!1,variant:"primary","aria-label":"Open Transaction History",children:(0,X.jsx)(li,{numClaimableTransactions:r,numRetryablesToRedeem:n,numPendingTransactions:s})})};function ll(){let{closeTransactionHistoryPanel:e}=eN(),{layout:{isTransactionHistoryPanelVisible:t}}=eT(),{address:a}=(0,J.mA)(),r=sL(a,{runFetcher:!0}),{transactions:n,updatePendingTransaction:s}=r,i=(0,V.useMemo)(()=>n.filter(ss),[n]);return(0,V.useEffect)(()=>{let e=setInterval(()=>{i.forEach(s)},1e4);return()=>clearInterval(e)},[i,s]),(0,X.jsx)(oo,{isOpen:t,onClose:e,scrollable:!1,panelClassNameOverrides:"pb-8",children:(0,X.jsx)(lr,{props:{...r,address:a}})})}function ld(){let[e]=(0,er._)(oh);return(0,X.jsxs)(X.Fragment,{children:[(0,X.jsxs)("div",{className:"main-panel mx-auto flex w-full flex-col sm:max-w-[600px] sm:pb-12 sm:pt-6",children:[(0,X.jsx)(lo,{}),(0,X.jsx)(oi,{})]}),(0,X.jsx)(ll,{}),(0,X.jsx)(oD,{}),e&&(0,X.jsx)(of,{})]})}function lc(e){let{tokenBridgeParams:t}=e,a=eU(),r=ng(t);return(0,V.useEffect)(()=>{a.app.setArbTokenBridge(r)},[r]),(0,X.jsx)(X.Fragment,{})}let lu=()=>{let{app:{arbTokenBridge:e,selectedToken:t}}=eB(),{address:a}=(0,J.mA)(),r=(0,eY.Z)(e),{updateUSDCBalances:n}=aM({walletAddress:a});return(0,V.useEffect)(()=>{let e=setInterval(()=>{if(n(),t){var e,a;null==r||null===(a=r.current)||void 0===a||null===(e=a.token)||void 0===e||e.updateTokenData(t.address)}},1e4);return()=>clearInterval(e)},[t]),(0,X.jsx)(X.Fragment,{})},lh=()=>{let{app:{arbTokenBridge:e,arbTokenBridgeLoaded:t}}=eB(),{address:a}=(0,J.mA)(),[r]=ty(),{childChain:n}=ae(r);return(0,V.useEffect)(()=>{t&&a&&t6.filter(e=>!!e.isArbitrumTokenTokenList||e.originChainID===n.id&&e.isDefault).forEach(t=>{t8(t,e)})},[a,n.id,t]),(0,X.jsx)(X.Fragment,{})},lm=()=>{let[e]=ty(),t=(0,e2.kG)({mainnet:!0,testnet:!1}).find(t=>t.chainId===e.destinationChain.id);if(!t)return{};let a=(0,aR.f)(t.chainId).color;return{borderColor:a,backgroundColor:"".concat(a,"40")}};var lp=a(90834),lf=a(25237),lx=a.n(lf),lb=a(20908),lC=a(6824),ly=a(94562),lg=a(47704),lw=a.n(lg);function lv(){"undefined"!=typeof indexedDB&&"undefined"!=typeof localStorage&&'"walletConnect"'===localStorage.getItem("wagmi.wallet")&&(indexedDB.deleteDatabase("WALLET_CONNECT_V2_INDEXED_DB"),setTimeout(()=>window.location.reload(),100))}let lA={name:null};async function lj(e,t){let a=lw().fromEthersProvider({uns:{locations:{Layer1:{network:"mainnet",provider:e},Layer2:{network:"mainnet",provider:e}}}});try{return await a.reverse(t)}catch(e){return null}}let lT=()=>{let e=(0,J.yL)({chainId:1}),{address:t}=(0,J.mA)(),{disconnect:a}=(0,J.qL)({onSettled:lv}),{chain:r}=(0,J.LN)(),{openTransactionHistoryPanel:n}=eN(),[,s]=(0,e$.gw)(),[i,o]=(0,V.useState)(lA),{data:l}=(0,J.F6)({address:t,chainId:1}),{data:d}=(0,J.c9)({address:t,chainId:1});(0,V.useEffect)(()=>{t&&a();async function a(){o({name:await lj(e,t)})}},[t,e]);let c=(0,V.useMemo)(()=>void 0===t?"":ad(t),[t]);return(0,V.useEffect)(()=>{t&&a();async function a(){o({name:await lj(e,t)})}},[t,e]),{address:t,accountShort:c,ensName:l,ensAvatar:d,openTransactionHistory:function(){n(),r5("Open Transaction History Click",{pageElement:"Header"})},disconnect:a,udInfo:i,chain:r,setQueryParams:s}};var lN=a(20620),lk=a.n(lN);function lE(e){let{size:t,name:a}=e;return(0,X.jsx)(lk(),{size:t,name:null==a?void 0:a.toLowerCase(),variant:"beam",colors:["#11365E","#EDD75A","#73B06F","#0C8F8F","#405059"]})}let lI=()=>{var e;let{address:t,accountShort:a,ensName:r,ensAvatar:n,openTransactionHistory:s,disconnect:i,udInfo:o,chain:l,setQueryParams:d}=lT();return(0,X.jsxs)(lp.MenuItemExpandable,{title:null!==(e=null!=r?r:o.name)&&void 0!==e?e:a,isMobile:!0,Icon:(0,X.jsx)(aQ,{src:n||void 0,className:"h-6 w-6 rounded-full sm:h-8 sm:w-8",fallback:(0,X.jsx)(lE,{size:24,name:t})}),children:[(0,X.jsx)(lp.MenuItem,{title:"Transactions",Icon:(0,X.jsx)(ln.Z,{className:"h-[18px] w-[18px]"}),onClick:s,isMobile:!0}),l&&(0,X.jsx)(lp.MenuItem,{title:"Explorer",Icon:(0,X.jsx)(r3.Z,{className:"h-[18px] w-[18px]"}),href:"".concat((0,ez.jY)(l.id),"/address/").concat(t),isMobile:!0}),(0,X.jsx)(lp.MenuItem,{title:"Settings",Icon:(0,X.jsx)(lC.Z,{className:"h-[18px] w-[18px]"}),onClick:()=>d({settingsOpen:!0}),isMobile:!0}),(0,X.jsx)(lp.MenuItem,{title:"Disconnect",Icon:(0,X.jsx)(ly.Z,{className:"h-[18px] w-[18px]"}),onClick:()=>i(),isMobile:!0})]})},lS=lx()(()=>Promise.resolve().then(a.bind(a,90834)).then(e=>({default:e.MobileSidebar})),{loadableGenerated:{webpack:()=>[null]},ssr:!1}),lD=()=>{let e=(0,lb.U0)(),{isConnected:t}=(0,J.mA)();return(0,X.jsx)("div",{className:"flex flex-col justify-center sm:hidden",children:(0,X.jsx)(lS,{logger:e,activeMenu:"Bridge",mobileToggleButtonClassOverrides:"bg-transparent",children:t?(0,X.jsx)(lI,{}):(0,X.jsx)(Q.NL.Custom,{children:e=>{let{openConnectModal:t}=e;return(0,X.jsx)(lp.MenuItem,{title:"Connect Wallet",onClick:t,Icon:(0,X.jsx)(oL.Z,{className:"h-[24px] w-[24px] stroke-1"}),className:"border-lime-dark bg-lime-dark py-3",isMobile:!0})}})})})};function lL(e){let{children:t}=e,[{sourceChain:a}]=ty(),{isTestnet:r}=(0,ez.CR)(a.id),n=lm();return(0,X.jsxs)("header",{className:(0,el.m6)("sticky top-0 z-10 flex h-12 w-full justify-center bg-black/70 px-4 backdrop-blur sm:relative sm:h-16 sm:px-6 sm:backdrop-blur-none [body.menu-open_&]:fixed",r?"sm:border-b sm:border-white sm:bg-white/20":"sm:bg-transparent",n.borderColor?"sm:border-b":""),style:n,children:[(0,X.jsxs)("div",{className:"flex w-full items-center justify-end gap-2 text-white",children:[(0,X.jsx)(am(),{className:"mr-auto h-6 w-6 sm:hidden",src:o2,alt:"Arbitrum"}),r&&(0,X.jsx)("span",{className:"grow font-medium",children:"TESTNET MODE"}),(0,X.jsx)("div",{className:"hidden sm:flex",children:t})]}),(0,X.jsx)(lD,{})]})}var lM=a(79522),lR=a(80794);function lP(e){var t,a;let{isCorrectNetworkConnected:r=!0}=e,{address:n,accountShort:s,ensName:i,ensAvatar:o,openTransactionHistory:l,disconnect:d,udInfo:c,chain:u,setQueryParams:h}=lT(),[{sourceChain:m}]=ty(),{isTestnet:p}=(0,ez.CR)(m.id),[,f]=(0,lR.Z)(),x=(0,ih.Z)("(max-width: 639px)"),{isSmartContractWallet:b,isLoading:C}=aT(),y=lm(),[g,w]=(0,V.useState)(!1),v="arb-hover flex w-full flex-row items-center space-x-2 px-12 py-2 text-sm sm:text-sm text-gray-4 sm:text-white hover:bg-ocl-blue sm:px-4 sm:py-1";return(0,X.jsxs)(iT.J,{className:"relative w-full px-4 sm:w-max sm:p-0",children:[(0,X.jsxs)(iT.J.Button,{className:(0,el.m6)("flex w-full flex-row items-center justify-start gap-3 px-[12px] py-[7px] transition-[background] duration-300","ui-open:bg-white/20 ui-not-open:bg-transparent ui-not-open:hover:bg-white/20","sm:w-max sm:rounded sm:border sm:px-2 sm:py-1",p?"sm:border-white sm:ui-not-open:bg-white/20":"sm:border-gray-1 sm:ui-not-open:bg-gray-1 sm:ui-not-open:hover:bg-white/10"),style:y,role:"button","aria-label":"Account Header Button",children:[(0,X.jsx)(aQ,{src:o||void 0,className:"h-6 w-6 rounded-full sm:h-8 sm:w-8",fallback:(0,X.jsx)(lE,{size:x?24:40,name:n})}),(0,X.jsxs)("span",{className:"flex flex-col text-justify text-base leading-extra-tight text-gray-4 sm:text-white",children:[null!==(t=null!=i?i:c.name)&&void 0!==t?t:s,b&&!C&&(0,X.jsx)("span",{className:"text-[10px]",children:"Smart Contract Wallet"})]}),(0,X.jsx)(aw.Z,{className:"ml-auto h-[16px] w-[16px] text-gray-4 transition duration-200 sm:text-white"})]}),(0,X.jsx)(ak,{className:"w-full sm:absolute sm:top-0",children:(0,X.jsxs)(iT.J.Panel,{className:"flex w-full flex-col overflow-hidden rounded pb-2 sm:absolute sm:top-0 sm:bg-dark",children:[g&&(0,X.jsx)("span",{className:"absolute right-2 top-4 z-50 text-xs text-white",children:"Copied to clipboard!"}),(0,X.jsxs)("div",{className:"relative hidden w-full flex-row items-center px-2 pb-2 pt-3 sm:flex",children:[(0,X.jsx)("div",{className:"absolute inset-0 flex h-8 w-full flex-col items-center overflow-hidden bg-dark text-center",children:(0,X.jsx)("div",{className:"scale-400 blur-2xl filter",children:(0,X.jsx)(aQ,{className:"h-100 w-100 rounded-full",src:o||void 0,fallback:(0,X.jsx)(lE,{size:200,name:n})})})}),(0,X.jsxs)("div",{className:"relative flex flex-row items-center gap-2",children:[(0,X.jsx)("div",{className:"avatar-container box-content rounded-full border-[3px] border-dark",children:(0,X.jsx)(aQ,{src:o||void 0,className:"h-[54px] w-[54px] rounded-full",fallback:(0,X.jsx)(lE,{size:54,name:n})})}),(0,X.jsxs)("button",{className:"flex translate-y-1 flex-row items-center gap-1 text-white/70 hover:text-white",onClick:()=>{var e,t,a;return a=null!==(t=null!==(e=null!=i?i:c.name)&&void 0!==e?e:n)&&void 0!==t?t:"",void(w(!0),f(a),setTimeout(()=>w(!1),1e3))},children:[(0,X.jsx)("span",{className:"max-w-[10rem] overflow-hidden text-ellipsis text-sm",children:null!==(a=null!=i?i:c.name)&&void 0!==a?a:s}),(0,X.jsx)(lM.Z,{className:"h-3 w-3"})]})]})]}),(0,X.jsxs)("div",{className:"flex w-full flex-col justify-between sm:flex-col sm:items-end sm:px-0",children:[r&&(0,X.jsxs)("button",{className:v,onClick:l,children:[(0,X.jsx)(ln.Z,{className:"h-3 w-3 text-white/60 sm:text-white"}),(0,X.jsx)("span",{children:"Transactions"})]}),r&&u&&(0,X.jsxs)(es,{href:"".concat((0,ez.jY)(u.id),"/address/").concat(n),className:v,children:[(0,X.jsx)(r3.Z,{className:"h-3 w-3 text-white/60 sm:text-white"}),(0,X.jsx)("span",{children:"Explorer"})]}),r&&(0,X.jsxs)("button",{className:v,onClick:()=>h({settingsOpen:!0}),children:[(0,X.jsx)(lC.Z,{className:"h-3 w-3 text-white/60 sm:text-white"}),(0,X.jsx)("span",{children:"Settings"})]}),(0,X.jsxs)("button",{className:v,onClick:()=>d(),children:[(0,X.jsx)(ly.Z,{className:"h-3 w-3 text-white/60 sm:text-white"}),(0,X.jsx)("span",{children:"Disconnect"})]})]})]})})]})}var l_=a(1072),lO=a(6395),lB=a(23474),lU=a(49028),lF=a(6990);let lG=(0,ez.ud)().map(e=>e1(e.chainId)),lH=(0,e2.kG)().map(e=>e1(e.chainId)),lW=ac?[eQ.RJ,eQ.yX,e0.ZT,e0.Fo,e0.Zk,e0.MF,...lH,e0.is,e0.Mx,e0.Nk,...lG]:[eQ.RJ,eQ.yX,e0.ZT,e0.Fo,e0.Zk,e0.MF,...lH,...lG],lZ="bc0973e683fa66a9a2013a40559f1667";lZ||console.error("NEXT_PUBLIC_WALLETCONNECT_PROJECT_ID variable missing.");let lY={appName:"Bridge to Arbitrum",projectId:lZ};(v=Y||(Y={})).Ethereum="mainnet",v.ArbitrumOne="arbitrum-one",v.ArbitrumNova="arbitrum-nova",v.Sepolia="sepolia",v.ArbitrumSepolia="arbitrum-sepolia";var lz=a(34406);async function lX(e){if(lz.env.NEXT_PUBLIC_IS_E2E_TEST)return!1;let t=new URLSearchParams({address:e}),a=await fetch("/api/screenings?"+t,{method:"GET",headers:{"Content-Type":"application/json"}});return!!a.ok&&(await a.json()).blocked}async function lV(e){let t=await lX(e);return t&&r5("Address Block",{address:e}),t}function lq(){return(0,X.jsx)(Q.NL.Custom,{children:e=>{let{openConnectModal:t}=e;return(0,X.jsx)("div",{className:"w-full px-4 sm:px-0",children:(0,X.jsxs)("button",{onClick:t,type:"button",className:(0,el.m6)("arb-hover flex w-full flex-row items-center border border-lime-dark bg-lime-dark px-[12px] py-2 text-white","sm:min-w-[198px] sm:rounded sm:bg-lime-dark sm:py-1 sm:pl-2 sm:pr-3 sm:text-base sm:font-normal"),children:[(0,X.jsx)(oL.Z,{className:"mr-3 h-[24px] w-[24px] stroke-1 sm:h-8 sm:w-8"}),"Connect Wallet"]})})}})}let lJ=(0,$.Z)((0,K.$)(),{colors:{accentColor:"var(--blue-link)"},fonts:{body:"Roboto, sans-serif"}}),lK=()=>{let e=eU(),{app:{selectedToken:t}}=eB(),[a]=ty(),{childChain:r,childChainProvider:n,parentChain:s,parentChainProvider:i}=ae(a),o=a_({provider:n});i4();let[l,d]=(0,V.useState)(null);return((0,V.useEffect)(()=>{var a;if(!o.isCustom)return;let r=null==t?void 0:t.address.toLowerCase(),n=null==t?void 0:null===(a=t.l2Address)||void 0===a?void 0:a.toLowerCase();(r===o.address||n===o.address)&&e.app.setSelectedToken(null)},[t,o]),(0,V.useEffect)(()=>{d(null),e.app.setConnectionState(en.em.LOADING);let{isArbitrum:t,isOrbitChain:o}=(0,ez.CR)(a.sourceChain.id),l=(0,ez.CR)(s.id).isEthereumMainnetOrTestnet;e.app.reset(a.sourceChain.id),e.app.setChainIds({l1NetworkChainId:s.id,l2NetworkChainId:r.id}),l&&t||o?(console.info("Withdrawal mode detected:"),e.app.setConnectionState(en.em.L2_CONNECTED)):(console.info("Deposit mode detected:"),e.app.setConnectionState(en.em.L1_CONNECTED)),d({l1:{network:s,provider:i},l2:{network:r,provider:n}})},[a.sourceChain.id,s.id,r.id,s,r,i,n]),(0,V.useEffect)(()=>{ee.Z.get("https://raw.githubusercontent.com/OffchainLabs/arb-token-lists/aff40a59608678cfd9b034dd198011c90b65b8b6/src/WarningList/warningTokens.json").then(t=>{e.app.setWarningTokens(t.data)}).catch(e=>{console.warn("Failed to fetch warning tokens:",e)})},[]),l)?(0,X.jsx)(lc,{tokenBridgeParams:l}):null};function lQ(e){try{let t=new URL(e);return"".concat(t.protocol,"//").concat(t.hostname)}catch{return""}}function l$(){let[e]=ty(),{parentChain:t,childChain:a}=ae(e),{address:r,isConnected:n,connector:s}=(0,J.mA)(),{isBlocked:i}=function(){let{address:e}=(0,J.mA)(),{chain:t}=(0,J.LN)(),a=(0,V.useMemo)(()=>{var a;return void 0===e||(0,ez.CR)(null!==(a=null==t?void 0:t.id)&&void 0!==a?a:0).isTestnet?null:[e.toLowerCase(),"useAccountIsBlocked"]},[e,null==t?void 0:t.id]),{data:r}=(0,tv.Z)(a,e=>{let[t]=e;return lV(t)});return{isBlocked:r}}(),[o]=(0,er._)(eo.Yc,!1),{openConnectModal:l}=(0,Q.We)();return((0,V.useEffect)(()=>{o&&!n&&(null==l||l())},[n,o,l]),(0,V.useEffect)(()=>{var e;n&&s&&r5("Connect Wallet Click",{walletName:function(e){switch(e){case"MetaMask":case"Coinbase Wallet":case"Trust Wallet":case"Safe":case"Injected":case"Ledger":return e;case"WalletConnectLegacy":case"WalletConnect":return"WalletConnect";default:return"Other"}}(s.name)}),q.YA("wallet.name",null!==(e=null==s?void 0:s.name)&&void 0!==e?e:"")},[n,s]),(0,V.useEffect)(()=>{var e,r;q.YA("network.parent_chain_id",t.id),q.YA("network.parent_chain_rpc_url",lQ(null!==(e=ez.Cl[t.id])&&void 0!==e?e:"")),q.YA("network.child_chain_id",a.id),q.YA("network.child_chain_rpc_url",lQ(null!==(r=ez.Cl[a.id])&&void 0!==r?r:""))},[a.id,t.id]),o)?n?r&&i?(0,X.jsx)(eg,{address:r,isOpen:!0,closeable:!1,onClose:()=>{}}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(lL,{children:(0,X.jsx)(lP,{})}),(0,X.jsx)(lh,{}),(0,X.jsx)(lu,{}),(0,X.jsx)(lK,{}),(0,X.jsx)(ld,{})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(lL,{children:(0,X.jsx)(lq,{})}),(0,X.jsxs)("div",{className:"flex flex-col items-start gap-4 px-6 pb-8 pt-12 text-white",children:[(0,X.jsx)("p",{className:"text-5xl",children:"No wallet connected"}),(0,X.jsx)("p",{className:"text-xl",children:"Please connect your wallet to use the bridge."})]})]}):(0,X.jsxs)(X.Fragment,{children:[(0,X.jsx)(lL,{}),(0,X.jsx)(em,{})]})}let{wagmiConfigProps:l0,rainbowKitProviderProps:l2}=function(e){let{chains:t,provider:a}=(0,rA.QB)(function(e){let t=function(e){switch(e){case"mainnet":return ez.a_.Ethereum;case"arbitrum-one":return ez.a_.ArbitrumOne;case"arbitrum-nova":return ez.a_.ArbitrumNova;case"sepolia":return ez.a_.Sepolia;case"arbitrum-sepolia":return ez.a_.ArbitrumSepolia}}(e);return[...lW.filter(e=>e.id===t),...lW.filter(e=>e.id!==t)]}(null!==e&&Object.values(Y).includes(e)?e:"mainnet"),[(0,lF.iu)(),(0,l_.I)()]),{wallets:r}=(0,lO.wo)({...lY,chains:t}),n=(0,lO.a3)([...r,{groupName:"More",wallets:[(0,lB.p)({chains:t,projectId:lZ}),(0,lU.c)({chains:t,projectId:lZ})]}]);return{rainbowKitProviderProps:{appInfo:lY,chains:t},wagmiConfigProps:{client:(0,J.eI)({autoConnect:!0,connectors:n,provider:a})}}}(new URLSearchParams(window.location.search).get("sourceChain"));function l1(){let{address:e}=(0,J.mA)(),[t,a]=(0,V.useState)(!1),[r,n]=(0,V.useState)(!1),{disconnect:s}=(0,J.qL)({onSettled:lv}),[{sourceChain:i,destinationChain:o},l]=(0,e$.gw)(),{chain:d}=(0,J.LN)(),c=(0,V.useCallback)(()=>{if(void 0===d)return;let{sourceChainId:e,destinationChainId:t}=tC({sourceChainId:d.id,destinationChainId:void 0});l({sourceChain:e,destinationChain:t})},[d,l]);return(0,V.useEffect)(()=>{(async function(){if(void 0!==d&&e&&await e7(e,d.id)&&i!==d.id){let e=(0,ez.pp)(d.id);c(),window.alert("You're connected to the app with a smart contract wallet on ".concat(e,". In order to properly enable transfers, the app will now reload.\n\nPlease reconnect after the reload.")),s()}})()},[e,d,s,l,c,i]),(0,V.useEffect)(()=>{t||void 0!==i||void 0!==o||a(!0)},[t,i,o]),(0,V.useEffect)(()=>{d&&t&&!r&&(c(),n(!0))},[d,t,r,l,c]),null}function l3(){let[e]=(0,V.useState)((0,et.bk)(eO));return(0,X.jsx)(ea.zt,{value:e,children:(0,X.jsx)(e$.Zr,{children:(0,X.jsx)(J.eM,{...l0,children:(0,X.jsxs)(Q.pj,{theme:lJ,...l2,children:[(0,X.jsx)(l1,{}),(0,X.jsx)(ej,{children:(0,X.jsx)(l$,{})})]})})})})}Object.keys(localStorage).forEach(e=>{("wagmi.requestedChains"===e||"wagmi.store"===e||e.startsWith("wc@2"))&&localStorage.removeItem(e)})},56962:function(){},38087:function(){},50633:function(){},30488:function(){}}]);
//# sourceMappingURL=4465.1c1c68e1ad1ff6ce.js.map